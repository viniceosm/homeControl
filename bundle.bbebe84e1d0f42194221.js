/*! For license information please see bundle.bbebe84e1d0f42194221.js.LICENSE.txt */
(()=>{var e={14:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"\n/* Adicione seus estilos globais aqui */\n",""]);const a=o},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var s={},o=[],a=0;a<e.length;a++){var l=e[a],c=i.base?l[0]+i.base:l[0],u=s[c]||0,d="".concat(c," ").concat(u);s[c]=u+1;var h=n(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=r(p,i);i.byIndex=a,t.splice(a,0,{identifier:d,updater:f,references:1})}o.push(d)}return o}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var s=i(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=n(s[o]);t[a].references--}for(var l=i(e,r),c=0;c<s.length;c++){var u=n(s[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}s=l}}},80:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"\n.drawflow-node {\n  background: transparent !important;\n  border: none !important;\n  box-shadow: none !important;\n  width: auto !important;\n  min-width: 0 !important;\n  max-width: none !important;\n}\n.drawflow_content_node {\n  width: auto !important;\n  min-width: 0 !important;\n  display: inline-block !important;\n  padding: 0 !important;\n}\n",""]);const a=o},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},262:(e,t)=>{"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,i]of t)n[e]=i;return n}},278:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,".drawflow,.drawflow .parent-node{position:relative}.parent-drawflow{display:flex;overflow:hidden;touch-action:none;outline:0}.drawflow{width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;perspective:0}.drawflow .drawflow-node{display:flex;align-items:center;position:absolute;background:#0ff;width:160px;min-height:40px;border-radius:4px;border:2px solid #000;color:#000;z-index:2;padding:15px}.drawflow .drawflow-node.selected{background:red}.drawflow .drawflow-node:hover{cursor:move}.drawflow .drawflow-node .inputs,.drawflow .drawflow-node .outputs{width:0}.drawflow .drawflow-node .drawflow_content_node{width:100%;display:block}.drawflow .drawflow-node .input,.drawflow .drawflow-node .output{position:relative;width:20px;height:20px;background:#fff;border-radius:50%;border:2px solid #000;cursor:crosshair;z-index:1;margin-bottom:5px}.drawflow .drawflow-node .input{left:-27px;top:2px;background:#ff0}.drawflow .drawflow-node .output{right:-3px;top:2px}.drawflow svg{z-index:0;position:absolute;overflow:visible!important}.drawflow .connection{position:absolute;pointer-events:none;aspect-ratio:1/1}.drawflow .connection .main-path{fill:none;stroke-width:5px;stroke:#4682b4;pointer-events:all}.drawflow .connection .main-path:hover{stroke:#1266ab;cursor:pointer}.drawflow .connection .main-path.selected{stroke:#43b993}.drawflow .connection .point{cursor:move;stroke:#000;stroke-width:2;fill:#fff;pointer-events:all}.drawflow .connection .point.selected,.drawflow .connection .point:hover{fill:#1266ab}.drawflow .main-path{fill:none;stroke-width:5px;stroke:#4682b4}.drawflow-delete{position:absolute;display:block;width:30px;height:30px;background:#000;color:#fff;z-index:4;border:2px solid #fff;line-height:30px;font-weight:700;text-align:center;border-radius:50%;font-family:monospace;cursor:pointer}.drawflow>.drawflow-delete{margin-left:-15px;margin-top:15px}.parent-node .drawflow-delete{right:-15px;top:-15px}",""]);const a=o},281:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"\n/* Adicione estilos personalizados aqui se necessário */\nhtml[data-v-7751440e], body[data-v-7751440e] {\n  padding-bottom: env(safe-area-inset-bottom);\n  min-height: 100dvh;\n  height: auto;\n}\n",""]);const a=o},307:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"\n/* Adicione estilos personalizados aqui se necessário */\n",""]);const a=o},308:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"\n/* Estilos personalizados se necessário */\n",""]);const a=o},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);i&&o[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},422:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"\n.vc-popover-content-wrapper {\n  --popover-horizontal-content-offset: 8px;\n  --popover-vertical-content-offset: 10px;\n  --popover-caret-horizontal-offset: 18px;\n  --popover-caret-vertical-offset: 8px;\n\n  position: absolute;\n  display: block;\n  outline: none;\n  z-index: 10;\n}\n.vc-popover-content-wrapper:not(.is-interactive) {\n    pointer-events: none;\n}\n.vc-popover-content {\n  position: relative;\n  color: var(--vc-popover-content-color);\n  font-weight: var(--vc-font-medium);\n  background-color: var(--vc-popover-content-bg);\n  border: 1px solid;\n  border-color: var(--vc-popover-content-border);\n  border-radius: var(--vc-rounded-lg);\n  padding: 4px;\n  outline: none;\n  z-index: 10;\n  box-shadow: var(--vc-shadow-lg);\n}\n.vc-popover-content.direction-bottom {\n    margin-top: var(--popover-vertical-content-offset);\n}\n.vc-popover-content.direction-top {\n    margin-bottom: var(--popover-vertical-content-offset);\n}\n.vc-popover-content.direction-left {\n    margin-right: var(--popover-horizontal-content-offset);\n}\n.vc-popover-content.direction-right {\n    margin-left: var(--popover-horizontal-content-offset);\n}\n.vc-popover-caret {\n  content: '';\n  position: absolute;\n  display: block;\n  width: 12px;\n  height: 12px;\n  border-top: inherit;\n  border-left: inherit;\n  background-color: inherit;\n  z-index: -1;\n}\n.vc-popover-caret.direction-bottom {\n    top: 0;\n}\n.vc-popover-caret.direction-bottom.align-left {\n      transform: translateY(-50%) rotate(45deg);\n}\n.vc-popover-caret.direction-bottom.align-center {\n      transform: translateX(-50%) translateY(-50%) rotate(45deg);\n}\n.vc-popover-caret.direction-bottom.align-right {\n      transform: translateY(-50%) rotate(45deg);\n}\n.vc-popover-caret.direction-top {\n    top: 100%;\n}\n.vc-popover-caret.direction-top.align-left {\n      transform: translateY(-50%) rotate(-135deg);\n}\n.vc-popover-caret.direction-top.align-center {\n      transform: translateX(-50%) translateY(-50%) rotate(-135deg);\n}\n.vc-popover-caret.direction-top.align-right {\n      transform: translateY(-50%) rotate(-135deg);\n}\n.vc-popover-caret.direction-left {\n    left: 100%;\n}\n.vc-popover-caret.direction-left.align-top {\n      transform: translateX(-50%) rotate(135deg);\n}\n.vc-popover-caret.direction-left.align-middle {\n      transform: translateY(-50%) translateX(-50%) rotate(135deg);\n}\n.vc-popover-caret.direction-left.align-bottom {\n      transform: translateX(-50%) rotate(135deg);\n}\n.vc-popover-caret.direction-right {\n    left: 0;\n}\n.vc-popover-caret.direction-right.align-top {\n      transform: translateX(-50%) rotate(-45deg);\n}\n.vc-popover-caret.direction-right.align-middle {\n      transform: translateY(-50%) translateX(-50%) rotate(-45deg);\n}\n.vc-popover-caret.direction-right.align-bottom {\n      transform: translateX(-50%) rotate(-45deg);\n}\n.vc-popover-caret.align-left {\n    left: var(--popover-caret-horizontal-offset);\n}\n.vc-popover-caret.align-center {\n    left: 50%;\n}\n.vc-popover-caret.align-right {\n    right: var(--popover-caret-horizontal-offset);\n}\n.vc-popover-caret.align-top {\n    top: var(--popover-caret-vertical-offset);\n}\n.vc-popover-caret.align-middle {\n    top: 50%;\n}\n.vc-popover-caret.align-bottom {\n    bottom: var(--popover-caret-vertical-offset);\n}\n\n.vc-day-popover-row {\n  display: flex;\n  align-items: center;\n  transition: var(--vc-day-content-transition);\n}\n.vc-day-popover-row-indicator {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 0;\n  width: 15px;\n}\n.vc-day-popover-row-indicator span {\n    transition: var(--vc-day-content-transition);\n}\n.vc-day-popover-row-label {\n  display: flex;\n  align-items: center;\n  flex-wrap: none;\n  flex-grow: 1;\n  width: -moz-max-content;\n  width: max-content;\n  margin-left: 4px;\n  margin-right: 4px;\n  font-size: var(--vc-text-xs);\n  line-height: var(--vc-leading-normal);\n}\n.vc-day-popover-row-highlight {\n  width: 8px;\n  height: 5px;\n  border-radius: 3px;\n}\n.vc-day-popover-row-dot {\n}\n.vc-day-popover-row-bar {\n  width: 10px;\n  height: 3px;\n}\n\n.vc-base-icon {\n  display: inline-block;\n  stroke: currentColor;\n  stroke-width: 2;\n  fill: none;\n}\n\n.vc-header {\n  display: grid;\n  grid-gap: 4px;\n  align-items: center;\n  height: 30px;\n  margin-top: 10px;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n.vc-header.is-lg {\n    font-size: var(--vc-text-lg);\n}\n.vc-header.is-xl {\n    font-size: var(--vc-text-xl);\n}\n.vc-header.is-2xl {\n    font-size: var(--vc-text-2xl);\n}\n.vc-header .vc-title-wrapper {\n    grid-row: 1;\n    grid-column: title;\n}\n.vc-header .vc-prev {\n    grid-row: 1;\n    grid-column: prev;\n}\n.vc-header .vc-next {\n    grid-row: 1;\n    grid-column: next;\n}\n.vc-header .vc-title,\n  .vc-header .vc-prev,\n  .vc-header .vc-next {\n    display: flex;\n    align-items: center;\n    border: 0;\n    border-radius: var(--vc-rounded);\n    pointer-events: auto;\n    -webkit-user-select: none;\n            -moz-user-select: none;\n         user-select: none;\n    cursor: pointer;\n}\n.vc-header .vc-title {\n    color: var(--vc-header-title-color);\n    font-weight: var(--vc-font-semibold);\n    white-space: nowrap;\n    padding: 0 8px;\n    margin: 0;\n    line-height: 30px;\n}\n.vc-header .vc-title:hover {\n      opacity: 0.75;\n}\n.vc-header .vc-arrow {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: var(--vc-header-arrow-color);\n    width: 28px;\n    height: 30px;\n    margin: 0;\n    padding: 0;\n}\n.vc-header .vc-arrow:hover {\n      background: var(--vc-header-arrow-hover-bg);\n}\n.vc-header .vc-arrow:disabled {\n      opacity: 0.25;\n      pointer-events: none;\n}\n\n.vc-nav-header {\n  display: flex;\n  justify-content: space-between;\n}\n.vc-nav-title,\n.vc-nav-arrow,\n.vc-nav-item {\n  font-size: var(--vc-text-sm);\n  margin: 0;\n  cursor: pointer;\n  -webkit-user-select: none;\n          -moz-user-select: none;\n       user-select: none;\n  border: 0;\n  border-radius: var(--vc-rounded);\n  white-space: nowrap;\n}\n.vc-nav-title:hover, .vc-nav-arrow:hover, .vc-nav-item:hover {\n    background-color: var(--vc-nav-hover-bg);\n}\n.vc-nav-title:disabled, .vc-nav-arrow:disabled, .vc-nav-item:disabled {\n    opacity: 0.25;\n    pointer-events: none;\n}\n.vc-nav-title {\n  color: var(--vc-nav-title-color);\n  font-weight: var(--vc-font-bold);\n  line-height: var(--vc-leading-snug);\n  height: 30px;\n  padding: 0 6px;\n}\n.vc-nav-arrow {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: var(--vc-header-arrow-color);\n  width: 26px;\n  height: 30px;\n  padding: 0;\n}\n.vc-nav-items {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-row-gap: 2px;\n  grid-column-gap: 5px;\n  margin-top: 2px;\n}\n.vc-nav-item {\n  width: 48px;\n  text-align: center;\n  font-weight: var(--vc-font-semibold);\n  line-height: var(--vc-leading-snug);\n  padding: 6px 0;\n}\n.vc-nav-item.is-active {\n    color: var(--vc-nav-item-active-color);\n    background-color: var(--vc-nav-item-active-bg);\n    font-weight: var(--vc-font-bold);\n}\n.vc-nav-item.is-active:not(:focus) {\n      box-shadow: var(--vc-nav-item-active-box-shadow);\n}\n.vc-nav-item.is-current {\n    color: var(--vc-nav-item-current-color);\n}\n\n.vc-day {\n  position: relative;\n  min-height: 32px;\n  z-index: 1;\n  /* &.is-not-in-month * {\n    opacity: 0;\n    pointer-events: none;\n  } */\n}\n.vc-monthly .is-not-in-month * {\n  opacity: 0;\n  pointer-events: none;\n}\n.vc-day-layer {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n}\n.vc-day-box-center-center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transform-origin: 50% 50%;\n}\n.vc-day-box-left-center {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  transform-origin: 0% 50%;\n}\n.vc-day-box-right-center {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  transform-origin: 100% 50%;\n}\n.vc-day-box-center-bottom {\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n}\n.vc-day-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: var(--vc-text-sm);\n  font-weight: var(--vc-font-medium);\n  width: 28px;\n  height: 28px;\n  line-height: 28px;\n  border-radius: var(--vc-rounded-full);\n  -webkit-user-select: none;\n          -moz-user-select: none;\n       user-select: none;\n  cursor: pointer;\n}\n.vc-day-content:hover {\n    background-color: var(--vc-day-content-hover-bg);\n}\n.vc-day-content.vc-disabled {\n    color: var(--vc-day-content-disabled-color);\n}\n\n/* ----Content---- */\n.vc-content:not(.vc-base) {\n  font-weight: var(--vc-font-bold);\n  color: var(--vc-content-color);\n}\n\n/* ----Highlights---- */\n.vc-highlights {\n  overflow: hidden;\n  pointer-events: none;\n  z-index: -1;\n}\n.vc-highlight {\n  width: 28px;\n  height: 28px;\n}\n.vc-highlight.vc-highlight-base-start {\n    width: 50% !important;\n    border-radius: 0 !important;\n    border-right-width: 0 !important;\n}\n.vc-highlight.vc-highlight-base-end {\n    width: 50% !important;\n    border-radius: 0 !important;\n    border-left-width: 0 !important;\n}\n.vc-highlight.vc-highlight-base-middle {\n    width: 100%;\n    border-radius: 0 !important;\n    border-left-width: 0 !important;\n    border-right-width: 0 !important;\n    margin: 0 -1px;\n}\n.vc-highlight-bg-outline,\n.vc-highlight-bg-none {\n  background-color: var(--vc-highlight-outline-bg);\n  border: 2px solid;\n  border-color: var(--vc-highlight-outline-border);\n  border-radius: var(--vc-rounded-full);\n}\n.vc-highlight-bg-light {\n  background-color: var(--vc-highlight-light-bg);\n  border-radius: var(--vc-rounded-full);\n}\n.vc-highlight-bg-solid {\n  background-color: var(--vc-highlight-solid-bg);\n  border-radius: var(--vc-rounded-full);\n}\n.vc-highlight-content-outline,\n.vc-highlight-content-none {\n  font-weight: var(--vc-font-bold);\n  color: var(--vc-highlight-outline-content-color);\n}\n.vc-highlight-content-light {\n  font-weight: var(--vc-font-bold);\n  color: var(--vc-highlight-light-content-color);\n}\n.vc-highlight-content-solid {\n  font-weight: var(--vc-font-bold);\n  color: var(--vc-highlight-solid-content-color);\n}\n\n/* ----Dots---- */\n.vc-dots {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.vc-dot {\n  width: 5px;\n  height: 5px;\n  border-radius: 9999px;\n  transition: var(--vc-day-content-transition);\n}\n.vc-dot:not(:last-child) {\n    margin-right: 3px;\n}\n\n/* ----Bars---- */\n.vc-bars {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  width: 75%;\n}\n.vc-bar {\n  flex-grow: 1;\n  height: 3px;\n  transition: var(--vc-day-content-transition);\n}\n.vc-dot {\n  background-color: var(--vc-dot-bg);\n}\n.vc-bar {\n  background-color: var(--vc-bar-bg);\n}\n\n.vc-pane {\n  min-width: 250px;\n}\n.vc-weeknumber {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n}\n.vc-weeknumber.is-left {\n    left: calc(var(--vc-weeknumber-offset-inside) * -1);\n}\n.vc-weeknumber.is-right {\n    right: calc(var(--vc-weeknumber-offset-inside) * -1);\n}\n.vc-weeknumber.is-left-outside {\n    left: calc(var(--vc-weeknumber-offset-outside) * -1);\n}\n.vc-weeknumber.is-right-outside {\n    right: calc(var(--vc-weeknumber-offset-outside) * -1);\n}\n.vc-weeknumber-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: var(--vc-text-xs);\n  font-weight: var(--vc-font-medium);\n  font-style: italic;\n  width: 28px;\n  height: 28px;\n  margin-top: 2px;\n  color: var(--vc-weeknumber-color);\n  -webkit-user-select: none;\n          -moz-user-select: none;\n       user-select: none;\n}\n.vc-weeks {\n  position: relative;\n  /* overflow: auto; */\n  -webkit-overflow-scrolling: touch;\n  padding: 6px;\n  min-width: 232px;\n}\n.vc-weeks.vc-show-weeknumbers-left {\n    margin-left: var(--vc-weeknumber-offset-inside);\n}\n.vc-weeks.vc-show-weeknumbers-right {\n    margin-right: var(--vc-weeknumber-offset-inside);\n}\n.vc-weekday {\n  text-align: center;\n  color: var(--vc-weekday-color);\n  font-size: var(--vc-text-sm);\n  font-weight: var(--vc-font-bold);\n  line-height: 14px;\n  padding-top: 4px;\n  padding-bottom: 8px;\n  cursor: default;\n  -webkit-user-select: none;\n          -moz-user-select: none;\n       user-select: none;\n}\n.vc-week,\n.vc-weekdays {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  position: relative;\n}\n\n.vc-pane-container {\n  width: 100%;\n  position: relative;\n}\n.vc-pane-container.in-transition {\n    overflow: hidden;\n}\n.vc-pane-layout {\n  display: grid;\n}\n.vc-pane-header-wrapper {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  pointer-events: none;\n}\n.vc-day-popover-container {\n  font-size: var(--vc-text-xs);\n  font-weight: var(--vc-font-medium);\n}\n.vc-day-popover-header {\n  font-size: var(--vc-text-xs);\n  color: var(--vc-day-popover-header-color);\n  font-weight: var(--vc-font-semibold);\n  text-align: center;\n}\n\n.vc-base-select {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 30px;\n  font-size: var(--vc-text-base);\n  font-weight: var(--vc-font-medium);\n}\n.vc-base-select.vc-has-icon select {\n      padding: 0 27px 0 9px;\n}\n.vc-base-select.vc-has-icon .vc-base-sizer {\n      padding: 0 28px 0 10px;\n}\n.vc-base-select.vc-fit-content select {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n}\n.vc-base-select .vc-base-icon {\n    position: absolute;\n    top: 6px;\n    right: 4px;\n    opacity: 0.6;\n    pointer-events: none;\n}\n.vc-base-select .vc-base-sizer {\n    font-size: var(--vc-text-base);\n    font-weight: var(--vc-font-medium);\n    color: transparent;\n    padding: 0px 8px;\n    margin: 0;\n}\n.vc-base-select select {\n    display: inline-flex;\n    justify-content: center;\n    color: var(--vc-select-color);\n    display: block;\n    -webkit-appearance: none;\n            -moz-appearance: none;\n         appearance: none;\n    background-color: var(--vc-select-bg);\n    border-radius: var(--vc-rounded);\n    height: 30px;\n    width: -moz-max-content;\n    width: max-content;\n    padding: 0px 7px;\n    margin: 0;\n    line-height: var(--leading-none);\n    text-indent: 0px;\n    background-image: none;\n    cursor: pointer;\n    text-align: center;\n}\n.vc-base-select select:hover {\n      background-color: var(--vc-select-hover-bg);\n}\n.vc-base-select select.vc-align-left {\n      text-align: left;\n}\n.vc-base-select select.vc-align-right {\n      text-align: right;\n}\n\n.vc-time-picker {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 8px 4px;\n}\n.vc-time-picker.vc-invalid {\n    pointer-events: none;\n    opacity: 0.5;\n}\n.vc-time-picker.vc-attached {\n    border-top: 1px solid var(--vc-time-picker-border);\n}\n.vc-time-picker > * + * {\n    margin-top: 4px;\n}\n.vc-time-header {\n  display: flex;\n  align-items: center;\n  font-size: var(--vc-text-sm);\n  font-weight: var(--vc-font-semibold);\n  text-transform: uppercase;\n  margin-top: -4px;\n  padding-left: 4px;\n  padding-right: 4px;\n  line-height: 21px;\n}\n.vc-time-select-group {\n  display: inline-flex;\n  align-items: center;\n  padding: 0 4px;\n  background: var(--vc-time-select-group-bg);\n  border-radius: var(--vc-rounded-md);\n  border: 1px solid var(--vc-time-select-group-border);\n}\n.vc-time-select-group .vc-base-icon {\n    margin-right: 4px;\n    color: var(--vc-time-select-group-icon-color);\n}\n.vc-time-select-group select {\n    background: transparent;\n    padding: 0px 4px;\n}\n.vc-time-weekday {\n  color: var(--vc-time-weekday-color);\n  letter-spacing: var(--tracking-wide);\n}\n.vc-time-month {\n  color: var(--vc-time-month-color);\n  margin-left: 8px;\n}\n.vc-time-day {\n  color: var(--vc-time-day-color);\n  margin-left: 4px;\n}\n.vc-time-year {\n  color: var(--vc-time-year-color);\n  margin-left: 8px;\n}\n.vc-time-colon {\n  margin: 0 1px 2px 2px;\n}\n.vc-time-decimal {\n  margin: 0 0 0 1px;\n}\n.vc-none-enter-active,\n.vc-none-leave-active {\n  transition-duration: 0s;\n}\n\n.vc-fade-enter-active,\n.vc-fade-leave-active,\n.vc-slide-left-enter-active,\n.vc-slide-left-leave-active,\n.vc-slide-right-enter-active,\n.vc-slide-right-leave-active,\n.vc-slide-up-enter-active,\n.vc-slide-up-leave-active,\n.vc-slide-down-enter-active,\n.vc-slide-down-leave-active,\n.vc-slide-fade-enter-active,\n.vc-slide-fade-leave-active {\n  transition: transform var(--vc-slide-duration) var(--vc-slide-timing),\n    opacity var(--vc-slide-duration) var(--vc-slide-timing);\n  backface-visibility: hidden;\n  pointer-events: none;\n}\n\n.vc-none-leave-active,\n.vc-fade-leave-active,\n.vc-slide-left-leave-active,\n.vc-slide-right-leave-active,\n.vc-slide-up-leave-active,\n.vc-slide-down-leave-active {\n  position: absolute !important;\n  width: 100%;\n}\n\n.vc-none-enter-from,\n.vc-none-leave-to,\n.vc-fade-enter-from,\n.vc-fade-leave-to,\n.vc-slide-left-enter-from,\n.vc-slide-left-leave-to,\n.vc-slide-right-enter-from,\n.vc-slide-right-leave-to,\n.vc-slide-up-enter-from,\n.vc-slide-up-leave-to,\n.vc-slide-down-enter-from,\n.vc-slide-down-leave-to,\n.vc-slide-fade-enter-from,\n.vc-slide-fade-leave-to {\n  opacity: 0;\n}\n\n.vc-slide-left-enter-from,\n.vc-slide-right-leave-to,\n.vc-slide-fade-enter-from.direction-left,\n.vc-slide-fade-leave-to.direction-left {\n  transform: translateX(var(--vc-slide-translate));\n}\n\n.vc-slide-right-enter-from,\n.vc-slide-left-leave-to,\n.vc-slide-fade-enter-from.direction-right,\n.vc-slide-fade-leave-to.direction-right {\n  transform: translateX(calc(-1 * var(--vc-slide-translate)));\n}\n\n.vc-slide-up-enter-from,\n.vc-slide-down-leave-to,\n.vc-slide-fade-enter-from.direction-top,\n.vc-slide-fade-leave-to.direction-top {\n  transform: translateY(var(--vc-slide-translate));\n}\n\n.vc-slide-down-enter-from,\n.vc-slide-up-leave-to,\n.vc-slide-fade-enter-from.direction-bottom,\n.vc-slide-fade-leave-to.direction-bottom {\n  transform: translateY(calc(-1 * var(--vc-slide-translate)));\n}\n\n:root {\n  --vc-white: #ffffff;\n  --vc-black: #000000;\n\n  --vc-gray-50: #f8fafc;\n  --vc-gray-100: #f1f5f9;\n  --vc-gray-200: #e2e8f0;\n  --vc-gray-300: #cbd5e1;\n  --vc-gray-400: #94a3b8;\n  --vc-gray-500: #64748b;\n  --vc-gray-600: #475569;\n  --vc-gray-700: #334155;\n  --vc-gray-800: #1e293b;\n  --vc-gray-900: #0f172a;\n\n  --vc-font-family: BlinkMacSystemFont, -apple-system, 'Segoe UI', 'Roboto',\n    'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    'Helvetica', 'Arial', sans-serif;\n\n  --vc-font-normal: 400;\n  --vc-font-medium: 500;\n  --vc-font-semibold: 600;\n  --vc-font-bold: 700;\n\n  --vc-text-2xs: 10px;\n  --vc-text-xs: 12px;\n  --vc-text-sm: 14px;\n  --vc-text-base: 16px;\n  --vc-text-lg: 18px;\n  --vc-text-xl: 20px;\n  --vc-text-2xl: 24px;\n\n  --vc-leading-none: 1;\n  --vc-leading-tight: 1.25;\n  --vc-leading-snug: 1.375;\n  --vc-leading-normal: 1.5;\n\n  --vc-rounded: 0.25rem;\n  --vc-rounded-md: 0.375rem;\n  --vc-rounded-lg: 0.5rem;\n  --vc-rounded-full: 9999px;\n\n  --vc-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  --vc-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1),\n    0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  --vc-shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);\n\n  --vc-slide-translate: 22px;\n  --vc-slide-duration: 0.15s;\n  --vc-slide-timing: ease;\n\n  --vc-day-content-transition: all 0.13s ease-in;\n  --vc-weeknumber-offset-inside: 26px;\n  --vc-weeknumber-offset-outside: 34px;\n}\n\n.vc-gray {\n  --vc-accent-50: var(--vc-gray-50);\n  --vc-accent-100: var(--vc-gray-100);\n  --vc-accent-200: var(--vc-gray-200);\n  --vc-accent-300: var(--vc-gray-300);\n  --vc-accent-400: var(--vc-gray-400);\n  --vc-accent-500: var(--vc-gray-500);\n  --vc-accent-600: var(--vc-gray-600);\n  --vc-accent-700: var(--vc-gray-700);\n  --vc-accent-800: var(--vc-gray-800);\n  --vc-accent-900: var(--vc-gray-900);\n}\n\n.vc-red {\n  --vc-accent-50: #fef2f2;\n  --vc-accent-100: #fee2e2;\n  --vc-accent-200: #fecaca;\n  --vc-accent-300: #fca5a5;\n  --vc-accent-400: #f87171;\n  --vc-accent-500: #ef4444;\n  --vc-accent-600: #dc2626;\n  --vc-accent-700: #b91c1c;\n  --vc-accent-800: #991b1b;\n  --vc-accent-900: #7f1d1d;\n}\n\n.vc-orange {\n  --vc-accent-50: #fff7ed;\n  --vc-accent-100: #ffedd5;\n  --vc-accent-200: #fed7aa;\n  --vc-accent-300: #fdba74;\n  --vc-accent-400: #fb923c;\n  --vc-accent-500: #f97316;\n  --vc-accent-600: #ea580c;\n  --vc-accent-700: #c2410c;\n  --vc-accent-800: #9a3412;\n  --vc-accent-900: #7c2d12;\n}\n\n.vc-yellow {\n  --vc-accent-50: #fefce8;\n  --vc-accent-100: #fef9c3;\n  --vc-accent-200: #fef08a;\n  --vc-accent-300: #fde047;\n  --vc-accent-400: #facc15;\n  --vc-accent-500: #eab308;\n  --vc-accent-600: #ca8a04;\n  --vc-accent-700: #a16207;\n  --vc-accent-800: #854d0e;\n  --vc-accent-900: #713f12;\n}\n\n.vc-green {\n  --vc-accent-50: #f0fdf4;\n  --vc-accent-100: #dcfce7;\n  --vc-accent-200: #bbf7d0;\n  --vc-accent-300: #86efac;\n  --vc-accent-400: #4ade80;\n  --vc-accent-500: #22c55e;\n  --vc-accent-600: #16a34a;\n  --vc-accent-700: #15803d;\n  --vc-accent-800: #166534;\n  --vc-accent-900: #14532d;\n}\n\n.vc-teal {\n  --vc-accent-50: #f0fdfa;\n  --vc-accent-100: #ccfbf1;\n  --vc-accent-200: #99f6e4;\n  --vc-accent-300: #5eead4;\n  --vc-accent-400: #2dd4bf;\n  --vc-accent-500: #14b8a6;\n  --vc-accent-600: #0d9488;\n  --vc-accent-700: #0f766e;\n  --vc-accent-800: #115e59;\n  --vc-accent-900: #134e4a;\n}\n\n.vc-blue {\n  --vc-accent-50: #eff6ff;\n  --vc-accent-100: #dbeafe;\n  --vc-accent-200: #bfdbfe;\n  --vc-accent-300: #93c5fd;\n  --vc-accent-400: #60a5fa;\n  --vc-accent-500: #3b82f6;\n  --vc-accent-600: #2563eb;\n  --vc-accent-700: #1d4ed8;\n  --vc-accent-800: #1e40af;\n  --vc-accent-900: #1e3a8a;\n}\n\n.vc-indigo {\n  --vc-accent-50: #eef2ff;\n  --vc-accent-100: #e0e7ff;\n  --vc-accent-200: #c7d2fe;\n  --vc-accent-300: #a5b4fc;\n  --vc-accent-400: #818cf8;\n  --vc-accent-500: #6366f1;\n  --vc-accent-600: #4f46e5;\n  --vc-accent-700: #4338ca;\n  --vc-accent-800: #3730a3;\n  --vc-accent-900: #312e81;\n}\n\n.vc-purple {\n  --vc-accent-50: #faf5ff;\n  --vc-accent-100: #f3e8ff;\n  --vc-accent-200: #e9d5ff;\n  --vc-accent-300: #d8b4fe;\n  --vc-accent-400: #c084fc;\n  --vc-accent-500: #a855f7;\n  --vc-accent-600: #9333ea;\n  --vc-accent-700: #7e22ce;\n  --vc-accent-800: #6b21a8;\n  --vc-accent-900: #581c87;\n}\n\n.vc-pink {\n  --vc-accent-50: #fdf2f8;\n  --vc-accent-100: #fce7f3;\n  --vc-accent-200: #fbcfe8;\n  --vc-accent-300: #f9a8d4;\n  --vc-accent-400: #f472b6;\n  --vc-accent-500: #ec4899;\n  --vc-accent-600: #db2777;\n  --vc-accent-700: #be185d;\n  --vc-accent-800: #9d174d;\n  --vc-accent-900: #831843;\n}\n\n.vc-focus:focus-within {\n    outline: 0;\n    box-shadow: var(--vc-focus-ring);\n  }\n\n.vc-light {\n  /* Base */\n  --vc-color: var(--vc-gray-900);\n  --vc-bg: var(--vc-white);\n  --vc-border: var(--vc-gray-300);\n  --vc-hover-bg: hsla(211, 25%, 84%, 0.3);\n  --vc-focus-ring: 0 0 0 2px rgb(59, 131, 246, 0.4);\n  /* Calendar header */\n  --vc-header-arrow-color: var(--vc-gray-500);\n  --vc-header-arrow-hover-bg: var(--vc-gray-200);\n  --vc-header-title-color: var(--vc-gray-900);\n  /* Calendar weekdays */\n  --vc-weekday-color: var(--vc-gray-500);\n  /* Calendar weeknumbers */\n  --vc-weeknumber-color: var(--vc-gray-400);\n  /* Calendar nav */\n  --vc-nav-hover-bg: var(--vc-gray-200);\n  --vc-nav-title-color: var(--vc-gray-900);\n  --vc-nav-item-hover-box-shadow: none;\n  --vc-nav-item-active-color: var(--vc-white);\n  --vc-nav-item-active-bg: var(--vc-accent-500);\n  --vc-nav-item-active-box-shadow: var(--vc-shadow);\n  --vc-nav-item-current-color: var(--vc-accent-600);\n  /* Calendar day popover */\n  --vc-day-popover-container-color: var(--vc-white);\n  --vc-day-popover-container-bg: var(--vc-gray-800);\n  --vc-day-popover-container-border: var(--vc-gray-700);\n  --vc-day-popover-header-color: var(--vc-gray-700);\n  /* Popover content */\n  --vc-popover-content-color: var(--vc-gray-900);\n  --vc-popover-content-bg: var(--vc-gray-50);\n  --vc-popover-content-border: var(--vc-gray-300);\n  /* Time picker */\n  --vc-time-picker-border: var(--vc-gray-300);\n  --vc-time-weekday-color: var(--vc-gray-700);\n  --vc-time-month-color: var(--vc-accent-600);\n  --vc-time-day-color: var(--vc-accent-600);\n  --vc-time-year-color: var(--vc-gray-500);\n  /* Time select group */\n  --vc-time-select-group-bg: var(--vc-gray-50);\n  --vc-time-select-group-border: var(--vc-gray-300);\n  --vc-time-select-group-icon-color: var(--vc-accent-500);\n  /* Base select */\n  --vc-select-color: var(--vc-gray-900);\n  --vc-select-bg: var(--vc-gray-100);\n  --vc-select-hover-bg: var(--vc-gray-200);\n  /* Calendar day */\n  --vc-day-content-hover-bg: var(--vc-hover-bg);\n  --vc-day-content-disabled-color: var(--vc-gray-400);\n}\n\n/* Calendar attributes */\n\n.vc-light.vc-attr,\n  .vc-light .vc-attr {\n    --vc-content-color: var(--vc-accent-600);\n    --vc-highlight-outline-bg: var(--vc-white);\n    --vc-highlight-outline-border: var(--vc-accent-600);\n    --vc-highlight-outline-content-color: var(--vc-accent-700);\n    --vc-highlight-light-bg: var(--vc-accent-200);\n    --vc-highlight-light-content-color: var(--vc-accent-900);\n    --vc-highlight-solid-bg: var(--vc-accent-600);\n    --vc-highlight-solid-content-color: var(--vc-white);\n    --vc-dot-bg: var(--vc-accent-600);\n    --vc-bar-bg: var(--vc-accent-600);\n  }\n\n.vc-dark {\n  /* Base */\n  --vc-color: var(--vc-white);\n  --vc-bg: var(--vc-gray-900);\n  --vc-border: var(--vc-gray-700);\n  --vc-hover-bg: hsla(216, 15%, 52%, 0.3);\n  --vc-focus-ring: 0 0 0 2px rgb(59 130 246 / 0.7);\n  /* Calendar header */\n  --vc-header-arrow-color: var(--vc-gray-300);\n  --vc-header-arrow-hover-bg: var(--vc-gray-800);\n  --vc-header-title-color: var(--vc-gray-100);\n  /* Calendar weekdays */\n  --vc-weekday-color: var(--vc-accent-200);\n  /* Calendar weeknumbers */\n  --vc-weeknumber-color: var(--vc-gray-500);\n  /* Calendar nav */\n  --vc-nav-hover-bg: var(--vc-gray-700);\n  --vc-nav-title-color: var(--vc-gray-100);\n  --vc-nav-item-hover-box-shadow: none;\n  --vc-nav-item-active-color: var(--vc-white);\n  --vc-nav-item-active-bg: var(--vc-accent-500);\n  --vc-nav-item-active-box-shadow: none;\n  --vc-nav-item-current-color: var(--vc-accent-400);\n  /* Calendar day popover */\n  --vc-day-popover-container-color: var(--vc-gray-800);\n  --vc-day-popover-container-bg: var(--vc-white);\n  --vc-day-popover-container-border: var(--vc-gray-100);\n  --vc-day-popover-header-color: var(--vc-gray-300);\n  /* Popover content */\n  --vc-popover-content-color: var(--vc-white);\n  --vc-popover-content-bg: var(--vc-gray-800);\n  --vc-popover-content-border: var(--vc-gray-700);\n  /* Time picker */\n  --vc-time-picker-border: var(--vc-gray-700);\n  --vc-time-weekday-color: var(--vc-gray-400);\n  --vc-time-month-color: var(--vc-accent-400);\n  --vc-time-day-color: var(--vc-accent-400);\n  --vc-time-year-color: var(--vc-gray-500);\n  /* Time select group */\n  --vc-time-select-group-bg: var(--vc-gray-700);\n  --vc-time-select-group-border: var(--vc-gray-500);\n  --vc-time-select-group-icon-color: var(--vc-accent-400);\n  /* Base select */\n  --vc-select-color: var(--vc-gray-200);\n  --vc-select-bg: var(--vc-gray-700);\n  --vc-select-hover-bg: var(--vc-gray-600);\n  /* Calendar day */\n  --vc-day-content-hover-bg: var(--vc-hover-bg);\n  --vc-day-content-disabled-color: var(--vc-gray-600);\n}\n\n/* Calendar attributes */\n\n.vc-dark.vc-attr,\n  .vc-dark .vc-attr {\n    --vc-content-color: var(--vc-accent-500);\n    --vc-highlight-outline-bg: var(--vc-gray-900);\n    --vc-highlight-outline-border: var(--vc-accent-300);\n    --vc-highlight-outline-content-color: var(--vc-accent-200);\n    --vc-highlight-light-bg: var(--vc-accent-800);\n    --vc-highlight-light-content-color: var(--vc-accent-100);\n    --vc-highlight-solid-bg: var(--vc-accent-500);\n    --vc-highlight-solid-content-color: var(--vc-white);\n    --vc-dot-bg: var(--vc-accent-500);\n    --vc-bar-bg: var(--vc-accent-500);\n  }\n\n.vc-container {\n  position: relative;\n  display: inline-flex;\n  width: -moz-max-content;\n  width: max-content;\n  height: -moz-max-content;\n  height: max-content;\n  font-family: var(--vc-font-family);\n  color: var(--vc-color);\n  background-color: var(--vc-bg);\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.vc-container,\n  .vc-container * {\n    box-sizing: border-box;\n  }\n\n.vc-container:focus, .vc-container *:focus {\n      outline: none;\n    }\n\n/* Hides double border within popovers */\n\n.vc-container .vc-container {\n    border: none;\n  }\n\n.vc-bordered {\n  border: 1px solid;\n  border-color: var(--vc-border);\n  border-radius: var(--vc-rounded-lg);\n}\n\n.vc-expanded {\n  min-width: 100%;\n}\n\n.vc-transparent {\n  background-color: transparent;\n}\n\n.vc-date-picker-content {\n  padding: 0;\n  background-color: var(--vc-bg);\n}\n\n.vc-date-picker-content .vc-container {\n    border: 0;\n  }\n",""]);const a=o},494:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"\n/* Adicione estilos personalizados aqui se necessário */\n",""]);const a=o},533:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"\n/* Adicione estilos personalizados aqui se necessário */\n",""]);const a=o},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},629:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"\n@media (max-width: 768px) {\n[data-v-270d09e9] .vc-container,[data-v-270d09e9] .vc-pane-container {\n    width: 100% !important;\n    max-width: 100% !important;\n}\n}\n",""]);const a=o},659:e=>{"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},742:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"\n/* Adicione estilos personalizados aqui, se necessário */\n",""]);const a=o},782:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e,t=null,n=null){this.events={},this.container=e,this.precanvas=null,this.nodeId=1,this.ele_selected=null,this.node_selected=null,this.drag=!1,this.reroute=!1,this.reroute_fix_curvature=!1,this.curvature=.5,this.reroute_curvature_start_end=.5,this.reroute_curvature=.5,this.reroute_width=6,this.drag_point=!1,this.editor_selected=!1,this.connection=!1,this.connection_ele=null,this.connection_selected=null,this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_x_start=0,this.pos_y=0,this.pos_y_start=0,this.mouse_x=0,this.mouse_y=0,this.line_path=5,this.first_click=null,this.force_first_input=!1,this.draggable_inputs=!0,this.useuuid=!1,this.parent=n,this.noderegister={},this.render=t,this.drawflow={drawflow:{Home:{data:{}}}},this.module="Home",this.editor_mode="edit",this.zoom=1,this.zoom_max=1.6,this.zoom_min=.5,this.zoom_value=.1,this.zoom_last_value=1,this.evCache=new Array,this.prevDiff=-1}start(){this.container.classList.add("parent-drawflow"),this.container.tabIndex=0,this.precanvas=document.createElement("div"),this.precanvas.classList.add("drawflow"),this.container.appendChild(this.precanvas),this.container.addEventListener("mouseup",this.dragEnd.bind(this)),this.container.addEventListener("mousemove",this.position.bind(this)),this.container.addEventListener("mousedown",this.click.bind(this)),this.container.addEventListener("touchend",this.dragEnd.bind(this)),this.container.addEventListener("touchmove",this.position.bind(this)),this.container.addEventListener("touchstart",this.click.bind(this)),this.container.addEventListener("contextmenu",this.contextmenu.bind(this)),this.container.addEventListener("keydown",this.key.bind(this)),this.container.addEventListener("wheel",this.zoom_enter.bind(this)),this.container.addEventListener("input",this.updateNodeValue.bind(this)),this.container.addEventListener("dblclick",this.dblclick.bind(this)),this.container.onpointerdown=this.pointerdown_handler.bind(this),this.container.onpointermove=this.pointermove_handler.bind(this),this.container.onpointerup=this.pointerup_handler.bind(this),this.container.onpointercancel=this.pointerup_handler.bind(this),this.container.onpointerout=this.pointerup_handler.bind(this),this.container.onpointerleave=this.pointerup_handler.bind(this),this.load()}pointerdown_handler(e){this.evCache.push(e)}pointermove_handler(e){for(var t=0;t<this.evCache.length;t++)if(e.pointerId==this.evCache[t].pointerId){this.evCache[t]=e;break}if(2==this.evCache.length){var n=Math.abs(this.evCache[0].clientX-this.evCache[1].clientX);this.prevDiff>100&&(n>this.prevDiff&&this.zoom_in(),n<this.prevDiff&&this.zoom_out()),this.prevDiff=n}}pointerup_handler(e){this.remove_event(e),this.evCache.length<2&&(this.prevDiff=-1)}remove_event(e){for(var t=0;t<this.evCache.length;t++)if(this.evCache[t].pointerId==e.pointerId){this.evCache.splice(t,1);break}}load(){for(var e in this.drawflow.drawflow[this.module].data)this.addNodeImport(this.drawflow.drawflow[this.module].data[e],this.precanvas);if(this.reroute)for(var e in this.drawflow.drawflow[this.module].data)this.addRerouteImport(this.drawflow.drawflow[this.module].data[e]);for(var e in this.drawflow.drawflow[this.module].data)this.updateConnectionNodes("node-"+e);const t=this.drawflow.drawflow;let n=1;Object.keys(t).map((function(e,i){Object.keys(t[e].data).map((function(e,t){parseInt(e)>=n&&(n=parseInt(e)+1)}))})),this.nodeId=n}removeReouteConnectionSelected(){this.dispatch("connectionUnselected",!0),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach(((e,t)=>{e.classList.remove("selected")}))}click(e){if(this.dispatch("click",e),"fixed"===this.editor_mode){if("parent-drawflow"!==e.target.classList[0]&&"drawflow"!==e.target.classList[0])return!1;this.ele_selected=e.target.closest(".parent-drawflow"),e.preventDefault()}else"view"===this.editor_mode?(null!=e.target.closest(".drawflow")||e.target.matches(".parent-drawflow"))&&(this.ele_selected=e.target.closest(".parent-drawflow"),e.preventDefault()):(this.first_click=e.target,this.ele_selected=e.target,0===e.button&&this.contextmenuDel(),null!=e.target.closest(".drawflow_content_node")&&(this.ele_selected=e.target.closest(".drawflow_content_node").parentElement));switch(this.ele_selected.classList[0]){case"drawflow-node":null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected!=this.ele_selected&&this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.node_selected!=this.ele_selected&&this.dispatch("nodeSelected",this.ele_selected.id.slice(5)),this.node_selected=this.ele_selected,this.node_selected.classList.add("selected"),this.draggable_inputs?"SELECT"!==e.target.tagName&&(this.drag=!0):"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&"SELECT"!==e.target.tagName&&!0!==e.target.hasAttribute("contenteditable")&&(this.drag=!0);break;case"output":this.connection=!0,null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.drawConnection(e.target);break;case"parent-drawflow":case"drawflow":null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.editor_selected=!0;break;case"main-path":null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null),this.connection_selected=this.ele_selected,this.connection_selected.classList.add("selected");const t=this.connection_selected.parentElement.classList;t.length>1&&(this.dispatch("connectionSelected",{output_id:t[2].slice(14),input_id:t[1].slice(13),output_class:t[3],input_class:t[4]}),this.reroute_fix_curvature&&this.connection_selected.parentElement.querySelectorAll(".main-path").forEach(((e,t)=>{e.classList.add("selected")})));break;case"point":this.drag_point=!0,this.ele_selected.classList.add("selected");break;case"drawflow-delete":this.node_selected&&this.removeNodeId(this.node_selected.id),this.connection_selected&&this.removeConnection(),null!=this.node_selected&&(this.node_selected.classList.remove("selected"),this.node_selected=null,this.dispatch("nodeUnselected",!0)),null!=this.connection_selected&&(this.connection_selected.classList.remove("selected"),this.removeReouteConnectionSelected(),this.connection_selected=null)}"touchstart"===e.type?(this.pos_x=e.touches[0].clientX,this.pos_x_start=e.touches[0].clientX,this.pos_y=e.touches[0].clientY,this.pos_y_start=e.touches[0].clientY,this.mouse_x=e.touches[0].clientX,this.mouse_y=e.touches[0].clientY):(this.pos_x=e.clientX,this.pos_x_start=e.clientX,this.pos_y=e.clientY,this.pos_y_start=e.clientY),["input","output","main-path"].includes(this.ele_selected.classList[0])&&e.preventDefault(),this.dispatch("clickEnd",e)}position(e){if("touchmove"===e.type)var t=e.touches[0].clientX,n=e.touches[0].clientY;else t=e.clientX,n=e.clientY;if(this.connection&&this.updateConnection(t,n),this.editor_selected&&(i=this.canvas_x+-(this.pos_x-t),r=this.canvas_y+-(this.pos_y-n),this.dispatch("translate",{x:i,y:r}),this.precanvas.style.transform="translate("+i+"px, "+r+"px) scale("+this.zoom+")"),this.drag){e.preventDefault();var i=(this.pos_x-t)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),r=(this.pos_y-n)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom);this.pos_x=t,this.pos_y=n,this.ele_selected.style.top=this.ele_selected.offsetTop-r+"px",this.ele_selected.style.left=this.ele_selected.offsetLeft-i+"px",this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_x=this.ele_selected.offsetLeft-i,this.drawflow.drawflow[this.module].data[this.ele_selected.id.slice(5)].pos_y=this.ele_selected.offsetTop-r,this.updateConnectionNodes(this.ele_selected.id)}if(this.drag_point){i=(this.pos_x-t)*this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom),r=(this.pos_y-n)*this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom),this.pos_x=t,this.pos_y=n;var s=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),o=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));this.ele_selected.setAttributeNS(null,"cx",s),this.ele_selected.setAttributeNS(null,"cy",o);const e=this.ele_selected.parentElement.classList[2].slice(9),a=this.ele_selected.parentElement.classList[1].slice(13),l=this.ele_selected.parentElement.classList[3],c=this.ele_selected.parentElement.classList[4];let u=Array.from(this.ele_selected.parentElement.children).indexOf(this.ele_selected)-1;this.reroute_fix_curvature&&(u-=this.ele_selected.parentElement.querySelectorAll(".main-path").length-1,u<0&&(u=0));const d=e.slice(5),h=this.drawflow.drawflow[this.module].data[d].outputs[l].connections.findIndex((function(e,t){return e.node===a&&e.output===c}));this.drawflow.drawflow[this.module].data[d].outputs[l].connections[h].points[u]={pos_x:s,pos_y:o};const p=this.ele_selected.parentElement.classList[2].slice(9);this.updateConnectionNodes(p)}"touchmove"===e.type&&(this.mouse_x=t,this.mouse_y=n),this.dispatch("mouseMove",{x:t,y:n})}dragEnd(e){if("touchend"===e.type)var t=this.mouse_x,n=this.mouse_y,i=document.elementFromPoint(t,n);else t=e.clientX,n=e.clientY,i=e.target;if(this.drag&&(this.pos_x_start==t&&this.pos_y_start==n||this.dispatch("nodeMoved",this.ele_selected.id.slice(5))),this.drag_point&&(this.ele_selected.classList.remove("selected"),this.pos_x_start==t&&this.pos_y_start==n||this.dispatch("rerouteMoved",this.ele_selected.parentElement.classList[2].slice(14))),this.editor_selected&&(this.canvas_x=this.canvas_x+-(this.pos_x-t),this.canvas_y=this.canvas_y+-(this.pos_y-n),this.editor_selected=!1),!0===this.connection)if("input"===i.classList[0]||this.force_first_input&&(null!=i.closest(".drawflow_content_node")||"drawflow-node"===i.classList[0])){if(!this.force_first_input||null==i.closest(".drawflow_content_node")&&"drawflow-node"!==i.classList[0])r=i.parentElement.parentElement.id,s=i.classList[1];else{if(null!=i.closest(".drawflow_content_node"))var r=i.closest(".drawflow_content_node").parentElement.id;else r=i.id;if(0===Object.keys(this.getNodeFromId(r.slice(5)).inputs).length)var s=!1;else s="input_1"}var o=this.ele_selected.parentElement.parentElement.id,a=this.ele_selected.classList[1];if(o!==r&&!1!==s){if(0===this.container.querySelectorAll(".connection.node_in_"+r+".node_out_"+o+"."+a+"."+s).length){this.connection_ele.classList.add("node_in_"+r),this.connection_ele.classList.add("node_out_"+o),this.connection_ele.classList.add(a),this.connection_ele.classList.add(s);var l=r.slice(5),c=o.slice(5);this.drawflow.drawflow[this.module].data[c].outputs[a].connections.push({node:l,output:s}),this.drawflow.drawflow[this.module].data[l].inputs[s].connections.push({node:c,input:a}),this.updateConnectionNodes("node-"+c),this.updateConnectionNodes("node-"+l),this.dispatch("connectionCreated",{output_id:c,input_id:l,output_class:a,input_class:s})}else this.dispatch("connectionCancel",!0),this.connection_ele.remove();this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null}else this.dispatch("connectionCancel",!0),this.connection_ele.remove(),this.connection_ele=null;this.drag=!1,this.drag_point=!1,this.connection=!1,this.ele_selected=null,this.editor_selected=!1,this.dispatch("mouseUp",e)}contextmenu(e){if(this.dispatch("contextmenu",e),e.preventDefault(),"fixed"===this.editor_mode||"view"===this.editor_mode)return!1;if(this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove(),this.node_selected||this.connection_selected){var t=document.createElement("div");t.classList.add("drawflow-delete"),t.innerHTML="x",this.node_selected&&this.node_selected.appendChild(t),this.connection_selected&&this.connection_selected.parentElement.classList.length>1&&(t.style.top=e.clientY*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))+"px",t.style.left=e.clientX*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))+"px",this.precanvas.appendChild(t))}}contextmenuDel(){this.precanvas.getElementsByClassName("drawflow-delete").length&&this.precanvas.getElementsByClassName("drawflow-delete")[0].remove()}key(e){if(this.dispatch("keydown",e),"fixed"===this.editor_mode||"view"===this.editor_mode)return!1;("Delete"===e.key||"Backspace"===e.key&&e.metaKey)&&(null!=this.node_selected&&"INPUT"!==this.first_click.tagName&&"TEXTAREA"!==this.first_click.tagName&&!0!==this.first_click.hasAttribute("contenteditable")&&this.removeNodeId(this.node_selected.id),null!=this.connection_selected&&this.removeConnection())}zoom_enter(e,t){e.ctrlKey&&(e.preventDefault(),e.deltaY>0?this.zoom_out():this.zoom_in())}zoom_refresh(){this.dispatch("zoom",this.zoom),this.canvas_x=this.canvas_x/this.zoom_last_value*this.zoom,this.canvas_y=this.canvas_y/this.zoom_last_value*this.zoom,this.zoom_last_value=this.zoom,this.precanvas.style.transform="translate("+this.canvas_x+"px, "+this.canvas_y+"px) scale("+this.zoom+")"}zoom_in(){this.zoom<this.zoom_max&&(this.zoom+=this.zoom_value,this.zoom_refresh())}zoom_out(){this.zoom>this.zoom_min&&(this.zoom-=this.zoom_value,this.zoom_refresh())}zoom_reset(){1!=this.zoom&&(this.zoom=1,this.zoom_refresh())}createCurvature(e,t,n,i,r,s){var o=e,a=t,l=n,c=i,u=r;switch(s){case"open":if(e>=n)var d=o+Math.abs(l-o)*u,h=l-Math.abs(l-o)*(-1*u);else d=o+Math.abs(l-o)*u,h=l-Math.abs(l-o)*u;return" M "+o+" "+a+" C "+d+" "+a+" "+h+" "+c+" "+l+"  "+c;case"close":return e>=n?(d=o+Math.abs(l-o)*(-1*u),h=l-Math.abs(l-o)*u):(d=o+Math.abs(l-o)*u,h=l-Math.abs(l-o)*u)," M "+o+" "+a+" C "+d+" "+a+" "+h+" "+c+" "+l+"  "+c;case"other":return e>=n?(d=o+Math.abs(l-o)*(-1*u),h=l-Math.abs(l-o)*(-1*u)):(d=o+Math.abs(l-o)*u,h=l-Math.abs(l-o)*u)," M "+o+" "+a+" C "+d+" "+a+" "+h+" "+c+" "+l+"  "+c;default:return" M "+o+" "+a+" C "+(d=o+Math.abs(l-o)*u)+" "+a+" "+(h=l-Math.abs(l-o)*u)+" "+c+" "+l+"  "+c}}drawConnection(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this.connection_ele=t;var n=document.createElementNS("http://www.w3.org/2000/svg","path");n.classList.add("main-path"),n.setAttributeNS(null,"d",""),t.classList.add("connection"),t.appendChild(n),this.precanvas.appendChild(t);var i=e.parentElement.parentElement.id.slice(5),r=e.classList[1];this.dispatch("connectionStart",{output_id:i,output_class:r})}updateConnection(e,t){const n=this.precanvas,i=this.zoom;let r=n.clientWidth/(n.clientWidth*i);r=r||0;let s=n.clientHeight/(n.clientHeight*i);s=s||0;var o=this.connection_ele.children[0],a=this.ele_selected.offsetWidth/2+(this.ele_selected.getBoundingClientRect().x-n.getBoundingClientRect().x)*r,l=this.ele_selected.offsetHeight/2+(this.ele_selected.getBoundingClientRect().y-n.getBoundingClientRect().y)*s,c=e*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),u=t*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom)),d=this.curvature,h=this.createCurvature(a,l,c,u,d,"openclose");o.setAttributeNS(null,"d",h)}addConnection(e,t,n,i){var r=this.getModuleFromNodeId(e);if(r===this.getModuleFromNodeId(t)){var s=this.getNodeFromId(e),o=!1;for(var a in s.outputs[n].connections){var l=s.outputs[n].connections[a];l.node==t&&l.output==i&&(o=!0)}if(!1===o){if(this.drawflow.drawflow[r].data[e].outputs[n].connections.push({node:t.toString(),output:i}),this.drawflow.drawflow[r].data[t].inputs[i].connections.push({node:e.toString(),input:n}),this.module===r){var c=document.createElementNS("http://www.w3.org/2000/svg","svg"),u=document.createElementNS("http://www.w3.org/2000/svg","path");u.classList.add("main-path"),u.setAttributeNS(null,"d",""),c.classList.add("connection"),c.classList.add("node_in_node-"+t),c.classList.add("node_out_node-"+e),c.classList.add(n),c.classList.add(i),c.appendChild(u),this.precanvas.appendChild(c),this.updateConnectionNodes("node-"+e),this.updateConnectionNodes("node-"+t)}this.dispatch("connectionCreated",{output_id:e,input_id:t,output_class:n,input_class:i})}}}updateConnectionNodes(e){const t="node_in_"+e,n="node_out_"+e;this.line_path;const i=this.container,r=this.precanvas,s=this.curvature,o=this.createCurvature,a=this.reroute_curvature,l=this.reroute_curvature_start_end,c=this.reroute_fix_curvature,u=this.reroute_width,d=this.zoom;let h=r.clientWidth/(r.clientWidth*d);h=h||0;let p=r.clientHeight/(r.clientHeight*d);p=p||0;const f=i.querySelectorAll("."+n);Object.keys(f).map((function(t,n){if(null===f[t].querySelector(".point")){var g=i.querySelector("#"+e),m=f[t].classList[1].replace("node_in_",""),v=i.querySelector("#"+m).querySelectorAll("."+f[t].classList[4])[0],y=v.offsetWidth/2+(v.getBoundingClientRect().x-r.getBoundingClientRect().x)*h,b=v.offsetHeight/2+(v.getBoundingClientRect().y-r.getBoundingClientRect().y)*p,w=g.querySelectorAll("."+f[t].classList[3])[0],x=w.offsetWidth/2+(w.getBoundingClientRect().x-r.getBoundingClientRect().x)*h,_=w.offsetHeight/2+(w.getBoundingClientRect().y-r.getBoundingClientRect().y)*p;const n=o(x,_,y,b,s,"openclose");f[t].children[0].setAttributeNS(null,"d",n)}else{const n=f[t].querySelectorAll(".point");let s="";const g=[];n.forEach(((t,c)=>{if(0===c&&n.length-1==0){var f=i.querySelector("#"+e),m=((_=t).getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,v=(_.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,y=(k=f.querySelectorAll("."+t.parentElement.classList[3])[0]).offsetWidth/2+(k.getBoundingClientRect().x-r.getBoundingClientRect().x)*h,b=k.offsetHeight/2+(k.getBoundingClientRect().y-r.getBoundingClientRect().y)*p,w=o(y,b,m,v,l,"open");s+=w,g.push(w),f=t;var x=t.parentElement.classList[1].replace("node_in_",""),_=(E=i.querySelector("#"+x)).querySelectorAll("."+t.parentElement.classList[4])[0];m=(C=E.querySelectorAll("."+t.parentElement.classList[4])[0]).offsetWidth/2+(C.getBoundingClientRect().x-r.getBoundingClientRect().x)*h,v=C.offsetHeight/2+(C.getBoundingClientRect().y-r.getBoundingClientRect().y)*p,y=(f.getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,b=(f.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,w=o(y,b,m,v,l,"close"),s+=w,g.push(w)}else if(0===c){var k;f=i.querySelector("#"+e),m=((_=t).getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,v=(_.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,y=(k=f.querySelectorAll("."+t.parentElement.classList[3])[0]).offsetWidth/2+(k.getBoundingClientRect().x-r.getBoundingClientRect().x)*h,b=k.offsetHeight/2+(k.getBoundingClientRect().y-r.getBoundingClientRect().y)*p,w=o(y,b,m,v,l,"open"),s+=w,g.push(w),f=t,m=((_=n[c+1]).getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,v=(_.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,y=(f.getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,b=(f.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,w=o(y,b,m,v,a,"other"),s+=w,g.push(w)}else if(c===n.length-1){var E,C;f=t,x=t.parentElement.classList[1].replace("node_in_",""),_=(E=i.querySelector("#"+x)).querySelectorAll("."+t.parentElement.classList[4])[0],m=(C=E.querySelectorAll("."+t.parentElement.classList[4])[0]).offsetWidth/2+(C.getBoundingClientRect().x-r.getBoundingClientRect().x)*h,v=C.offsetHeight/2+(C.getBoundingClientRect().y-r.getBoundingClientRect().y)*p,y=(f.getBoundingClientRect().x-r.getBoundingClientRect().x)*(r.clientWidth/(r.clientWidth*d))+u,b=(f.getBoundingClientRect().y-r.getBoundingClientRect().y)*(r.clientHeight/(r.clientHeight*d))+u,w=o(y,b,m,v,l,"close"),s+=w,g.push(w)}else f=t,m=((_=n[c+1]).getBoundingClientRect().x-r.getBoundingClientRect().x)*(r.clientWidth/(r.clientWidth*d))+u,v=(_.getBoundingClientRect().y-r.getBoundingClientRect().y)*(r.clientHeight/(r.clientHeight*d))+u,y=(f.getBoundingClientRect().x-r.getBoundingClientRect().x)*(r.clientWidth/(r.clientWidth*d))+u,b=(f.getBoundingClientRect().y-r.getBoundingClientRect().y)*(r.clientHeight/(r.clientHeight*d))+u,w=o(y,b,m,v,a,"other"),s+=w,g.push(w)})),c?g.forEach(((e,n)=>{f[t].children[n].setAttributeNS(null,"d",e)})):f[t].children[0].setAttributeNS(null,"d",s)}}));const g=i.querySelectorAll("."+t);Object.keys(g).map((function(t,n){if(null===g[t].querySelector(".point")){var d=i.querySelector("#"+e),f=g[t].classList[2].replace("node_out_",""),m=i.querySelector("#"+f).querySelectorAll("."+g[t].classList[3])[0],v=m.offsetWidth/2+(m.getBoundingClientRect().x-r.getBoundingClientRect().x)*h,y=m.offsetHeight/2+(m.getBoundingClientRect().y-r.getBoundingClientRect().y)*p,b=(d=d.querySelectorAll("."+g[t].classList[4])[0]).offsetWidth/2+(d.getBoundingClientRect().x-r.getBoundingClientRect().x)*h,w=d.offsetHeight/2+(d.getBoundingClientRect().y-r.getBoundingClientRect().y)*p;const n=o(v,y,b,w,s,"openclose");g[t].children[0].setAttributeNS(null,"d",n)}else{const n=g[t].querySelectorAll(".point");let s="";const d=[];n.forEach(((t,c)=>{if(0===c&&n.length-1==0){var f=i.querySelector("#"+e),g=((x=t).getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,m=(x.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,v=(E=f.querySelectorAll("."+t.parentElement.classList[4])[0]).offsetWidth/2+(E.getBoundingClientRect().x-r.getBoundingClientRect().x)*h,y=E.offsetHeight/2+(E.getBoundingClientRect().y-r.getBoundingClientRect().y)*p,b=o(g,m,v,y,l,"close");s+=b,d.push(b),f=t;var w=t.parentElement.classList[2].replace("node_out_",""),x=(k=i.querySelector("#"+w)).querySelectorAll("."+t.parentElement.classList[3])[0];g=(_=k.querySelectorAll("."+t.parentElement.classList[3])[0]).offsetWidth/2+(_.getBoundingClientRect().x-r.getBoundingClientRect().x)*h,m=_.offsetHeight/2+(_.getBoundingClientRect().y-r.getBoundingClientRect().y)*p,v=(f.getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,y=(f.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,b=o(g,m,v,y,l,"open"),s+=b,d.push(b)}else if(0===c){var _;f=t,w=t.parentElement.classList[2].replace("node_out_",""),x=(k=i.querySelector("#"+w)).querySelectorAll("."+t.parentElement.classList[3])[0],g=(_=k.querySelectorAll("."+t.parentElement.classList[3])[0]).offsetWidth/2+(_.getBoundingClientRect().x-r.getBoundingClientRect().x)*h,m=_.offsetHeight/2+(_.getBoundingClientRect().y-r.getBoundingClientRect().y)*p,v=(f.getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,y=(f.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,b=o(g,m,v,y,l,"open"),s+=b,d.push(b),f=t,v=((x=n[c+1]).getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,y=(x.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,g=(f.getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,m=(f.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,b=o(g,m,v,y,a,"other"),s+=b,d.push(b)}else if(c===n.length-1){var k,E;f=t,w=t.parentElement.classList[1].replace("node_in_",""),x=(k=i.querySelector("#"+w)).querySelectorAll("."+t.parentElement.classList[4])[0],v=(E=k.querySelectorAll("."+t.parentElement.classList[4])[0]).offsetWidth/2+(E.getBoundingClientRect().x-r.getBoundingClientRect().x)*h,y=E.offsetHeight/2+(E.getBoundingClientRect().y-r.getBoundingClientRect().y)*p,g=(f.getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,m=(f.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,b=o(g,m,v,y,l,"close"),s+=b,d.push(b)}else f=t,v=((x=n[c+1]).getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,y=(x.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,g=(f.getBoundingClientRect().x-r.getBoundingClientRect().x)*h+u,m=(f.getBoundingClientRect().y-r.getBoundingClientRect().y)*p+u,b=o(g,m,v,y,a,"other"),s+=b,d.push(b)})),c?d.forEach(((e,n)=>{g[t].children[n].setAttributeNS(null,"d",e)})):g[t].children[0].setAttributeNS(null,"d",s)}}))}dblclick(e){null!=this.connection_selected&&this.reroute&&this.createReroutePoint(this.connection_selected),"point"===e.target.classList[0]&&this.removeReroutePoint(e.target)}createReroutePoint(e){this.connection_selected.classList.remove("selected");const t=this.connection_selected.parentElement.classList[2].slice(9),n=this.connection_selected.parentElement.classList[1].slice(13),i=this.connection_selected.parentElement.classList[3],r=this.connection_selected.parentElement.classList[4];this.connection_selected=null;const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.classList.add("point");var o=this.pos_x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom))-this.precanvas.getBoundingClientRect().x*(this.precanvas.clientWidth/(this.precanvas.clientWidth*this.zoom)),a=this.pos_y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom))-this.precanvas.getBoundingClientRect().y*(this.precanvas.clientHeight/(this.precanvas.clientHeight*this.zoom));s.setAttributeNS(null,"cx",o),s.setAttributeNS(null,"cy",a),s.setAttributeNS(null,"r",this.reroute_width);let l=0;if(this.reroute_fix_curvature){const t=e.parentElement.querySelectorAll(".main-path").length;var c=document.createElementNS("http://www.w3.org/2000/svg","path");if(c.classList.add("main-path"),c.setAttributeNS(null,"d",""),e.parentElement.insertBefore(c,e.parentElement.children[t]),1===t)e.parentElement.appendChild(s);else{const n=Array.from(e.parentElement.children).indexOf(e);l=n,e.parentElement.insertBefore(s,e.parentElement.children[n+t+1])}}else e.parentElement.appendChild(s);const u=t.slice(5),d=this.drawflow.drawflow[this.module].data[u].outputs[i].connections.findIndex((function(e,t){return e.node===n&&e.output===r}));void 0===this.drawflow.drawflow[this.module].data[u].outputs[i].connections[d].points&&(this.drawflow.drawflow[this.module].data[u].outputs[i].connections[d].points=[]),this.reroute_fix_curvature?(l>0||this.drawflow.drawflow[this.module].data[u].outputs[i].connections[d].points!==[]?this.drawflow.drawflow[this.module].data[u].outputs[i].connections[d].points.splice(l,0,{pos_x:o,pos_y:a}):this.drawflow.drawflow[this.module].data[u].outputs[i].connections[d].points.push({pos_x:o,pos_y:a}),e.parentElement.querySelectorAll(".main-path").forEach(((e,t)=>{e.classList.remove("selected")}))):this.drawflow.drawflow[this.module].data[u].outputs[i].connections[d].points.push({pos_x:o,pos_y:a}),this.dispatch("addReroute",u),this.updateConnectionNodes(t)}removeReroutePoint(e){const t=e.parentElement.classList[2].slice(9),n=e.parentElement.classList[1].slice(13),i=e.parentElement.classList[3],r=e.parentElement.classList[4];let s=Array.from(e.parentElement.children).indexOf(e);const o=t.slice(5),a=this.drawflow.drawflow[this.module].data[o].outputs[i].connections.findIndex((function(e,t){return e.node===n&&e.output===r}));if(this.reroute_fix_curvature){const t=e.parentElement.querySelectorAll(".main-path").length;e.parentElement.children[t-1].remove(),s-=t,s<0&&(s=0)}else s--;this.drawflow.drawflow[this.module].data[o].outputs[i].connections[a].points.splice(s,1),e.remove(),this.dispatch("removeReroute",o),this.updateConnectionNodes(t)}registerNode(e,t,n=null,i=null){this.noderegister[e]={html:t,props:n,options:i}}getNodeFromId(e){var t=this.getModuleFromNodeId(e);return JSON.parse(JSON.stringify(this.drawflow.drawflow[t].data[e]))}getNodesFromName(e){var t=[];const n=this.drawflow.drawflow;return Object.keys(n).map((function(i,r){for(var s in n[i].data)n[i].data[s].name==e&&t.push(n[i].data[s].id)})),t}addNode(e,t,n,i,r,s,o,a,l=!1){if(this.useuuid)var c=this.getUuid();else c=this.nodeId;const u=document.createElement("div");u.classList.add("parent-node");const d=document.createElement("div");d.innerHTML="",d.setAttribute("id","node-"+c),d.classList.add("drawflow-node"),""!=s&&d.classList.add(...s.split(" "));const h=document.createElement("div");h.classList.add("inputs");const p=document.createElement("div");p.classList.add("outputs");const f={};for(var g=0;g<t;g++){const e=document.createElement("div");e.classList.add("input"),e.classList.add("input_"+(g+1)),f["input_"+(g+1)]={connections:[]},h.appendChild(e)}const m={};for(g=0;g<n;g++){const e=document.createElement("div");e.classList.add("output"),e.classList.add("output_"+(g+1)),m["output_"+(g+1)]={connections:[]},p.appendChild(e)}const v=document.createElement("div");if(v.classList.add("drawflow_content_node"),!1===l)v.innerHTML=a;else if(!0===l)v.appendChild(this.noderegister[a].html.cloneNode(!0));else if(3===parseInt(this.render.version)){let e=this.render.h(this.noderegister[a].html,this.noderegister[a].props,this.noderegister[a].options);e.appContext=this.parent,this.render.render(e,v)}else{let e=new this.render({parent:this.parent,render:e=>e(this.noderegister[a].html,{props:this.noderegister[a].props}),...this.noderegister[a].options}).$mount();v.appendChild(e.$el)}Object.entries(o).forEach((function(e,t){if("object"==typeof e[1])!function e(t,n,i){null!==(t=null===t?o[n]:t[n])&&Object.entries(t).forEach((function(n,r){if("object"==typeof n[1])e(t,n[0],i+"-"+n[0]);else for(var s=v.querySelectorAll("[df-"+i+"-"+n[0]+"]"),o=0;o<s.length;o++)s[o].value=n[1],s[o].isContentEditable&&(s[o].innerText=n[1])}))}(null,e[0],e[0]);else for(var n=v.querySelectorAll("[df-"+e[0]+"]"),i=0;i<n.length;i++)n[i].value=e[1],n[i].isContentEditable&&(n[i].innerText=e[1])})),d.appendChild(h),d.appendChild(v),d.appendChild(p),d.style.top=r+"px",d.style.left=i+"px",u.appendChild(d),this.precanvas.appendChild(u);var y={id:c,name:e,data:o,class:s,html:a,typenode:l,inputs:f,outputs:m,pos_x:i,pos_y:r};return this.drawflow.drawflow[this.module].data[c]=y,this.dispatch("nodeCreated",c),this.useuuid||this.nodeId++,c}addNodeImport(e,t){const n=document.createElement("div");n.classList.add("parent-node");const i=document.createElement("div");i.innerHTML="",i.setAttribute("id","node-"+e.id),i.classList.add("drawflow-node"),""!=e.class&&i.classList.add(...e.class.split(" "));const r=document.createElement("div");r.classList.add("inputs");const s=document.createElement("div");s.classList.add("outputs"),Object.keys(e.inputs).map((function(n,i){const s=document.createElement("div");s.classList.add("input"),s.classList.add(n),r.appendChild(s),Object.keys(e.inputs[n].connections).map((function(i,r){var s=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=document.createElementNS("http://www.w3.org/2000/svg","path");o.classList.add("main-path"),o.setAttributeNS(null,"d",""),s.classList.add("connection"),s.classList.add("node_in_node-"+e.id),s.classList.add("node_out_node-"+e.inputs[n].connections[i].node),s.classList.add(e.inputs[n].connections[i].input),s.classList.add(n),s.appendChild(o),t.appendChild(s)}))}));for(var o=0;o<Object.keys(e.outputs).length;o++){const e=document.createElement("div");e.classList.add("output"),e.classList.add("output_"+(o+1)),s.appendChild(e)}const a=document.createElement("div");if(a.classList.add("drawflow_content_node"),!1===e.typenode)a.innerHTML=e.html;else if(!0===e.typenode)a.appendChild(this.noderegister[e.html].html.cloneNode(!0));else if(3===parseInt(this.render.version)){let t=this.render.h(this.noderegister[e.html].html,this.noderegister[e.html].props,this.noderegister[e.html].options);t.appContext=this.parent,this.render.render(t,a)}else{let t=new this.render({parent:this.parent,render:t=>t(this.noderegister[e.html].html,{props:this.noderegister[e.html].props}),...this.noderegister[e.html].options}).$mount();a.appendChild(t.$el)}Object.entries(e.data).forEach((function(t,n){if("object"==typeof t[1])!function t(n,i,r){null!==(n=null===n?e.data[i]:n[i])&&Object.entries(n).forEach((function(e,i){if("object"==typeof e[1])t(n,e[0],r+"-"+e[0]);else for(var s=a.querySelectorAll("[df-"+r+"-"+e[0]+"]"),o=0;o<s.length;o++)s[o].value=e[1],s[o].isContentEditable&&(s[o].innerText=e[1])}))}(null,t[0],t[0]);else for(var i=a.querySelectorAll("[df-"+t[0]+"]"),r=0;r<i.length;r++)i[r].value=t[1],i[r].isContentEditable&&(i[r].innerText=t[1])})),i.appendChild(r),i.appendChild(a),i.appendChild(s),i.style.top=e.pos_y+"px",i.style.left=e.pos_x+"px",n.appendChild(i),this.precanvas.appendChild(n)}addRerouteImport(e){const t=this.reroute_width,n=this.reroute_fix_curvature,i=this.container;Object.keys(e.outputs).map((function(r,s){Object.keys(e.outputs[r].connections).map((function(s,o){const a=e.outputs[r].connections[s].points;void 0!==a&&a.forEach(((o,l)=>{const c=e.outputs[r].connections[s].node,u=e.outputs[r].connections[s].output,d=i.querySelector(".connection.node_in_node-"+c+".node_out_node-"+e.id+"."+r+"."+u);if(n&&0===l)for(var h=0;h<a.length;h++){var p=document.createElementNS("http://www.w3.org/2000/svg","path");p.classList.add("main-path"),p.setAttributeNS(null,"d",""),d.appendChild(p)}const f=document.createElementNS("http://www.w3.org/2000/svg","circle");f.classList.add("point");var g=o.pos_x,m=o.pos_y;f.setAttributeNS(null,"cx",g),f.setAttributeNS(null,"cy",m),f.setAttributeNS(null,"r",t),d.appendChild(f)}))}))}))}updateNodeValue(e){for(var t=e.target.attributes,n=0;n<t.length;n++)if(t[n].nodeName.startsWith("df-")){for(var i=t[n].nodeName.slice(3).split("-"),r=this.drawflow.drawflow[this.module].data[e.target.closest(".drawflow_content_node").parentElement.id.slice(5)].data,s=0;s<i.length-1;s+=1)null==r[i[s]]&&(r[i[s]]={}),r=r[i[s]];r[i[i.length-1]]=e.target.value,e.target.isContentEditable&&(r[i[i.length-1]]=e.target.innerText),this.dispatch("nodeDataChanged",e.target.closest(".drawflow_content_node").parentElement.id.slice(5))}}updateNodeDataFromId(e,t){var n=this.getModuleFromNodeId(e);if(this.drawflow.drawflow[n].data[e].data=t,this.module===n){const n=this.container.querySelector("#node-"+e);Object.entries(t).forEach((function(e,i){if("object"==typeof e[1])!function e(i,r,s){null!==(i=null===i?t[r]:i[r])&&Object.entries(i).forEach((function(t,r){if("object"==typeof t[1])e(i,t[0],s+"-"+t[0]);else for(var o=n.querySelectorAll("[df-"+s+"-"+t[0]+"]"),a=0;a<o.length;a++)o[a].value=t[1],o[a].isContentEditable&&(o[a].innerText=t[1])}))}(null,e[0],e[0]);else for(var r=n.querySelectorAll("[df-"+e[0]+"]"),s=0;s<r.length;s++)r[s].value=e[1],r[s].isContentEditable&&(r[s].innerText=e[1])}))}}addNodeInput(e){var t=this.getModuleFromNodeId(e);const n=this.getNodeFromId(e),i=Object.keys(n.inputs).length;if(this.module===t){const t=document.createElement("div");t.classList.add("input"),t.classList.add("input_"+(i+1)),this.container.querySelector("#node-"+e+" .inputs").appendChild(t),this.updateConnectionNodes("node-"+e)}this.drawflow.drawflow[t].data[e].inputs["input_"+(i+1)]={connections:[]}}addNodeOutput(e){var t=this.getModuleFromNodeId(e);const n=this.getNodeFromId(e),i=Object.keys(n.outputs).length;if(this.module===t){const t=document.createElement("div");t.classList.add("output"),t.classList.add("output_"+(i+1)),this.container.querySelector("#node-"+e+" .outputs").appendChild(t),this.updateConnectionNodes("node-"+e)}this.drawflow.drawflow[t].data[e].outputs["output_"+(i+1)]={connections:[]}}removeNodeInput(e,t){var n=this.getModuleFromNodeId(e);const i=this.getNodeFromId(e);this.module===n&&this.container.querySelector("#node-"+e+" .inputs .input."+t).remove();const r=[];Object.keys(i.inputs[t].connections).map((function(n,s){const o=i.inputs[t].connections[s].node,a=i.inputs[t].connections[s].input;r.push({id_output:o,id:e,output_class:a,input_class:t})})),r.forEach(((e,t)=>{this.removeSingleConnection(e.id_output,e.id,e.output_class,e.input_class)})),delete this.drawflow.drawflow[n].data[e].inputs[t];const s=[],o=this.drawflow.drawflow[n].data[e].inputs;Object.keys(o).map((function(e,t){s.push(o[e])})),this.drawflow.drawflow[n].data[e].inputs={};const a=t.slice(6);let l=[];s.forEach(((t,i)=>{t.connections.forEach(((e,t)=>{l.push(e)})),this.drawflow.drawflow[n].data[e].inputs["input_"+(i+1)]=t})),l=new Set(l.map((e=>JSON.stringify(e)))),l=Array.from(l).map((e=>JSON.parse(e))),this.module===n&&this.container.querySelectorAll("#node-"+e+" .inputs .input").forEach(((e,t)=>{const n=e.classList[1].slice(6);parseInt(a)<parseInt(n)&&(e.classList.remove("input_"+n),e.classList.add("input_"+(n-1)))})),l.forEach(((t,i)=>{this.drawflow.drawflow[n].data[t.node].outputs[t.input].connections.forEach(((i,r)=>{if(i.node==e){const s=i.output.slice(6);if(parseInt(a)<parseInt(s)){if(this.module===n){const n=this.container.querySelector(".connection.node_in_node-"+e+".node_out_node-"+t.node+"."+t.input+".input_"+s);n.classList.remove("input_"+s),n.classList.add("input_"+(s-1))}i.points?this.drawflow.drawflow[n].data[t.node].outputs[t.input].connections[r]={node:i.node,output:"input_"+(s-1),points:i.points}:this.drawflow.drawflow[n].data[t.node].outputs[t.input].connections[r]={node:i.node,output:"input_"+(s-1)}}}}))})),this.updateConnectionNodes("node-"+e)}removeNodeOutput(e,t){var n=this.getModuleFromNodeId(e);const i=this.getNodeFromId(e);this.module===n&&this.container.querySelector("#node-"+e+" .outputs .output."+t).remove();const r=[];Object.keys(i.outputs[t].connections).map((function(n,s){const o=i.outputs[t].connections[s].node,a=i.outputs[t].connections[s].output;r.push({id:e,id_input:o,output_class:t,input_class:a})})),r.forEach(((e,t)=>{this.removeSingleConnection(e.id,e.id_input,e.output_class,e.input_class)})),delete this.drawflow.drawflow[n].data[e].outputs[t];const s=[],o=this.drawflow.drawflow[n].data[e].outputs;Object.keys(o).map((function(e,t){s.push(o[e])})),this.drawflow.drawflow[n].data[e].outputs={};const a=t.slice(7);let l=[];s.forEach(((t,i)=>{t.connections.forEach(((e,t)=>{l.push({node:e.node,output:e.output})})),this.drawflow.drawflow[n].data[e].outputs["output_"+(i+1)]=t})),l=new Set(l.map((e=>JSON.stringify(e)))),l=Array.from(l).map((e=>JSON.parse(e))),this.module===n&&this.container.querySelectorAll("#node-"+e+" .outputs .output").forEach(((e,t)=>{const n=e.classList[1].slice(7);parseInt(a)<parseInt(n)&&(e.classList.remove("output_"+n),e.classList.add("output_"+(n-1)))})),l.forEach(((t,i)=>{this.drawflow.drawflow[n].data[t.node].inputs[t.output].connections.forEach(((i,r)=>{if(i.node==e){const s=i.input.slice(7);if(parseInt(a)<parseInt(s)){if(this.module===n){const n=this.container.querySelector(".connection.node_in_node-"+t.node+".node_out_node-"+e+".output_"+s+"."+t.output);n.classList.remove("output_"+s),n.classList.remove(t.output),n.classList.add("output_"+(s-1)),n.classList.add(t.output)}i.points?this.drawflow.drawflow[n].data[t.node].inputs[t.output].connections[r]={node:i.node,input:"output_"+(s-1),points:i.points}:this.drawflow.drawflow[n].data[t.node].inputs[t.output].connections[r]={node:i.node,input:"output_"+(s-1)}}}}))})),this.updateConnectionNodes("node-"+e)}removeNodeId(e){this.removeConnectionNodeId(e);var t=this.getModuleFromNodeId(e.slice(5));this.module===t&&this.container.querySelector("#"+e).remove(),delete this.drawflow.drawflow[t].data[e.slice(5)],this.dispatch("nodeRemoved",e.slice(5))}removeConnection(){if(null!=this.connection_selected){var e=this.connection_selected.parentElement.classList;this.connection_selected.parentElement.remove();var t=this.drawflow.drawflow[this.module].data[e[2].slice(14)].outputs[e[3]].connections.findIndex((function(t,n){return t.node===e[1].slice(13)&&t.output===e[4]}));this.drawflow.drawflow[this.module].data[e[2].slice(14)].outputs[e[3]].connections.splice(t,1);var n=this.drawflow.drawflow[this.module].data[e[1].slice(13)].inputs[e[4]].connections.findIndex((function(t,n){return t.node===e[2].slice(14)&&t.input===e[3]}));this.drawflow.drawflow[this.module].data[e[1].slice(13)].inputs[e[4]].connections.splice(n,1),this.dispatch("connectionRemoved",{output_id:e[2].slice(14),input_id:e[1].slice(13),output_class:e[3],input_class:e[4]}),this.connection_selected=null}}removeSingleConnection(e,t,n,i){var r=this.getModuleFromNodeId(e);if(r===this.getModuleFromNodeId(t)){if(this.drawflow.drawflow[r].data[e].outputs[n].connections.findIndex((function(e,n){return e.node==t&&e.output===i}))>-1){this.module===r&&this.container.querySelector(".connection.node_in_node-"+t+".node_out_node-"+e+"."+n+"."+i).remove();var s=this.drawflow.drawflow[r].data[e].outputs[n].connections.findIndex((function(e,n){return e.node==t&&e.output===i}));this.drawflow.drawflow[r].data[e].outputs[n].connections.splice(s,1);var o=this.drawflow.drawflow[r].data[t].inputs[i].connections.findIndex((function(t,i){return t.node==e&&t.input===n}));return this.drawflow.drawflow[r].data[t].inputs[i].connections.splice(o,1),this.dispatch("connectionRemoved",{output_id:e,input_id:t,output_class:n,input_class:i}),!0}return!1}return!1}removeConnectionNodeId(e){const t="node_in_"+e,n="node_out_"+e,i=this.container.querySelectorAll("."+n);for(var r=i.length-1;r>=0;r--){var s=i[r].classList,o=this.drawflow.drawflow[this.module].data[s[1].slice(13)].inputs[s[4]].connections.findIndex((function(e,t){return e.node===s[2].slice(14)&&e.input===s[3]}));this.drawflow.drawflow[this.module].data[s[1].slice(13)].inputs[s[4]].connections.splice(o,1);var a=this.drawflow.drawflow[this.module].data[s[2].slice(14)].outputs[s[3]].connections.findIndex((function(e,t){return e.node===s[1].slice(13)&&e.output===s[4]}));this.drawflow.drawflow[this.module].data[s[2].slice(14)].outputs[s[3]].connections.splice(a,1),i[r].remove(),this.dispatch("connectionRemoved",{output_id:s[2].slice(14),input_id:s[1].slice(13),output_class:s[3],input_class:s[4]})}const l=this.container.querySelectorAll("."+t);for(r=l.length-1;r>=0;r--)s=l[r].classList,a=this.drawflow.drawflow[this.module].data[s[2].slice(14)].outputs[s[3]].connections.findIndex((function(e,t){return e.node===s[1].slice(13)&&e.output===s[4]})),this.drawflow.drawflow[this.module].data[s[2].slice(14)].outputs[s[3]].connections.splice(a,1),o=this.drawflow.drawflow[this.module].data[s[1].slice(13)].inputs[s[4]].connections.findIndex((function(e,t){return e.node===s[2].slice(14)&&e.input===s[3]})),this.drawflow.drawflow[this.module].data[s[1].slice(13)].inputs[s[4]].connections.splice(o,1),l[r].remove(),this.dispatch("connectionRemoved",{output_id:s[2].slice(14),input_id:s[1].slice(13),output_class:s[3],input_class:s[4]})}getModuleFromNodeId(e){var t;const n=this.drawflow.drawflow;return Object.keys(n).map((function(i,r){Object.keys(n[i].data).map((function(n,r){n==e&&(t=i)}))})),t}addModule(e){this.drawflow.drawflow[e]={data:{}},this.dispatch("moduleCreated",e)}changeModule(e){this.dispatch("moduleChanged",e),this.module=e,this.precanvas.innerHTML="",this.canvas_x=0,this.canvas_y=0,this.pos_x=0,this.pos_y=0,this.mouse_x=0,this.mouse_y=0,this.zoom=1,this.zoom_last_value=1,this.precanvas.style.transform="",this.import(this.drawflow,!1)}removeModule(e){this.module===e&&this.changeModule("Home"),delete this.drawflow.drawflow[e],this.dispatch("moduleRemoved",e)}clearModuleSelected(){this.precanvas.innerHTML="",this.drawflow.drawflow[this.module]={data:{}}}clear(){this.precanvas.innerHTML="",this.drawflow={drawflow:{Home:{data:{}}}}}export(){const e=JSON.parse(JSON.stringify(this.drawflow));return this.dispatch("export",e),e}import(e,t=!0){this.clear(),this.drawflow=JSON.parse(JSON.stringify(e)),this.load(),t&&this.dispatch("import","import")}on(e,t){return"function"!=typeof t?(console.error("The listener callback must be a function, the given type is "+typeof t),!1):"string"!=typeof e?(console.error("The event name must be a string, the given type is "+typeof e),!1):(void 0===this.events[e]&&(this.events[e]={listeners:[]}),void this.events[e].listeners.push(t))}removeListener(e,t){if(!this.events[e])return!1;const n=this.events[e].listeners,i=n.indexOf(t);i>-1&&n.splice(i,1)}dispatch(e,t){if(void 0===this.events[e])return!1;this.events[e].listeners.forEach((e=>{e(t)}))}getUuid(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}}}]).default},804:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"\n/* Adicione estilos personalizados aqui se necessário */\n.grid button[data-v-d2289388] {\n  touch-action: manipulation;\n}\n",""]);const a=o},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},962:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"\n/* Adicione estilos personalizados aqui se necessário */\n",""]);const a=o},972:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(601),r=n.n(i),s=n(314),o=n.n(s)()(r());o.push([e.id,"*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}/*\n! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured `sans` font-family by default.\n5. Use the user's configured `sans` font-feature-settings by default.\n6. Use the user's configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured `mono` font-family by default.\n2. Use the user's configured `mono` font-feature-settings by default.\n3. Use the user's configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type='button']),\ninput:where([type='reset']),\ninput:where([type='submit']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden]:where(:not([hidden=\"until-found\"])) {\n  display: none;\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n.fixed {\n  position: fixed;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.sticky {\n  position: sticky;\n}\n.inset-0 {\n  inset: 0px;\n}\n.inset-y-0 {\n  top: 0px;\n  bottom: 0px;\n}\n.-left-full {\n  left: -100%;\n}\n.left-0 {\n  left: 0px;\n}\n.right-0 {\n  right: 0px;\n}\n.right-2 {\n  right: 0.5rem;\n}\n.right-4 {\n  right: 1rem;\n}\n.top-0 {\n  top: 0px;\n}\n.top-1\\/2 {\n  top: 50%;\n}\n.top-4 {\n  top: 1rem;\n}\n.z-30 {\n  z-index: 30;\n}\n.z-50 {\n  z-index: 50;\n}\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n.mb-1 {\n  margin-bottom: 0.25rem;\n}\n.mb-2 {\n  margin-bottom: 0.5rem;\n}\n.mb-3 {\n  margin-bottom: 0.75rem;\n}\n.mb-4 {\n  margin-bottom: 1rem;\n}\n.mb-6 {\n  margin-bottom: 1.5rem;\n}\n.mb-8 {\n  margin-bottom: 2rem;\n}\n.mb-\\[6rem\\] {\n  margin-bottom: 6rem;\n}\n.ml-0 {\n  margin-left: 0px;\n}\n.ml-2 {\n  margin-left: 0.5rem;\n}\n.ml-4 {\n  margin-left: 1rem;\n}\n.mr-1 {\n  margin-right: 0.25rem;\n}\n.mr-2 {\n  margin-right: 0.5rem;\n}\n.mt-0 {\n  margin-top: 0px;\n}\n.mt-0\\.5 {\n  margin-top: 0.125rem;\n}\n.mt-1 {\n  margin-top: 0.25rem;\n}\n.mt-2 {\n  margin-top: 0.5rem;\n}\n.mt-4 {\n  margin-top: 1rem;\n}\n.mt-6 {\n  margin-top: 1.5rem;\n}\n.mt-8 {\n  margin-top: 2rem;\n}\n.line-clamp-2 {\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n}\n.block {\n  display: block;\n}\n.inline-block {\n  display: inline-block;\n}\n.flex {\n  display: flex;\n}\n.table {\n  display: table;\n}\n.grid {\n  display: grid;\n}\n.hidden {\n  display: none;\n}\n.h-3 {\n  height: 0.75rem;\n}\n.h-4 {\n  height: 1rem;\n}\n.h-40 {\n  height: 10rem;\n}\n.h-5 {\n  height: 1.25rem;\n}\n.h-8 {\n  height: 2rem;\n}\n.h-full {\n  height: 100%;\n}\n.max-h-64 {\n  max-height: 16rem;\n}\n.max-h-\\[90vh\\] {\n  max-height: 90vh;\n}\n.max-h-full {\n  max-height: 100%;\n}\n.min-h-0 {\n  min-height: 0px;\n}\n.min-h-screen {\n  min-height: 100vh;\n}\n.w-1\\/2 {\n  width: 50%;\n}\n.w-4 {\n  width: 1rem;\n}\n.w-40 {\n  width: 10rem;\n}\n.w-5 {\n  width: 1.25rem;\n}\n.w-8 {\n  width: 2rem;\n}\n.w-96 {\n  width: 24rem;\n}\n.w-\\[120px\\] {\n  width: 120px;\n}\n.w-full {\n  width: 100%;\n}\n.min-w-0 {\n  min-width: 0px;\n}\n.max-w-full {\n  max-width: 100%;\n}\n.max-w-lg {\n  max-width: 32rem;\n}\n.max-w-md {\n  max-width: 28rem;\n}\n.max-w-xs {\n  max-width: 20rem;\n}\n.flex-1 {\n  flex: 1 1 0%;\n}\n.flex-shrink-0 {\n  flex-shrink: 0;\n}\n.border-collapse {\n  border-collapse: collapse;\n}\n.-translate-y-1\\/2 {\n  --tw-translate-y: -50%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.transform {\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n@keyframes spin {\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n.animate-spin {\n  animation: spin 1s linear infinite;\n}\n.cursor-not-allowed {\n  cursor: not-allowed;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.resize {\n  resize: both;\n}\n.grid-cols-1 {\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n}\n.grid-cols-2 {\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n}\n.grid-cols-3 {\n  grid-template-columns: repeat(3, minmax(0, 1fr));\n}\n.flex-col {\n  flex-direction: column;\n}\n.flex-wrap {\n  flex-wrap: wrap;\n}\n.items-start {\n  align-items: flex-start;\n}\n.items-end {\n  align-items: flex-end;\n}\n.items-center {\n  align-items: center;\n}\n.justify-start {\n  justify-content: flex-start;\n}\n.justify-end {\n  justify-content: flex-end;\n}\n.justify-center {\n  justify-content: center;\n}\n.justify-between {\n  justify-content: space-between;\n}\n.gap-1 {\n  gap: 0.25rem;\n}\n.gap-2 {\n  gap: 0.5rem;\n}\n.gap-3 {\n  gap: 0.75rem;\n}\n.gap-4 {\n  gap: 1rem;\n}\n.space-x-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.5rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-y-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));\n}\n.space-y-3 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.75rem * var(--tw-space-y-reverse));\n}\n.space-y-4 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1rem * var(--tw-space-y-reverse));\n}\n.divide-y > :not([hidden]) ~ :not([hidden]) {\n  --tw-divide-y-reverse: 0;\n  border-top-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));\n  border-bottom-width: calc(1px * var(--tw-divide-y-reverse));\n}\n.divide-gray-100 > :not([hidden]) ~ :not([hidden]) {\n  --tw-divide-opacity: 1;\n  border-color: rgb(243 244 246 / var(--tw-divide-opacity, 1));\n}\n.overflow-auto {\n  overflow: auto;\n}\n.overflow-hidden {\n  overflow: hidden;\n}\n.overflow-x-auto {\n  overflow-x: auto;\n}\n.overflow-y-auto {\n  overflow-y: auto;\n}\n.whitespace-nowrap {\n  white-space: nowrap;\n}\n.whitespace-pre-wrap {\n  white-space: pre-wrap;\n}\n.break-words {\n  overflow-wrap: break-word;\n}\n.break-all {\n  word-break: break-all;\n}\n.rounded {\n  border-radius: 0.25rem;\n}\n.rounded-full {\n  border-radius: 9999px;\n}\n.rounded-lg {\n  border-radius: 0.5rem;\n}\n.rounded-md {\n  border-radius: 0.375rem;\n}\n.rounded-l {\n  border-top-left-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n}\n.rounded-l-md {\n  border-top-left-radius: 0.375rem;\n  border-bottom-left-radius: 0.375rem;\n}\n.rounded-r {\n  border-top-right-radius: 0.25rem;\n  border-bottom-right-radius: 0.25rem;\n}\n.rounded-r-md {\n  border-top-right-radius: 0.375rem;\n  border-bottom-right-radius: 0.375rem;\n}\n.rounded-t-md {\n  border-top-left-radius: 0.375rem;\n  border-top-right-radius: 0.375rem;\n}\n.border {\n  border-width: 1px;\n}\n.border-2 {\n  border-width: 2px;\n}\n.border-b {\n  border-bottom-width: 1px;\n}\n.border-l-4 {\n  border-left-width: 4px;\n}\n.border-t {\n  border-top-width: 1px;\n}\n.border-t-2 {\n  border-top-width: 2px;\n}\n.border-dashed {\n  border-style: dashed;\n}\n.border-blue-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(191 219 254 / var(--tw-border-opacity, 1));\n}\n.border-blue-300 {\n  --tw-border-opacity: 1;\n  border-color: rgb(147 197 253 / var(--tw-border-opacity, 1));\n}\n.border-blue-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n}\n.border-gray-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(229 231 235 / var(--tw-border-opacity, 1));\n}\n.border-gray-300 {\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n}\n.border-green-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(187 247 208 / var(--tw-border-opacity, 1));\n}\n.border-green-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(34 197 94 / var(--tw-border-opacity, 1));\n}\n.border-orange-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(249 115 22 / var(--tw-border-opacity, 1));\n}\n.border-purple-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(233 213 255 / var(--tw-border-opacity, 1));\n}\n.border-purple-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(168 85 247 / var(--tw-border-opacity, 1));\n}\n.border-red-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(254 202 202 / var(--tw-border-opacity, 1));\n}\n.border-red-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(239 68 68 / var(--tw-border-opacity, 1));\n}\n.bg-amber-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 251 235 / var(--tw-bg-opacity, 1));\n}\n.bg-black {\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(219 234 254 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(59 130 246 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-300 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-400 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(156 163 175 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(107 114 128 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-700 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(55 65 81 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-800 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1));\n}\n.bg-green-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(240 253 244 / var(--tw-bg-opacity, 1));\n}\n.bg-green-50\\/40 {\n  background-color: rgb(240 253 244 / 0.4);\n}\n.bg-green-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(34 197 94 / var(--tw-bg-opacity, 1));\n}\n.bg-purple-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(250 245 255 / var(--tw-bg-opacity, 1));\n}\n.bg-red-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 226 226 / var(--tw-bg-opacity, 1));\n}\n.bg-red-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 242 242 / var(--tw-bg-opacity, 1));\n}\n.bg-red-50\\/40 {\n  background-color: rgb(254 242 242 / 0.4);\n}\n.bg-red-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 68 68 / var(--tw-bg-opacity, 1));\n}\n.bg-sky-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(240 249 255 / var(--tw-bg-opacity, 1));\n}\n.bg-slate-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(241 245 249 / var(--tw-bg-opacity, 1));\n}\n.bg-white {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));\n}\n.bg-yellow-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 249 195 / var(--tw-bg-opacity, 1));\n}\n.bg-yellow-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(234 179 8 / var(--tw-bg-opacity, 1));\n}\n.bg-opacity-40 {\n  --tw-bg-opacity: 0.4;\n}\n.bg-opacity-50 {\n  --tw-bg-opacity: 0.5;\n}\n.bg-gradient-to-br {\n  background-image: linear-gradient(to bottom right, var(--tw-gradient-stops));\n}\n.from-blue-50 {\n  --tw-gradient-from: #eff6ff var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.to-blue-100 {\n  --tw-gradient-to: #dbeafe var(--tw-gradient-to-position);\n}\n.object-contain {\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n.p-0 {\n  padding: 0px;\n}\n.p-2 {\n  padding: 0.5rem;\n}\n.p-3 {\n  padding: 0.75rem;\n}\n.p-4 {\n  padding: 1rem;\n}\n.p-6 {\n  padding: 1.5rem;\n}\n.p-8 {\n  padding: 2rem;\n}\n.px-2 {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n.px-2\\.5 {\n  padding-left: 0.625rem;\n  padding-right: 0.625rem;\n}\n.px-3 {\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}\n.px-4 {\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n.py-0\\.5 {\n  padding-top: 0.125rem;\n  padding-bottom: 0.125rem;\n}\n.py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.py-2 {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.py-3 {\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n}\n.py-4 {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n}\n.py-6 {\n  padding-top: 1.5rem;\n  padding-bottom: 1.5rem;\n}\n.py-8 {\n  padding-top: 2rem;\n  padding-bottom: 2rem;\n}\n.pb-1 {\n  padding-bottom: 0.25rem;\n}\n.pb-3 {\n  padding-bottom: 0.75rem;\n}\n.pl-10 {\n  padding-left: 2.5rem;\n}\n.pl-2 {\n  padding-left: 0.5rem;\n}\n.pl-3 {\n  padding-left: 0.75rem;\n}\n.pr-10 {\n  padding-right: 2.5rem;\n}\n.pr-2 {\n  padding-right: 0.5rem;\n}\n.pt-0 {\n  padding-top: 0px;\n}\n.pt-2 {\n  padding-top: 0.5rem;\n}\n.pt-3 {\n  padding-top: 0.75rem;\n}\n.pt-4 {\n  padding-top: 1rem;\n}\n.pt-6 {\n  padding-top: 1.5rem;\n}\n.text-left {\n  text-align: left;\n}\n.text-center {\n  text-align: center;\n}\n.text-right {\n  text-align: right;\n}\n.text-2xl {\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.text-3xl {\n  font-size: 1.875rem;\n  line-height: 2.25rem;\n}\n.text-4xl {\n  font-size: 2.25rem;\n  line-height: 2.5rem;\n}\n.text-base {\n  font-size: 1rem;\n  line-height: 1.5rem;\n}\n.text-lg {\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n}\n.text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.text-xl {\n  font-size: 1.25rem;\n  line-height: 1.75rem;\n}\n.text-xs {\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n.font-bold {\n  font-weight: 700;\n}\n.font-medium {\n  font-weight: 500;\n}\n.font-semibold {\n  font-weight: 600;\n}\n.uppercase {\n  text-transform: uppercase;\n}\n.italic {\n  font-style: italic;\n}\n.tabular-nums {\n  --tw-numeric-spacing: tabular-nums;\n  font-variant-numeric: var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);\n}\n.leading-none {\n  line-height: 1;\n}\n.text-amber-700 {\n  --tw-text-opacity: 1;\n  color: rgb(180 83 9 / var(--tw-text-opacity, 1));\n}\n.text-blue-500 {\n  --tw-text-opacity: 1;\n  color: rgb(59 130 246 / var(--tw-text-opacity, 1));\n}\n.text-blue-600 {\n  --tw-text-opacity: 1;\n  color: rgb(37 99 235 / var(--tw-text-opacity, 1));\n}\n.text-blue-700 {\n  --tw-text-opacity: 1;\n  color: rgb(29 78 216 / var(--tw-text-opacity, 1));\n}\n.text-blue-800 {\n  --tw-text-opacity: 1;\n  color: rgb(30 64 175 / var(--tw-text-opacity, 1));\n}\n.text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity, 1));\n}\n.text-gray-500 {\n  --tw-text-opacity: 1;\n  color: rgb(107 114 128 / var(--tw-text-opacity, 1));\n}\n.text-gray-600 {\n  --tw-text-opacity: 1;\n  color: rgb(75 85 99 / var(--tw-text-opacity, 1));\n}\n.text-gray-700 {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n}\n.text-gray-800 {\n  --tw-text-opacity: 1;\n  color: rgb(31 41 55 / var(--tw-text-opacity, 1));\n}\n.text-green-500 {\n  --tw-text-opacity: 1;\n  color: rgb(34 197 94 / var(--tw-text-opacity, 1));\n}\n.text-green-600 {\n  --tw-text-opacity: 1;\n  color: rgb(22 163 74 / var(--tw-text-opacity, 1));\n}\n.text-green-700 {\n  --tw-text-opacity: 1;\n  color: rgb(21 128 61 / var(--tw-text-opacity, 1));\n}\n.text-indigo-600 {\n  --tw-text-opacity: 1;\n  color: rgb(79 70 229 / var(--tw-text-opacity, 1));\n}\n.text-orange-600 {\n  --tw-text-opacity: 1;\n  color: rgb(234 88 12 / var(--tw-text-opacity, 1));\n}\n.text-purple-500 {\n  --tw-text-opacity: 1;\n  color: rgb(168 85 247 / var(--tw-text-opacity, 1));\n}\n.text-purple-600 {\n  --tw-text-opacity: 1;\n  color: rgb(147 51 234 / var(--tw-text-opacity, 1));\n}\n.text-red-300 {\n  --tw-text-opacity: 1;\n  color: rgb(252 165 165 / var(--tw-text-opacity, 1));\n}\n.text-red-500 {\n  --tw-text-opacity: 1;\n  color: rgb(239 68 68 / var(--tw-text-opacity, 1));\n}\n.text-red-600 {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1));\n}\n.text-red-800 {\n  --tw-text-opacity: 1;\n  color: rgb(153 27 27 / var(--tw-text-opacity, 1));\n}\n.text-sky-700 {\n  --tw-text-opacity: 1;\n  color: rgb(3 105 161 / var(--tw-text-opacity, 1));\n}\n.text-slate-700 {\n  --tw-text-opacity: 1;\n  color: rgb(51 65 85 / var(--tw-text-opacity, 1));\n}\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.text-yellow-500 {\n  --tw-text-opacity: 1;\n  color: rgb(234 179 8 / var(--tw-text-opacity, 1));\n}\n.line-through {\n  text-decoration-line: line-through;\n}\n.placeholder-gray-400::-moz-placeholder {\n  --tw-placeholder-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-placeholder-opacity, 1));\n}\n.placeholder-gray-400::placeholder {\n  --tw-placeholder-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-placeholder-opacity, 1));\n}\n.opacity-25 {\n  opacity: 0.25;\n}\n.opacity-60 {\n  opacity: 0.6;\n}\n.opacity-75 {\n  opacity: 0.75;\n}\n.shadow {\n  --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-lg {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-md {\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-sm {\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-xl {\n  --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.ring-1 {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.ring-inset {\n  --tw-ring-inset: inset;\n}\n.ring-amber-600\\/10 {\n  --tw-ring-color: rgb(217 119 6 / 0.1);\n}\n.ring-blue-600\\/10 {\n  --tw-ring-color: rgb(37 99 235 / 0.1);\n}\n.ring-gray-500\\/10 {\n  --tw-ring-color: rgb(107 114 128 / 0.1);\n}\n.ring-gray-800 {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(31 41 55 / var(--tw-ring-opacity, 1));\n}\n.ring-sky-600\\/10 {\n  --tw-ring-color: rgb(2 132 199 / 0.1);\n}\n.ring-slate-600\\/10 {\n  --tw-ring-color: rgb(71 85 105 / 0.1);\n}\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.transition {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-all {\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-colors {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.duration-300 {\n  transition-duration: 300ms;\n}\n.ease-in-out {\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n}\n.hover\\:border-blue-400:hover {\n  --tw-border-opacity: 1;\n  border-color: rgb(96 165 250 / var(--tw-border-opacity, 1));\n}\n.hover\\:bg-blue-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-blue-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-100:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-200:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-300:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-400:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(156 163 175 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-50:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(55 65 81 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-gray-900:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(17 24 39 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-green-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(22 163 74 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-green-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(21 128 61 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-red-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 38 38 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-red-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(185 28 28 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-yellow-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(202 138 4 / var(--tw-bg-opacity, 1));\n}\n.hover\\:bg-yellow-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(161 98 7 / var(--tw-bg-opacity, 1));\n}\n.hover\\:text-blue-700:hover {\n  --tw-text-opacity: 1;\n  color: rgb(29 78 216 / var(--tw-text-opacity, 1));\n}\n.hover\\:text-gray-700:hover {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n}\n.hover\\:text-red-700:hover {\n  --tw-text-opacity: 1;\n  color: rgb(185 28 28 / var(--tw-text-opacity, 1));\n}\n.hover\\:text-yellow-700:hover {\n  --tw-text-opacity: 1;\n  color: rgb(161 98 7 / var(--tw-text-opacity, 1));\n}\n.hover\\:underline:hover {\n  text-decoration-line: underline;\n}\n.focus\\:outline-none:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.focus\\:ring-2:focus {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.focus\\:ring-blue-500:focus {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n}\n.focus\\:ring-green-500:focus {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(34 197 94 / var(--tw-ring-opacity, 1));\n}\n.focus\\:ring-indigo-400:focus {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(129 140 248 / var(--tw-ring-opacity, 1));\n}\n.focus\\:ring-indigo-500:focus {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(99 102 241 / var(--tw-ring-opacity, 1));\n}\n.disabled\\:cursor-not-allowed:disabled {\n  cursor: not-allowed;\n}\n.disabled\\:bg-gray-100:disabled {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));\n}\n.disabled\\:bg-gray-300:disabled {\n  --tw-bg-opacity: 1;\n  background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1));\n}\n.disabled\\:text-gray-500:disabled {\n  --tw-text-opacity: 1;\n  color: rgb(107 114 128 / var(--tw-text-opacity, 1));\n}\n@media (min-width: 640px) {\n\n  .sm\\:mx-auto {\n    margin-left: auto;\n    margin-right: auto;\n  }\n\n  .sm\\:space-y-4 > :not([hidden]) ~ :not([hidden]) {\n    --tw-space-y-reverse: 0;\n    margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));\n    margin-bottom: calc(1rem * var(--tw-space-y-reverse));\n  }\n}\n@media (min-width: 768px) {\n\n  .md\\:static {\n    position: static;\n  }\n\n  .md\\:col-span-2 {\n    grid-column: span 2 / span 2;\n  }\n\n  .md\\:mb-6 {\n    margin-bottom: 1.5rem;\n  }\n\n  .md\\:ml-2 {\n    margin-left: 0.5rem;\n  }\n\n  .md\\:mt-0 {\n    margin-top: 0px;\n  }\n\n  .md\\:mt-6 {\n    margin-top: 1.5rem;\n  }\n\n  .md\\:mt-8 {\n    margin-top: 2rem;\n  }\n\n  .md\\:block {\n    display: block;\n  }\n\n  .md\\:inline {\n    display: inline;\n  }\n\n  .md\\:hidden {\n    display: none;\n  }\n\n  .md\\:h-4 {\n    height: 1rem;\n  }\n\n  .md\\:w-64 {\n    width: 16rem;\n  }\n\n  .md\\:w-\\[140px\\] {\n    width: 140px;\n  }\n\n  .md\\:w-auto {\n    width: auto;\n  }\n\n  .md\\:grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n\n  .md\\:grid-cols-3 {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n\n  .md\\:flex-row {\n    flex-direction: row;\n  }\n\n  .md\\:items-start {\n    align-items: flex-start;\n  }\n\n  .md\\:items-center {\n    align-items: center;\n  }\n\n  .md\\:justify-between {\n    justify-content: space-between;\n  }\n\n  .md\\:gap-0 {\n    gap: 0px;\n  }\n\n  .md\\:gap-4 {\n    gap: 1rem;\n  }\n\n  .md\\:p-0 {\n    padding: 0px;\n  }\n\n  .md\\:p-4 {\n    padding: 1rem;\n  }\n\n  .md\\:p-6 {\n    padding: 1.5rem;\n  }\n\n  .md\\:p-8 {\n    padding: 2rem;\n  }\n\n  .md\\:px-4 {\n    padding-left: 1rem;\n    padding-right: 1rem;\n  }\n\n  .md\\:px-8 {\n    padding-left: 2rem;\n    padding-right: 2rem;\n  }\n\n  .md\\:text-2xl {\n    font-size: 1.5rem;\n    line-height: 2rem;\n  }\n\n  .md\\:text-lg {\n    font-size: 1.125rem;\n    line-height: 1.75rem;\n  }\n\n  .md\\:text-sm {\n    font-size: 0.875rem;\n    line-height: 1.25rem;\n  }\n\n  .md\\:text-xl {\n    font-size: 1.25rem;\n    line-height: 1.75rem;\n  }\n}\n@media (min-width: 1024px) {\n\n  .lg\\:mx-4 {\n    margin-left: 1rem;\n    margin-right: 1rem;\n  }\n\n  .lg\\:block {\n    display: block;\n  }\n\n  .lg\\:grid-cols-3 {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n}",""]);const a=o}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={id:i,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{"use strict";function e(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}const t={},i=[],r=()=>{},s=()=>!1,o=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),a=e=>e.startsWith("onUpdate:"),l=Object.assign,c=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},u=Object.prototype.hasOwnProperty,d=(e,t)=>u.call(e,t),h=Array.isArray,p=e=>"[object Map]"===_(e),f=e=>"[object Set]"===_(e),g=e=>"[object Date]"===_(e),m=e=>"function"==typeof e,v=e=>"string"==typeof e,y=e=>"symbol"==typeof e,b=e=>null!==e&&"object"==typeof e,w=e=>(b(e)||m(e))&&m(e.then)&&m(e.catch),x=Object.prototype.toString,_=e=>x.call(e),k=e=>"[object Object]"===_(e),E=e=>v(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,C=e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),S=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},T=/-(\w)/g,D=S((e=>e.replace(T,((e,t)=>t?t.toUpperCase():"")))),I=/\B([A-Z])/g,A=S((e=>e.replace(I,"-$1").toLowerCase())),M=S((e=>e.charAt(0).toUpperCase()+e.slice(1))),P=S((e=>e?`on${M(e)}`:"")),O=(e,t)=>!Object.is(e,t),R=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},L=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},N=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let F;const V=()=>F||(F="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});function j(e){if(h(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=v(i)?$(i):j(i);if(r)for(const e in r)t[e]=r[e]}return t}if(v(e)||b(e))return e}const B=/;(?![^(]*\))/g,U=/:([^]+)/,z=/\/\*[^]*?\*\//g;function $(e){const t={};return e.replace(z,"").split(B).forEach((e=>{if(e){const n=e.split(U);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function H(e){let t="";if(v(e))t=e;else if(h(e))for(let n=0;n<e.length;n++){const i=H(e[n]);i&&(t+=i+" ")}else if(b(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Y(e){if(!e)return null;let{class:t,style:n}=e;return t&&!v(t)&&(e.class=H(t)),n&&(e.style=j(n)),e}const W=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function q(e){return!!e||""===e}function G(e,t){if(e===t)return!0;let n=g(e),i=g(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=y(e),i=y(t),n||i)return e===t;if(n=h(e),i=h(t),n||i)return!(!n||!i)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=G(e[i],t[i]);return n}(e,t);if(n=b(e),i=b(t),n||i){if(!n||!i)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const i=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(i&&!r||!i&&r||!G(e[n],t[n]))return!1}}return String(e)===String(t)}function K(e,t){return e.findIndex((e=>G(e,t)))}const X=e=>!(!e||!0!==e.__v_isRef),Q=e=>v(e)?e:null==e?"":h(e)||b(e)&&(e.toString===x||!m(e.toString))?X(e)?Q(e.value):JSON.stringify(e,J,2):String(e),J=(e,t)=>X(t)?J(e,t.value):p(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],i)=>(e[Z(t,i)+" =>"]=n,e)),{})}:f(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>Z(e)))}:y(t)?Z(t):!b(t)||h(t)||k(t)?t:String(t),Z=(e,t="")=>{var n;return y(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};let ee,te;class ne{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ee,!e&&ee&&(this.index=(ee.scopes||(ee.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=ee;try{return ee=this,e()}finally{ee=t}}}on(){1===++this._on&&(this.prevScope=ee,ee=this)}off(){this._on>0&&0===--this._on&&(ee=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}const ie=new WeakSet;class re{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ee&&ee.active&&ee.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,ie.has(this)&&(ie.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||le(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,xe(this),de(this);const e=te,t=ve;te=this,ve=!0;try{return this.fn()}finally{he(this),te=e,ve=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)ge(e);this.deps=this.depsTail=void 0,xe(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?ie.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){pe(this)&&this.run()}get dirty(){return pe(this)}}let se,oe,ae=0;function le(e,t=!1){if(e.flags|=8,t)return e.next=oe,void(oe=e);e.next=se,se=e}function ce(){ae++}function ue(){if(--ae>0)return;if(oe){let e=oe;for(oe=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;se;){let t=se;for(se=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,1&t.flags)try{t.trigger()}catch(t){e||(e=t)}t=n}}if(e)throw e}function de(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function he(e){let t,n=e.depsTail,i=n;for(;i;){const e=i.prevDep;-1===i.version?(i===n&&(n=e),ge(i),me(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=e}e.deps=t,e.depsTail=n}function pe(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(fe(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function fe(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===_e)return;if(e.globalVersion=_e,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!pe(e)))return;e.flags|=2;const t=e.dep,n=te,i=ve;te=e,ve=!0;try{de(e);const n=e.fn(e._value);(0===t.version||O(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(e){throw t.version++,e}finally{te=n,ve=i,he(e),e.flags&=-3}}function ge(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)ge(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function me(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ve=!0;const ye=[];function be(){ye.push(ve),ve=!1}function we(){const e=ye.pop();ve=void 0===e||e}function xe(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=te;te=void 0;try{t()}finally{te=e}}}let _e=0;class ke{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ee{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!te||!ve||te===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==te)t=this.activeLink=new ke(te,this),te.deps?(t.prevDep=te.depsTail,te.depsTail.nextDep=t,te.depsTail=t):te.deps=te.depsTail=t,Ce(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=te.depsTail,t.nextDep=void 0,te.depsTail.nextDep=t,te.depsTail=t,te.deps===t&&(te.deps=e)}return t}trigger(e){this.version++,_e++,this.notify(e)}notify(e){ce();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{ue()}}}function Ce(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)Ce(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Se=new WeakMap,Te=Symbol(""),De=Symbol(""),Ie=Symbol("");function Ae(e,t,n){if(ve&&te){let t=Se.get(e);t||Se.set(e,t=new Map);let i=t.get(n);i||(t.set(n,i=new Ee),i.map=t,i.key=n),i.track()}}function Me(e,t,n,i,r,s){const o=Se.get(e);if(!o)return void _e++;const a=e=>{e&&e.trigger()};if(ce(),"clear"===t)o.forEach(a);else{const r=h(e),s=r&&E(n);if(r&&"length"===n){const e=Number(i);o.forEach(((t,n)=>{("length"===n||n===Ie||!y(n)&&n>=e)&&a(t)}))}else switch((void 0!==n||o.has(void 0))&&a(o.get(n)),s&&a(o.get(Ie)),t){case"add":r?s&&a(o.get("length")):(a(o.get(Te)),p(e)&&a(o.get(De)));break;case"delete":r||(a(o.get(Te)),p(e)&&a(o.get(De)));break;case"set":p(e)&&a(o.get(Te))}}ue()}function Pe(e){const t=gt(e);return t===e?t:(Ae(t,0,Ie),pt(e)?t:t.map(mt))}function Oe(e){return Ae(e=gt(e),0,Ie),e}const Re={__proto__:null,[Symbol.iterator](){return Le(this,Symbol.iterator,mt)},concat(...e){return Pe(this).concat(...e.map((e=>h(e)?Pe(e):e)))},entries(){return Le(this,"entries",(e=>(e[1]=mt(e[1]),e)))},every(e,t){return Fe(this,"every",e,t,void 0,arguments)},filter(e,t){return Fe(this,"filter",e,t,(e=>e.map(mt)),arguments)},find(e,t){return Fe(this,"find",e,t,mt,arguments)},findIndex(e,t){return Fe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Fe(this,"findLast",e,t,mt,arguments)},findLastIndex(e,t){return Fe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Fe(this,"forEach",e,t,void 0,arguments)},includes(...e){return je(this,"includes",e)},indexOf(...e){return je(this,"indexOf",e)},join(e){return Pe(this).join(e)},lastIndexOf(...e){return je(this,"lastIndexOf",e)},map(e,t){return Fe(this,"map",e,t,void 0,arguments)},pop(){return Be(this,"pop")},push(...e){return Be(this,"push",e)},reduce(e,...t){return Ve(this,"reduce",e,t)},reduceRight(e,...t){return Ve(this,"reduceRight",e,t)},shift(){return Be(this,"shift")},some(e,t){return Fe(this,"some",e,t,void 0,arguments)},splice(...e){return Be(this,"splice",e)},toReversed(){return Pe(this).toReversed()},toSorted(e){return Pe(this).toSorted(e)},toSpliced(...e){return Pe(this).toSpliced(...e)},unshift(...e){return Be(this,"unshift",e)},values(){return Le(this,"values",mt)}};function Le(e,t,n){const i=Oe(e),r=i[t]();return i===e||pt(e)||(r._next=r.next,r.next=()=>{const e=r._next();return e.value&&(e.value=n(e.value)),e}),r}const Ne=Array.prototype;function Fe(e,t,n,i,r,s){const o=Oe(e),a=o!==e&&!pt(e),l=o[t];if(l!==Ne[t]){const t=l.apply(e,s);return a?mt(t):t}let c=n;o!==e&&(a?c=function(t,i){return n.call(this,mt(t),i,e)}:n.length>2&&(c=function(t,i){return n.call(this,t,i,e)}));const u=l.call(o,c,i);return a&&r?r(u):u}function Ve(e,t,n,i){const r=Oe(e);let s=n;return r!==e&&(pt(e)?n.length>3&&(s=function(t,i,r){return n.call(this,t,i,r,e)}):s=function(t,i,r){return n.call(this,t,mt(i),r,e)}),r[t](s,...i)}function je(e,t,n){const i=gt(e);Ae(i,0,Ie);const r=i[t](...n);return-1!==r&&!1!==r||!ft(n[0])?r:(n[0]=gt(n[0]),i[t](...n))}function Be(e,t,n=[]){be(),ce();const i=gt(e)[t].apply(e,n);return ue(),we(),i}const Ue=e("__proto__,__v_isRef,__isVue"),ze=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(y));function $e(e){y(e)||(e=String(e));const t=gt(this);return Ae(t,0,e),t.hasOwnProperty(e)}class He{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if("__v_isReactive"===t)return!i;if("__v_isReadonly"===t)return i;if("__v_isShallow"===t)return r;if("__v_raw"===t)return n===(i?r?ot:st:r?rt:it).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=h(e);if(!i){let e;if(s&&(e=Re[t]))return e;if("hasOwnProperty"===t)return $e}const o=Reflect.get(e,t,yt(e)?e:n);return(y(t)?ze.has(t):Ue(t))?o:(i||Ae(e,0,t),r?o:yt(o)?s&&E(t)?o:o.value:b(o)?i?ct(o):at(o):o)}}class Ye extends He{constructor(e=!1){super(!1,e)}set(e,t,n,i){let r=e[t];if(!this._isShallow){const t=ht(r);if(pt(n)||ht(n)||(r=gt(r),n=gt(n)),!h(e)&&yt(r)&&!yt(n))return!t&&(r.value=n,!0)}const s=h(e)&&E(t)?Number(t)<e.length:d(e,t),o=Reflect.set(e,t,n,yt(e)?e:i);return e===gt(i)&&(s?O(n,r)&&Me(e,"set",t,n):Me(e,"add",t,n)),o}deleteProperty(e,t){const n=d(e,t),i=(e[t],Reflect.deleteProperty(e,t));return i&&n&&Me(e,"delete",t,void 0),i}has(e,t){const n=Reflect.has(e,t);return y(t)&&ze.has(t)||Ae(e,0,t),n}ownKeys(e){return Ae(e,0,h(e)?"length":Te),Reflect.ownKeys(e)}}class We extends He{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const qe=new Ye,Ge=new We,Ke=new Ye(!0),Xe=e=>e,Qe=e=>Reflect.getPrototypeOf(e);function Je(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function Ze(e,t){const n=function(e,t){const n={get(n){const i=this.__v_raw,r=gt(i),s=gt(n);e||(O(n,s)&&Ae(r,0,n),Ae(r,0,s));const{has:o}=Qe(r),a=t?Xe:e?vt:mt;return o.call(r,n)?a(i.get(n)):o.call(r,s)?a(i.get(s)):void(i!==r&&i.get(n))},get size(){const t=this.__v_raw;return!e&&Ae(gt(t),0,Te),Reflect.get(t,"size",t)},has(t){const n=this.__v_raw,i=gt(n),r=gt(t);return e||(O(t,r)&&Ae(i,0,t),Ae(i,0,r)),t===r?n.has(t):n.has(t)||n.has(r)},forEach(n,i){const r=this,s=r.__v_raw,o=gt(s),a=t?Xe:e?vt:mt;return!e&&Ae(o,0,Te),s.forEach(((e,t)=>n.call(i,a(e),a(t),r)))}};return l(n,e?{add:Je("add"),set:Je("set"),delete:Je("delete"),clear:Je("clear")}:{add(e){t||pt(e)||ht(e)||(e=gt(e));const n=gt(this);return Qe(n).has.call(n,e)||(n.add(e),Me(n,"add",e,e)),this},set(e,n){t||pt(n)||ht(n)||(n=gt(n));const i=gt(this),{has:r,get:s}=Qe(i);let o=r.call(i,e);o||(e=gt(e),o=r.call(i,e));const a=s.call(i,e);return i.set(e,n),o?O(n,a)&&Me(i,"set",e,n):Me(i,"add",e,n),this},delete(e){const t=gt(this),{has:n,get:i}=Qe(t);let r=n.call(t,e);r||(e=gt(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&Me(t,"delete",e,void 0),s},clear(){const e=gt(this),t=0!==e.size,n=e.clear();return t&&Me(e,"clear",void 0,void 0),n}}),["keys","values","entries",Symbol.iterator].forEach((i=>{n[i]=function(e,t,n){return function(...i){const r=this.__v_raw,s=gt(r),o=p(s),a="entries"===e||e===Symbol.iterator&&o,l="keys"===e&&o,c=r[e](...i),u=n?Xe:t?vt:mt;return!t&&Ae(s,0,l?De:Te),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}(i,e,t)})),n}(e,t);return(t,i,r)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(d(n,i)&&i in t?n:t,i,r)}const et={get:Ze(!1,!1)},tt={get:Ze(!1,!0)},nt={get:Ze(!0,!1)},it=new WeakMap,rt=new WeakMap,st=new WeakMap,ot=new WeakMap;function at(e){return ht(e)?e:ut(e,!1,qe,et,it)}function lt(e){return ut(e,!1,Ke,tt,rt)}function ct(e){return ut(e,!0,Ge,nt,st)}function ut(e,t,n,i,r){if(!b(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=(o=e).__v_skip||!Object.isExtensible(o)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>_(e).slice(8,-1))(o));var o;if(0===s)return e;const a=r.get(e);if(a)return a;const l=new Proxy(e,2===s?i:n);return r.set(e,l),l}function dt(e){return ht(e)?dt(e.__v_raw):!(!e||!e.__v_isReactive)}function ht(e){return!(!e||!e.__v_isReadonly)}function pt(e){return!(!e||!e.__v_isShallow)}function ft(e){return!!e&&!!e.__v_raw}function gt(e){const t=e&&e.__v_raw;return t?gt(t):e}const mt=e=>b(e)?at(e):e,vt=e=>b(e)?ct(e):e;function yt(e){return!!e&&!0===e.__v_isRef}function bt(e){return xt(e,!1)}function wt(e){return xt(e,!0)}function xt(e,t){return yt(e)?e:new _t(e,t)}class _t{constructor(e,t){this.dep=new Ee,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:gt(e),this._value=t?e:mt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||pt(e)||ht(e);e=n?e:gt(e),O(e,t)&&(this._rawValue=e,this._value=n?e:mt(e),this.dep.trigger())}}function kt(e){return yt(e)?e.value:e}const Et={get:(e,t,n)=>"__v_raw"===t?e:kt(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return yt(r)&&!yt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Ct(e){return dt(e)?e:new Proxy(e,Et)}function St(e){const t=h(e)?new Array(e.length):{};for(const n in e)t[n]=At(e,n);return t}class Tt{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return function(e,t){const n=Se.get(e);return n&&n.get(t)}(gt(this._object),this._key)}}class Dt{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function It(e,t,n){return yt(e)?e:m(e)?new Dt(e):b(e)&&arguments.length>1?At(e,t,n):bt(e)}function At(e,t,n){const i=e[t];return yt(i)?i:new Tt(e,t,n)}class Mt{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ee(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_e-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags||te===this))return le(this,!0),!0}get value(){const e=this.dep.track();return fe(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const Pt={},Ot=new WeakMap;let Rt;function Lt(e,t=1/0,n){if(t<=0||!b(e)||e.__v_skip)return e;if((n=n||new Set).has(e))return e;if(n.add(e),t--,yt(e))Lt(e.value,t,n);else if(h(e))for(let i=0;i<e.length;i++)Lt(e[i],t,n);else if(f(e)||p(e))e.forEach((e=>{Lt(e,t,n)}));else if(k(e)){for(const i in e)Lt(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Lt(e[i],t,n)}return e}function Nt(e,t,n,i){try{return i?e(...i):e()}catch(e){Vt(e,t,n)}}function Ft(e,t,n,i){if(m(e)){const r=Nt(e,t,n,i);return r&&w(r)&&r.catch((e=>{Vt(e,t,n)})),r}if(h(e)){const r=[];for(let s=0;s<e.length;s++)r.push(Ft(e[s],t,n,i));return r}}function Vt(e,n,i,r=!0){n&&n.vnode;const{errorHandler:s,throwUnhandledErrorInProduction:o}=n&&n.appContext.config||t;if(n){let t=n.parent;const r=n.proxy,o=`https://vuejs.org/error-reference/#runtime-${i}`;for(;t;){const n=t.ec;if(n)for(let t=0;t<n.length;t++)if(!1===n[t](e,r,o))return;t=t.parent}if(s)return be(),Nt(s,null,10,[e,r,o]),void we()}!function(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}(e,0,0,r,o)}const jt=[];let Bt=-1;const Ut=[];let zt=null,$t=0;const Ht=Promise.resolve();let Yt=null;function Wt(e){const t=Yt||Ht;return e?t.then(this?e.bind(this):e):t}function qt(e){if(!(1&e.flags)){const t=Qt(e),n=jt[jt.length-1];!n||!(2&e.flags)&&t>=Qt(n)?jt.push(e):jt.splice(function(e){let t=Bt+1,n=jt.length;for(;t<n;){const i=t+n>>>1,r=jt[i],s=Qt(r);s<e||s===e&&2&r.flags?t=i+1:n=i}return t}(t),0,e),e.flags|=1,Gt()}}function Gt(){Yt||(Yt=Ht.then(Jt))}function Kt(e,t,n=Bt+1){for(;n<jt.length;n++){const t=jt[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;jt.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function Xt(e){if(Ut.length){const e=[...new Set(Ut)].sort(((e,t)=>Qt(e)-Qt(t)));if(Ut.length=0,zt)return void zt.push(...e);for(zt=e,$t=0;$t<zt.length;$t++){const e=zt[$t];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}zt=null,$t=0}}const Qt=e=>null==e.id?2&e.flags?-1:1/0:e.id;function Jt(e){try{for(Bt=0;Bt<jt.length;Bt++){const e=jt[Bt];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),Nt(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;Bt<jt.length;Bt++){const e=jt[Bt];e&&(e.flags&=-2)}Bt=-1,jt.length=0,Xt(),Yt=null,(jt.length||Ut.length)&&Jt(e)}}let Zt,en=[],tn=!1;function nn(e,...t){Zt?Zt.emit(e,...t):tn||en.push({event:e,args:t})}function rn(e,t){var n,i;Zt=e,Zt?(Zt.enabled=!0,en.forEach((({event:e,args:t})=>Zt.emit(e,...t))),en=[]):"undefined"!=typeof window&&window.HTMLElement&&!(null==(i=null==(n=window.navigator)?void 0:n.userAgent)?void 0:i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{rn(e,t)})),setTimeout((()=>{Zt||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,tn=!0,en=[])}),3e3)):(tn=!0,en=[])}const sn=ln("component:added"),on=ln("component:updated"),an=ln("component:removed");function ln(e){return t=>{nn(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}let cn=null,un=null;function dn(e){const t=cn;return cn=e,un=e&&e.type.__scopeId||null,t}function hn(e,t=cn,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&xr(-1);const r=dn(t);let s;try{s=e(...n)}finally{dn(r),i._d&&xr(1)}return __VUE_PROD_DEVTOOLS__&&on(t),s};return i._n=!0,i._c=!0,i._d=!0,i}function pn(e,n){if(null===cn)return e;const i=ns(cn),r=e.dirs||(e.dirs=[]);for(let e=0;e<n.length;e++){let[s,o,a,l=t]=n[e];s&&(m(s)&&(s={mounted:s,updated:s}),s.deep&&Lt(o),r.push({dir:s,instance:i,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function fn(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(be(),Ft(l,n,8,[e.el,a,e,t]),we())}}const gn=Symbol("_vte"),mn=e=>e.__isTeleport,vn=Symbol("_leaveCb"),yn=Symbol("_enterCb");const bn=[Function,Array],wn={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bn,onEnter:bn,onAfterEnter:bn,onEnterCancelled:bn,onBeforeLeave:bn,onLeave:bn,onAfterLeave:bn,onLeaveCancelled:bn,onBeforeAppear:bn,onAppear:bn,onAfterAppear:bn,onAppearCancelled:bn},xn=e=>{const t=e.subTree;return t.component?xn(t.component):t},_n={name:"BaseTransition",props:wn,setup(e,{slots:t}){const n=Hr(),i=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $n((()=>{e.isMounted=!0})),Wn((()=>{e.isUnmounting=!0})),e}();return()=>{const r=t.default&&An(t.default(),!0);if(!r||!r.length)return;const s=kn(r),o=gt(e),{mode:a}=o;if(i.isLeaving)return Tn(s);const l=Dn(s);if(!l)return Tn(s);let c=Sn(l,o,i,n,(e=>c=e));l.type!==gr&&In(l,c);let u=n.subTree&&Dn(n.subTree);if(u&&u.type!==gr&&!Sr(l,u)&&xn(n).type!==gr){let e=Sn(u,o,i,n);if(In(u,e),"out-in"===a&&l.type!==gr)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,u=void 0},Tn(s);"in-out"===a&&l.type!==gr?e.delayLeave=(e,t,n)=>{Cn(i,u)[String(u.key)]=u,e[vn]=()=>{t(),e[vn]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{n(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function kn(e){let t=e[0];if(e.length>1){let n=!1;for(const i of e)if(i.type!==gr){t=i,n=!0;break}}return t}const En=_n;function Cn(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Sn(e,t,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:p,onLeave:f,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:w}=t,x=String(e.key),_=Cn(n,e),k=(e,t)=>{e&&Ft(e,i,9,t)},E=(e,t)=>{const n=t[1];k(e,t),h(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},C={mode:o,persisted:a,beforeEnter(t){let i=l;if(!n.isMounted){if(!s)return;i=v||l}t[vn]&&t[vn](!0);const r=_[x];r&&Sr(e,r)&&r.el[vn]&&r.el[vn](),k(i,[t])},enter(e){let t=c,i=u,r=d;if(!n.isMounted){if(!s)return;t=y||c,i=b||u,r=w||d}let o=!1;const a=e[yn]=t=>{o||(o=!0,k(t?r:i,[e]),C.delayedLeave&&C.delayedLeave(),e[yn]=void 0)};t?E(t,[e,a]):a()},leave(t,i){const r=String(e.key);if(t[yn]&&t[yn](!0),n.isUnmounting)return i();k(p,[t]);let s=!1;const o=t[vn]=n=>{s||(s=!0,i(),k(n?m:g,[t]),t[vn]=void 0,_[r]===e&&delete _[r])};_[r]=e,f?E(f,[t,o]):o()},clone(e){const s=Sn(e,t,n,i,r);return r&&r(s),s}};return C}function Tn(e){if(Ln(e))return(e=Pr(e)).children=null,e}function Dn(e){if(!Ln(e))return mn(e.type)&&e.children?kn(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&m(n.default))return n.default()}}function In(e,t){6&e.shapeFlag&&e.component?(e.transition=t,In(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function An(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:s);o.type===pr?(128&o.patchFlag&&r++,i=i.concat(An(o.children,t,a))):(t||o.type!==gr)&&i.push(null!=a?Pr(o,{key:a}):o)}if(r>1)for(let e=0;e<i.length;e++)i[e].patchFlag=-2;return i}function Mn(e,t){return m(e)?(()=>l({name:e.name},t,{setup:e}))():e}function Pn(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function On(e,n,i,r,s=!1){if(h(e))return void e.forEach(((e,t)=>On(e,n&&(h(n)?n[t]:n),i,r,s)));if(Rn(r)&&!s)return void(512&r.shapeFlag&&r.type.__asyncResolved&&r.component.subTree.component&&On(e,n,i,r.component.subTree));const o=4&r.shapeFlag?ns(r.component):r.el,a=s?null:o,{i:l,r:u}=e,p=n&&n.r,f=l.refs===t?l.refs={}:l.refs,g=l.setupState,y=gt(g),b=g===t?()=>!1:e=>d(y,e);if(null!=p&&p!==u&&(v(p)?(f[p]=null,b(p)&&(g[p]=null)):yt(p)&&(p.value=null)),m(u))Nt(u,l,12,[a,f]);else{const t=v(u),n=yt(u);if(t||n){const r=()=>{if(e.f){const n=t?b(u)?g[u]:f[u]:u.value;s?h(n)&&c(n,o):h(n)?n.includes(o)||n.push(o):t?(f[u]=[o],b(u)&&(g[u]=f[u])):(u.value=[o],e.k&&(f[e.k]=u.value))}else t?(f[u]=a,b(u)&&(g[u]=a)):n&&(u.value=a,e.k&&(f[e.k]=a))};a?(r.id=-1,Hi(r,i)):r()}}}V().requestIdleCallback,V().cancelIdleCallback;const Rn=e=>!!e.type.__asyncLoader,Ln=e=>e.type.__isKeepAlive;function Nn(e,t){Vn(e,"a",t)}function Fn(e,t){Vn(e,"da",t)}function Vn(e,t,n=$r){const i=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Bn(t,i,n),n){let e=n.parent;for(;e&&e.parent;)Ln(e.parent.vnode)&&jn(i,t,n,e),e=e.parent}}function jn(e,t,n,i){const r=Bn(t,e,i,!0);qn((()=>{c(i[t],r)}),n)}function Bn(e,t,n=$r,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{be();const r=qr(n),s=Ft(t,n,e,i);return r(),we(),s});return i?r.unshift(s):r.push(s),s}}RegExp,RegExp;const Un=e=>(t,n=$r)=>{Jr&&"sp"!==e||Bn(e,((...e)=>t(...e)),n)},zn=Un("bm"),$n=Un("m"),Hn=Un("bu"),Yn=Un("u"),Wn=Un("bum"),qn=Un("um"),Gn=Un("sp"),Kn=Un("rtg"),Xn=Un("rtc");function Qn(e,t=$r){Bn("ec",e,t)}const Jn="components";function Zn(e,t){return ni(Jn,e,!0,t)||e}const ei=Symbol.for("v-ndc");function ti(e){return v(e)?ni(Jn,e,!1)||e:e||ei}function ni(e,t,n=!0,i=!1){const r=cn||$r;if(r){const n=r.type;if(e===Jn){const e=function(e,t=!0){return m(e)?e.displayName||e.name:e.name||t&&e.__name}(n,!1);if(e&&(e===t||e===D(t)||e===M(D(t))))return n}const s=ii(r[e]||n[e],t)||ii(r.appContext[e],t);return!s&&i?n:s}}function ii(e,t){return e&&(e[t]||e[D(t)]||e[M(D(t))])}function ri(e,t,n,i){let r;const s=n&&n[i],o=h(e);if(o||v(e)){let n=!1,i=!1;o&&dt(e)&&(n=!pt(e),i=ht(e),e=Oe(e)),r=new Array(e.length);for(let o=0,a=e.length;o<a;o++)r[o]=t(n?i?vt(mt(e[o])):mt(e[o]):e[o],o,void 0,s&&s[o])}else if("number"==typeof e){r=new Array(e);for(let n=0;n<e;n++)r[n]=t(n+1,n,void 0,s&&s[n])}else if(b(e))if(e[Symbol.iterator])r=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);r=new Array(n.length);for(let i=0,o=n.length;i<o;i++){const o=n[i];r[i]=t(e[o],o,i,s&&s[i])}}else r=[];return n&&(n[i]=r),r}function si(e,t,n={},i,r){if(cn.ce||cn.parent&&Rn(cn.parent)&&cn.parent.ce)return"default"!==t&&(n.name=t),br(),Er(pr,null,[Ar("slot",n,i&&i())],64);let s=e[t];s&&s._c&&(s._d=!1),br();const o=s&&oi(s(n)),a=n.key||o&&o.key,l=Er(pr,{key:(a&&!y(a)?a:`_${t}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&1===e._?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function oi(e){return e.some((e=>!Cr(e)||e.type!==gr&&!(e.type===pr&&!oi(e.children))))?e:null}function ai(e,t){const n={};for(const i in e)n[t&&/[A-Z]/.test(i)?`on:${i}`:P(i)]=e[i];return n}const li=e=>e?Kr(e)?ns(e):li(e.parent):null,ci=l(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>li(e.parent),$root:e=>li(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?mi(e):e.type,$forceUpdate:e=>e.f||(e.f=()=>{qt(e.update)}),$nextTick:e=>e.n||(e.n=Wt.bind(e.proxy)),$watch:e=>__VUE_OPTIONS_API__?nr.bind(e):r}),ui=(e,n)=>e!==t&&!e.__isScriptSetup&&d(e,n),di={get({_:e},n){if("__v_skip"===n)return!0;const{ctx:i,setupState:r,data:s,props:o,accessCache:a,type:l,appContext:c}=e;let u;if("$"!==n[0]){const l=a[n];if(void 0!==l)switch(l){case 1:return r[n];case 2:return s[n];case 4:return i[n];case 3:return o[n]}else{if(ui(r,n))return a[n]=1,r[n];if(s!==t&&d(s,n))return a[n]=2,s[n];if((u=e.propsOptions[0])&&d(u,n))return a[n]=3,o[n];if(i!==t&&d(i,n))return a[n]=4,i[n];__VUE_OPTIONS_API__&&!pi||(a[n]=0)}}const h=ci[n];let p,f;return h?("$attrs"===n&&Ae(e.attrs,0,""),h(e)):(p=l.__cssModules)&&(p=p[n])?p:i!==t&&d(i,n)?(a[n]=4,i[n]):(f=c.config.globalProperties,d(f,n)?f[n]:void 0)},set({_:e},n,i){const{data:r,setupState:s,ctx:o}=e;return ui(s,n)?(s[n]=i,!0):r!==t&&d(r,n)?(r[n]=i,!0):!(d(e.props,n)||"$"===n[0]&&n.slice(1)in e||(o[n]=i,0))},has({_:{data:e,setupState:n,accessCache:i,ctx:r,appContext:s,propsOptions:o}},a){let l;return!!i[a]||e!==t&&d(e,a)||ui(n,a)||(l=o[0])&&d(l,a)||d(r,a)||d(ci,a)||d(s.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:d(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function hi(e){return h(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let pi=!0;function fi(e,t,n){Ft(h(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function gi(e,t,n,i){let r=i.includes(".")?ir(n,i):()=>n[i];if(v(e)){const n=t[e];m(n)&&er(r,n)}else if(m(e))er(r,e.bind(n));else if(b(e))if(h(e))e.forEach((e=>gi(e,t,n,i)));else{const i=m(e.handler)?e.handler.bind(n):t[e.handler];m(i)&&er(r,i,e)}}function mi(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:r.length||n||i?(l={},r.length&&r.forEach((e=>vi(l,e,o,!0))),vi(l,t,o)):l=t,b(t)&&s.set(t,l),l}function vi(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&vi(e,s,n,!0),r&&r.forEach((t=>vi(e,t,n,!0)));for(const r in t)if(i&&"expose"===r);else{const i=yi[r]||n&&n[r];e[r]=i?i(e[r],t[r]):t[r]}return e}const yi={data:bi,props:ki,emits:ki,methods:_i,computed:_i,beforeCreate:xi,created:xi,beforeMount:xi,mounted:xi,beforeUpdate:xi,updated:xi,beforeDestroy:xi,beforeUnmount:xi,destroyed:xi,unmounted:xi,activated:xi,deactivated:xi,errorCaptured:xi,serverPrefetch:xi,components:_i,directives:_i,watch:function(e,t){if(!e)return t;if(!t)return e;const n=l(Object.create(null),e);for(const i in t)n[i]=xi(e[i],t[i]);return n},provide:bi,inject:function(e,t){return _i(wi(e),wi(t))}};function bi(e,t){return t?e?function(){return l(m(e)?e.call(this,this):e,m(t)?t.call(this,this):t)}:t:e}function wi(e){if(h(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xi(e,t){return e?[...new Set([].concat(e,t))]:t}function _i(e,t){return e?l(Object.create(null),e,t):t}function ki(e,t){return e?h(e)&&h(t)?[...new Set([...e,...t])]:l(Object.create(null),hi(e),hi(null!=t?t:{})):t}function Ei(){return{app:null,config:{isNativeTag:s,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ci=0;function Si(e,t){return function(n,i=null){m(n)||(n=l({},n)),null==i||b(i)||(i=null);const r=Ei(),s=new WeakSet,o=[];let a=!1;const c=r.app={_uid:Ci++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:ss,get config(){return r.config},set config(e){},use:(e,...t)=>(s.has(e)||(e&&m(e.install)?(s.add(e),e.install(c,...t)):m(e)&&(s.add(e),e(c,...t))),c),mixin:e=>(__VUE_OPTIONS_API__&&(r.mixins.includes(e)||r.mixins.push(e)),c),component:(e,t)=>t?(r.components[e]=t,c):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,c):r.directives[e],mount(s,o,l){if(!a){const u=c._ceVNode||Ar(n,i);return u.appContext=r,!0===l?l="svg":!1===l&&(l=void 0),o&&t?t(u,s):e(u,s,l),a=!0,c._container=s,s.__vue_app__=c,__VUE_PROD_DEVTOOLS__&&(c._instance=u.component,function(e,t){nn("app:init",e,t,{Fragment:pr,Text:fr,Comment:gr,Static:mr})}(c,ss)),ns(u.component)}},onUnmount(e){o.push(e)},unmount(){a&&(Ft(o,c._instance,16),e(null,c._container),__VUE_PROD_DEVTOOLS__&&(c._instance=null,function(e){nn("app:unmount",e)}(c)),delete c._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,c),runWithContext(e){const t=Ti;Ti=c;try{return e()}finally{Ti=t}}};return c}}let Ti=null;function Di(e,t){if($r){let n=$r.provides;const i=$r.parent&&$r.parent.provides;i===n&&(n=$r.provides=Object.create(i)),n[e]=t}}function Ii(e,t,n=!1){const i=$r||cn;if(i||Ti){let r=Ti?Ti._context.provides:i?null==i.parent||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&m(t)?t.call(i&&i.proxy):t}}const Ai={},Mi=()=>Object.create(Ai),Pi=e=>Object.getPrototypeOf(e)===Ai;function Oi(e,n,i,r){const[s,o]=e.propsOptions;let a,l=!1;if(n)for(let t in n){if(C(t))continue;const c=n[t];let u;s&&d(s,u=D(t))?o&&o.includes(u)?(a||(a={}))[u]=c:i[u]=c:ar(e.emitsOptions,t)||t in r&&c===r[t]||(r[t]=c,l=!0)}if(o){const n=gt(i),r=a||t;for(let t=0;t<o.length;t++){const a=o[t];i[a]=Ri(s,n,a,r[a],e,!d(r,a))}}return l}function Ri(e,t,n,i,r,s){const o=e[n];if(null!=o){const e=d(o,"default");if(e&&void 0===i){const e=o.default;if(o.type!==Function&&!o.skipFactory&&m(e)){const{propsDefaults:s}=r;if(n in s)i=s[n];else{const o=qr(r);i=s[n]=e.call(null,t),o()}}else i=e;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!e?i=!1:!o[1]||""!==i&&i!==A(n)||(i=!0))}return i}const Li=new WeakMap;function Ni(e,n,r=!1){const s=__VUE_OPTIONS_API__&&r?Li:n.propsCache,o=s.get(e);if(o)return o;const a=e.props,c={},u=[];let p=!1;if(__VUE_OPTIONS_API__&&!m(e)){const t=e=>{p=!0;const[t,i]=Ni(e,n,!0);l(c,t),i&&u.push(...i)};!r&&n.mixins.length&&n.mixins.forEach(t),e.extends&&t(e.extends),e.mixins&&e.mixins.forEach(t)}if(!a&&!p)return b(e)&&s.set(e,i),i;if(h(a))for(let e=0;e<a.length;e++){const n=D(a[e]);Fi(n)&&(c[n]=t)}else if(a)for(const e in a){const t=D(e);if(Fi(t)){const n=a[e],i=c[t]=h(n)||m(n)?{type:n}:l({},n),r=i.type;let s=!1,o=!0;if(h(r))for(let e=0;e<r.length;++e){const t=r[e],n=m(t)&&t.name;if("Boolean"===n){s=!0;break}"String"===n&&(o=!1)}else s=m(r)&&"Boolean"===r.name;i[0]=s,i[1]=o,(s||d(i,"default"))&&u.push(t)}}const f=[c,u];return b(e)&&s.set(e,f),f}function Fi(e){return"$"!==e[0]&&!C(e)}const Vi=e=>"_"===e[0]||"$stable"===e,ji=e=>h(e)?e.map(Nr):[Nr(e)],Bi=(e,t,n)=>{if(t._n)return t;const i=hn(((...e)=>ji(t(...e))),n);return i._c=!1,i},Ui=(e,t,n)=>{const i=e._ctx;for(const n in e){if(Vi(n))continue;const r=e[n];if(m(r))t[n]=Bi(0,r,i);else if(null!=r){const e=ji(r);t[n]=()=>e}}},zi=(e,t)=>{const n=ji(t);e.slots.default=()=>n},$i=(e,t,n)=>{for(const i in t)!n&&Vi(i)||(e[i]=t[i])},Hi=function(e,t){t&&t.pendingBranch?h(e)?t.effects.push(...e):t.effects.push(e):(n=e,h(n)?Ut.push(...n):zt&&-1===n.id?zt.splice($t+1,0,n):1&n.flags||(Ut.push(n),n.flags|=1),Gt());var n};function Yi(e,n){"boolean"!=typeof __VUE_OPTIONS_API__&&(V().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(V().__VUE_PROD_DEVTOOLS__=!1),"boolean"!=typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&(V().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1);const s=V();s.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&rn(s.__VUE_DEVTOOLS_GLOBAL_HOOK__,s);const{insert:o,remove:a,patchProp:l,createElement:c,createText:u,createComment:p,setText:f,setElementText:g,parentNode:m,nextSibling:v,setScopeId:y=r,insertStaticContent:b}=e,x=(e,t,n,i=null,r=null,s=null,o=void 0,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Sr(e,t)&&(i=Z(e),G(e,r,s,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case fr:_(e,t,n,i);break;case gr:k(e,t,n,i);break;case mr:null==e&&E(t,n,i,o);break;case pr:F(e,t,n,i,r,s,o,a,l);break;default:1&d?S(e,t,n,i,r,s,o,a,l):6&d?j(e,t,n,i,r,s,o,a,l):(64&d||128&d)&&c.process(e,t,n,i,r,s,o,a,l,ie)}null!=u&&r&&On(u,e&&e.ref,s,t||e,!t)},_=(e,t,n,i)=>{if(null==e)o(t.el=u(t.children),n,i);else{const n=t.el=e.el;t.children!==e.children&&f(n,t.children)}},k=(e,t,n,i)=>{null==e?o(t.el=p(t.children||""),n,i):t.el=e.el},E=(e,t,n,i)=>{[e.el,e.anchor]=b(e.children,t,n,i,e.el,e.anchor)},S=(e,t,n,i,r,s,o,a,l)=>{"svg"===t.type?o="svg":"math"===t.type&&(o="mathml"),null==e?T(t,n,i,r,s,o,a,l):P(e,t,r,s,o,a,l)},T=(e,t,n,i,r,s,a,u)=>{let d,h;const{props:p,shapeFlag:f,transition:m,dirs:v}=e;if(d=e.el=c(e.type,s,p&&p.is,p),8&f?g(d,e.children):16&f&&M(e.children,d,null,i,r,Wi(e,s),a,u),v&&fn(e,null,i,"created"),I(d,e,e.scopeId,a,i),p){for(const e in p)"value"===e||C(e)||l(d,e,null,p[e],s,i);"value"in p&&l(d,"value",null,p.value,s),(h=p.onVnodeBeforeMount)&&Br(h,i,e)}__VUE_PROD_DEVTOOLS__&&(L(d,"__vnode",e,!0),L(d,"__vueParentComponent",i,!0)),v&&fn(e,null,i,"beforeMount");const y=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(r,m);y&&m.beforeEnter(d),o(d,t,n),((h=p&&p.onVnodeMounted)||y||v)&&Hi((()=>{h&&Br(h,i,e),y&&m.enter(d),v&&fn(e,null,i,"mounted")}),r)},I=(e,t,n,i,r)=>{if(n&&y(e,n),i)for(let t=0;t<i.length;t++)y(e,i[t]);if(r){let n=r.subTree;if(t===n||hr(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=r.vnode;I(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},M=(e,t,n,i,r,s,o,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Fr(e[c]):Nr(e[c]);x(null,l,t,n,i,r,s,o,a)}},P=(e,n,i,r,s,o,a)=>{const c=n.el=e.el;__VUE_PROD_DEVTOOLS__&&(c.__vnode=n);let{patchFlag:u,dynamicChildren:d,dirs:h}=n;u|=16&e.patchFlag;const p=e.props||t,f=n.props||t;let m;if(i&&qi(i,!1),(m=f.onVnodeBeforeUpdate)&&Br(m,i,n,e),h&&fn(n,e,i,"beforeUpdate"),i&&qi(i,!0),(p.innerHTML&&null==f.innerHTML||p.textContent&&null==f.textContent)&&g(c,""),d?O(e.dynamicChildren,d,c,i,r,Wi(n,s),o):a||H(e,n,c,null,i,r,Wi(n,s),o,!1),u>0){if(16&u)N(c,p,f,i,s);else if(2&u&&p.class!==f.class&&l(c,"class",null,f.class,s),4&u&&l(c,"style",p.style,f.style,s),8&u){const e=n.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t],r=p[n],o=f[n];o===r&&"value"!==n||l(c,n,r,o,s,i)}}1&u&&e.children!==n.children&&g(c,n.children)}else a||null!=d||N(c,p,f,i,s);((m=f.onVnodeUpdated)||h)&&Hi((()=>{m&&Br(m,i,n,e),h&&fn(n,e,i,"updated")}),r)},O=(e,t,n,i,r,s,o)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===pr||!Sr(l,c)||198&l.shapeFlag)?m(l.el):n;x(l,c,u,null,i,r,s,o,!0)}},N=(e,n,i,r,s)=>{if(n!==i){if(n!==t)for(const t in n)C(t)||t in i||l(e,t,n[t],null,s,r);for(const t in i){if(C(t))continue;const o=i[t],a=n[t];o!==a&&"value"!==t&&l(e,t,a,o,s,r)}"value"in i&&l(e,"value",n.value,i.value,s)}},F=(e,t,n,i,r,s,a,l,c)=>{const d=t.el=e?e.el:u(""),h=t.anchor=e?e.anchor:u("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:g}=t;g&&(l=l?l.concat(g):g),null==e?(o(d,n,i),o(h,n,i),M(t.children||[],n,h,r,s,a,l,c)):p>0&&64&p&&f&&e.dynamicChildren?(O(e.dynamicChildren,f,n,r,s,a,l),(null!=t.key||r&&t===r.subTree)&&Gi(e,t,!0)):H(e,t,n,h,r,s,a,l,c)},j=(e,t,n,i,r,s,o,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,o,l):B(t,n,i,r,s,o,l):U(e,t,l)},B=(e,n,i,r,s,o,a)=>{const l=e.component=function(e,n,i){const r=e.type,s=(n?n.appContext:e.appContext)||Ur,o={uid:zr++,vnode:e,type:r,parent:n,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ne(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(s.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ni(r,s),emitsOptions:or(r,s),emit:null,emitted:null,propsDefaults:t,inheritAttrs:r.inheritAttrs,ctx:t,data:t,props:t,attrs:t,slots:t,refs:t,setupState:t,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=n?n.root:o,o.emit=sr.bind(null,o),e.ce&&e.ce(o),o}(e,r,s);if(Ln(e)&&(l.ctx.renderer=ie),function(e,t=!1,n=!1){t&&Wr(t);const{props:i,children:r}=e.vnode,s=Kr(e);!function(e,t,n,i=!1){const r={},s=Mi();e.propsDefaults=Object.create(null),Oi(e,t,r,s);for(const t in e.propsOptions[0])t in r||(r[t]=void 0);n?e.props=i?r:lt(r):e.type.props?e.props=r:e.props=s,e.attrs=s}(e,i,s,t),((e,t,n)=>{const i=e.slots=Mi();if(32&e.vnode.shapeFlag){const e=t._;e?($i(i,t,n),n&&L(i,"_",e,!0)):Ui(t,i)}else t&&zi(e,t)})(e,r,n||t);const o=s?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,di);const{setup:i}=n;if(i){be();const n=e.setupContext=i.length>1?function(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,ts),slots:e.slots,emit:e.emit,expose:t}}(e):null,r=qr(e),s=Nt(i,e,0,[e.props,n]),o=w(s);if(we(),r(),!o&&!e.sp||Rn(e)||Pn(e),o){if(s.then(Gr,Gr),t)return s.then((n=>{Zr(e,n,t)})).catch((t=>{Vt(t,e,0)}));e.asyncDep=s}else Zr(e,s,t)}else es(e,t)}(e,t):void 0;t&&Wr(!1)}(l,!1,a),l.asyncDep){if(s&&s.registerDep(l,z,a),!e.el){const e=l.subTree=Ar(gr);k(null,e,n,i)}}else z(l,e,n,i,s,o,a)},U=(e,t,n)=>{const i=t.component=e.component;if(function(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==o&&(i?!o||dr(i,o,c):!!o);if(1024&l)return!0;if(16&l)return i?dr(i,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==i[n]&&!ar(c,n))return!0}}return!1}(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void $(i,t,n);i.next=t,i.update()}else t.el=e.el,i.vnode=t},z=(e,t,n,i,r,s,o)=>{const a=()=>{if(e.isMounted){let{next:t,bu:n,u:i,parent:l,vnode:c}=e;{const n=Ki(e);if(n)return t&&(t.el=c.el,$(e,t,o)),void n.asyncDep.then((()=>{e.isUnmounted||a()}))}let u,d=t;qi(e,!1),t?(t.el=c.el,$(e,t,o)):t=c,n&&R(n),(u=t.props&&t.props.onVnodeBeforeUpdate)&&Br(u,l,t,c),qi(e,!0);const h=lr(e),p=e.subTree;e.subTree=h,x(p,h,m(p.el),Z(p),e,r,s),t.el=h.el,null===d&&function({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i!==e)break;(e=t.vnode).el=n,t=t.parent}}(e,h.el),i&&Hi(i,r),(u=t.props&&t.props.onVnodeUpdated)&&Hi((()=>Br(u,l,t,c)),r),__VUE_PROD_DEVTOOLS__&&on(e)}else{let o;const{el:a,props:l}=t,{bm:c,m:u,parent:d,root:h,type:p}=e,f=Rn(t);if(qi(e,!1),c&&R(c),!f&&(o=l&&l.onVnodeBeforeMount)&&Br(o,d,t),qi(e,!0),a&&oe){const t=()=>{e.subTree=lr(e),oe(a,e.subTree,e,r,null)};f&&p.__asyncHydrate?p.__asyncHydrate(a,e,t):t()}else{h.ce&&h.ce._injectChildStyle(p);const o=e.subTree=lr(e);x(null,o,n,i,e,r,s),t.el=o.el}if(u&&Hi(u,r),!f&&(o=l&&l.onVnodeMounted)){const e=t;Hi((()=>Br(o,d,e)),r)}(256&t.shapeFlag||d&&Rn(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Hi(e.a,r),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&sn(e),t=n=i=null}};e.scope.on();const l=e.effect=new re(a);e.scope.off();const c=e.update=l.run.bind(l),u=e.job=l.runIfDirty.bind(l);u.i=e,u.id=e.uid,l.scheduler=()=>qt(u),qi(e,!0),c()},$=(e,n,i)=>{n.component=e;const r=e.vnode.props;e.vnode=n,e.next=null,function(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,a=gt(r),[l]=e.propsOptions;let c=!1;if(!(i||o>0)||16&o){let i;Oi(e,t,r,s)&&(c=!0);for(const s in a)t&&(d(t,s)||(i=A(s))!==s&&d(t,i))||(l?!n||void 0===n[s]&&void 0===n[i]||(r[s]=Ri(l,a,s,void 0,e,!0)):delete r[s]);if(s!==a)for(const e in s)t&&d(t,e)||(delete s[e],c=!0)}else if(8&o){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let o=n[i];if(ar(e.emitsOptions,o))continue;const u=t[o];if(l)if(d(s,o))u!==s[o]&&(s[o]=u,c=!0);else{const t=D(o);r[t]=Ri(l,a,t,u,e,!1)}else u!==s[o]&&(s[o]=u,c=!0)}}c&&Me(e.attrs,"set","")}(e,n.props,r,i),((e,n,i)=>{const{vnode:r,slots:s}=e;let o=!0,a=t;if(32&r.shapeFlag){const e=n._;e?i&&1===e?o=!1:$i(s,n,i):(o=!n.$stable,Ui(n,s)),a=n}else n&&(zi(e,n),a={default:1});if(o)for(const e in s)Vi(e)||null!=a[e]||delete s[e]})(e,n.children,i),be(),Kt(e),we()},H=(e,t,n,i,r,s,o,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:h,shapeFlag:p}=t;if(h>0){if(128&h)return void W(c,d,n,i,r,s,o,a,l);if(256&h)return void Y(c,d,n,i,r,s,o,a,l)}8&p?(16&u&&J(c,r,s),d!==c&&g(n,d)):16&u?16&p?W(c,d,n,i,r,s,o,a,l):J(c,r,s,!0):(8&u&&g(n,""),16&p&&M(d,n,i,r,s,o,a,l))},Y=(e,t,n,r,s,o,a,l,c)=>{t=t||i;const u=(e=e||i).length,d=t.length,h=Math.min(u,d);let p;for(p=0;p<h;p++){const i=t[p]=c?Fr(t[p]):Nr(t[p]);x(e[p],i,n,null,s,o,a,l,c)}u>d?J(e,s,o,!0,!1,h):M(t,n,r,s,o,a,l,c,h)},W=(e,t,n,r,s,o,a,l,c)=>{let u=0;const d=t.length;let h=e.length-1,p=d-1;for(;u<=h&&u<=p;){const i=e[u],r=t[u]=c?Fr(t[u]):Nr(t[u]);if(!Sr(i,r))break;x(i,r,n,null,s,o,a,l,c),u++}for(;u<=h&&u<=p;){const i=e[h],r=t[p]=c?Fr(t[p]):Nr(t[p]);if(!Sr(i,r))break;x(i,r,n,null,s,o,a,l,c),h--,p--}if(u>h){if(u<=p){const e=p+1,i=e<d?t[e].el:r;for(;u<=p;)x(null,t[u]=c?Fr(t[u]):Nr(t[u]),n,i,s,o,a,l,c),u++}}else if(u>p)for(;u<=h;)G(e[u],s,o,!0),u++;else{const f=u,g=u,m=new Map;for(u=g;u<=p;u++){const e=t[u]=c?Fr(t[u]):Nr(t[u]);null!=e.key&&m.set(e.key,u)}let v,y=0;const b=p-g+1;let w=!1,_=0;const k=new Array(b);for(u=0;u<b;u++)k[u]=0;for(u=f;u<=h;u++){const i=e[u];if(y>=b){G(i,s,o,!0);continue}let r;if(null!=i.key)r=m.get(i.key);else for(v=g;v<=p;v++)if(0===k[v-g]&&Sr(i,t[v])){r=v;break}void 0===r?G(i,s,o,!0):(k[r-g]=u+1,r>=_?_=r:w=!0,x(i,t[r],n,null,s,o,a,l,c),y++)}const E=w?function(e){const t=e.slice(),n=[0];let i,r,s,o,a;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<l?s=a+1:o=a;l<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}(k):i;for(v=E.length-1,u=b-1;u>=0;u--){const e=g+u,i=t[e],h=e+1<d?t[e+1].el:r;0===k[u]?x(null,i,n,h,s,o,a,l,c):w&&(v<0||u!==E[v]?q(i,n,h,2):v--)}}},q=(e,t,n,i,r=null)=>{const{el:s,type:l,transition:c,children:u,shapeFlag:d}=e;if(6&d)q(e.component.subTree,t,n,i);else if(128&d)e.suspense.move(t,n,i);else if(64&d)l.move(e,t,n,ie);else if(l!==pr)if(l!==mr)if(2!==i&&1&d&&c)if(0===i)c.beforeEnter(s),o(s,t,n),Hi((()=>c.enter(s)),r);else{const{leave:i,delayLeave:r,afterLeave:l}=c,u=()=>{e.ctx.isUnmounted?a(s):o(s,t,n)},d=()=>{i(s,(()=>{u(),l&&l()}))};r?r(s,u,d):d()}else o(s,t,n);else(({el:e,anchor:t},n,i)=>{let r;for(;e&&e!==t;)r=v(e),o(e,n,i),e=r;o(t,n,i)})(e,t,n);else{o(s,t,n);for(let e=0;e<u.length;e++)q(u[e],t,n,i);o(e.anchor,t,n)}},G=(e,t,n,i=!1,r=!1)=>{const{type:s,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h,cacheIndex:p}=e;if(-2===d&&(r=!1),null!=a&&(be(),On(a,null,n,e,!0),we()),null!=p&&(t.renderCache[p]=void 0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,g=!Rn(e);let m;if(g&&(m=o&&o.onVnodeBeforeUnmount)&&Br(m,t,e),6&u)Q(e.component,n,i);else{if(128&u)return void e.suspense.unmount(n,i);f&&fn(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,ie,i):c&&!c.hasOnce&&(s!==pr||d>0&&64&d)?J(c,t,n,!1,!0):(s===pr&&384&d||!r&&16&u)&&J(l,t,n),i&&K(e)}(g&&(m=o&&o.onVnodeUnmounted)||f)&&Hi((()=>{m&&Br(m,t,e),f&&fn(e,null,t,"unmounted")}),n)},K=e=>{const{type:t,el:n,anchor:i,transition:r}=e;if(t===pr)return void X(n,i);if(t===mr)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=v(e),a(e),e=n;a(t)})(e);const s=()=>{a(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:i}=r,o=()=>t(n,s);i?i(e.el,s,o):o()}else s()},X=(e,t)=>{let n;for(;e!==t;)n=v(e),a(e),e=n;a(t)},Q=(e,t,n)=>{const{bum:i,scope:r,job:s,subTree:o,um:a,m:l,a:c,parent:u,slots:{__:d}}=e;var p;Xi(l),Xi(c),i&&R(i),u&&h(d)&&d.forEach((e=>{u.renderCache[e]=void 0})),r.stop(),s&&(s.flags|=8,G(o,e,t,n)),a&&Hi(a,t),Hi((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&(p=e,Zt&&"function"==typeof Zt.cleanupBuffer&&!Zt.cleanupBuffer(p)&&an(p))},J=(e,t,n,i=!1,r=!1,s=0)=>{for(let o=s;o<e.length;o++)G(e[o],t,n,i,r)},Z=e=>{if(6&e.shapeFlag)return Z(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=v(e.anchor||e.el),n=t&&t[gn];return n?v(n):t};let ee=!1;const te=(e,t,n)=>{null==e?t._vnode&&G(t._vnode,null,null,!0):x(t._vnode||null,e,t,null,null,null,n),t._vnode=e,ee||(ee=!0,Kt(),Xt(),ee=!1)},ie={p:x,um:G,m:q,r:K,mt:B,mc:M,pc:H,pbc:O,n:Z,o:e};let se,oe;return n&&([se,oe]=n(ie)),{render:te,hydrate:se,createApp:Si(te,se)}}function Wi({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function qi({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Gi(e,t,n=!1){const i=e.children,r=t.children;if(h(i)&&h(r))for(let e=0;e<i.length;e++){const t=i[e];let s=r[e];1&s.shapeFlag&&!s.dynamicChildren&&((s.patchFlag<=0||32===s.patchFlag)&&(s=r[e]=Fr(r[e]),s.el=t.el),n||-2===s.patchFlag||Gi(t,s)),s.type===fr&&(s.el=t.el),s.type!==gr||s.el||(s.el=t.el)}}function Ki(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ki(t)}function Xi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Qi=Symbol.for("v-scx"),Ji=()=>Ii(Qi);function Zi(e,t){return tr(e,null,t)}function er(e,t,n){return tr(e,t,n)}function tr(e,n,i=t){const{immediate:s,deep:o,flush:a,once:u}=i,d=l({},i),p=n&&s||!n&&"post"!==a;let f;if(Jr)if("sync"===a){const e=Ji();f=e.__watcherHandles||(e.__watcherHandles=[])}else if(!p){const e=()=>{};return e.stop=r,e.resume=r,e.pause=r,e}const g=$r;d.call=(e,t,n)=>Ft(e,g,t,n);let v=!1;"post"===a?d.scheduler=e=>{Hi(e,g&&g.suspense)}:"sync"!==a&&(v=!0,d.scheduler=(e,t)=>{t?e():qt(e)}),d.augmentJob=e=>{n&&(e.flags|=4),v&&(e.flags|=2,g&&(e.id=g.uid,e.i=g))};const y=function(e,n,i=t){const{immediate:s,deep:o,once:a,scheduler:l,augmentJob:u,call:d}=i,p=e=>o?e:pt(e)||!1===o||0===o?Lt(e,1):Lt(e);let f,g,v,y,b=!1,w=!1;if(yt(e)?(g=()=>e.value,b=pt(e)):dt(e)?(g=()=>p(e),b=!0):h(e)?(w=!0,b=e.some((e=>dt(e)||pt(e))),g=()=>e.map((e=>yt(e)?e.value:dt(e)?p(e):m(e)?d?d(e,2):e():void 0))):g=m(e)?n?d?()=>d(e,2):e:()=>{if(v){be();try{v()}finally{we()}}const t=Rt;Rt=f;try{return d?d(e,3,[y]):e(y)}finally{Rt=t}}:r,n&&o){const e=g,t=!0===o?1/0:o;g=()=>Lt(e(),t)}const x=ee,_=()=>{f.stop(),x&&x.active&&c(x.effects,f)};if(a&&n){const e=n;n=(...t)=>{e(...t),_()}}let k=w?new Array(e.length).fill(Pt):Pt;const E=e=>{if(1&f.flags&&(f.dirty||e))if(n){const e=f.run();if(o||b||(w?e.some(((e,t)=>O(e,k[t]))):O(e,k))){v&&v();const t=Rt;Rt=f;try{const t=[e,k===Pt?void 0:w&&k[0]===Pt?[]:k,y];k=e,d?d(n,3,t):n(...t)}finally{Rt=t}}}else f.run()};return u&&u(E),f=new re(g),f.scheduler=l?()=>l(E,!1):E,y=e=>function(e,t=!1,n=Rt){if(n){let t=Ot.get(n);t||Ot.set(n,t=[]),t.push(e)}}(e,!1,f),v=f.onStop=()=>{const e=Ot.get(f);if(e){if(d)d(e,4);else for(const t of e)t();Ot.delete(f)}},n?s?E(!0):k=f.run():l?l(E.bind(null,!0),!0):f.run(),_.pause=f.pause.bind(f),_.resume=f.resume.bind(f),_.stop=_,_}(e,n,d);return Jr&&(f?f.push(y):p&&y()),y}function nr(e,t,n){const i=this.proxy,r=v(e)?e.includes(".")?ir(i,e):()=>i[e]:e.bind(i,i);let s;m(t)?s=t:(s=t.handler,n=t);const o=qr(this),a=tr(r,s.bind(i),n);return o(),a}function ir(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const rr=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${D(t)}Modifiers`]||e[`${A(t)}Modifiers`];function sr(e,n,...i){if(e.isUnmounted)return;const r=e.vnode.props||t;let s=i;const o=n.startsWith("update:"),a=o&&rr(r,n.slice(7));let l;a&&(a.trim&&(s=i.map((e=>v(e)?e.trim():e))),a.number&&(s=i.map(N))),__VUE_PROD_DEVTOOLS__&&function(e,t,n){nn("component:emit",e.appContext.app,e,t,n)}(e,n,s);let c=r[l=P(n)]||r[l=P(D(n))];!c&&o&&(c=r[l=P(A(n))]),c&&Ft(c,e,6,s);const u=r[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,Ft(u,e,6,s)}}function or(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(void 0!==r)return r;const s=e.emits;let o={},a=!1;if(__VUE_OPTIONS_API__&&!m(e)){const i=e=>{const n=or(e,t,!0);n&&(a=!0,l(o,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return s||a?(h(s)?s.forEach((e=>o[e]=null)):l(o,s),b(e)&&i.set(e,o),o):(b(e)&&i.set(e,null),null)}function ar(e,t){return!(!e||!o(t))&&(t=t.slice(2).replace(/Once$/,""),d(e,t[0].toLowerCase()+t.slice(1))||d(e,A(t))||d(e,t))}function lr(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:l,emit:c,render:u,renderCache:d,props:h,data:p,setupState:f,ctx:g,inheritAttrs:m}=e,v=dn(e);let y,b;try{if(4&n.shapeFlag){const e=r||i,t=e;y=Nr(u.call(t,e,d,h,f,p,g)),b=l}else{const e=t;y=Nr(e.length>1?e(h,{attrs:l,slots:o,emit:c}):e(h,null)),b=t.props?l:cr(l)}}catch(t){vr.length=0,Vt(t,e,1),y=Ar(gr)}let w=y;if(b&&!1!==m){const e=Object.keys(b),{shapeFlag:t}=w;e.length&&7&t&&(s&&e.some(a)&&(b=ur(b,s)),w=Pr(w,b,!1,!0))}return n.dirs&&(w=Pr(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&In(w,n.transition),y=w,dn(v),y}const cr=e=>{let t;for(const n in e)("class"===n||"style"===n||o(n))&&((t||(t={}))[n]=e[n]);return t},ur=(e,t)=>{const n={};for(const i in e)a(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function dr(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!ar(n,s))return!0}return!1}const hr=e=>e.__isSuspense;const pr=Symbol.for("v-fgt"),fr=Symbol.for("v-txt"),gr=Symbol.for("v-cmt"),mr=Symbol.for("v-stc"),vr=[];let yr=null;function br(e=!1){vr.push(yr=e?null:[])}let wr=1;function xr(e,t=!1){wr+=e,e<0&&yr&&t&&(yr.hasOnce=!0)}function _r(e){return e.dynamicChildren=wr>0?yr||i:null,vr.pop(),yr=vr[vr.length-1]||null,wr>0&&yr&&yr.push(e),e}function kr(e,t,n,i,r,s){return _r(Ir(e,t,n,i,r,s,!0))}function Er(e,t,n,i,r){return _r(Ar(e,t,n,i,r,!0))}function Cr(e){return!!e&&!0===e.__v_isVNode}function Sr(e,t){return e.type===t.type&&e.key===t.key}const Tr=({key:e})=>null!=e?e:null,Dr=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?v(e)||yt(e)||m(e)?{i:cn,r:e,k:t,f:!!n}:e:null);function Ir(e,t=null,n=null,i=0,r=null,s=(e===pr?0:1),o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Tr(t),ref:t&&Dr(t),scopeId:un,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:cn};return a?(Vr(l,n),128&s&&e.normalize(l)):n&&(l.shapeFlag|=v(n)?8:16),wr>0&&!o&&yr&&(l.patchFlag>0||6&s)&&32!==l.patchFlag&&yr.push(l),l}const Ar=function(e,t=null,n=null,i=0,r=null,s=!1){if(e&&e!==ei||(e=gr),Cr(e)){const i=Pr(e,t,!0);return n&&Vr(i,n),wr>0&&!s&&yr&&(6&i.shapeFlag?yr[yr.indexOf(e)]=i:yr.push(i)),i.patchFlag=-2,i}if(o=e,m(o)&&"__vccOpts"in o&&(e=e.__vccOpts),t){t=Mr(t);let{class:e,style:n}=t;e&&!v(e)&&(t.class=H(e)),b(n)&&(ft(n)&&!h(n)&&(n=l({},n)),t.style=j(n))}var o;return Ir(e,t,n,i,r,v(e)?1:hr(e)?128:mn(e)?64:b(e)?4:m(e)?2:0,s,!0)};function Mr(e){return e?ft(e)||Pi(e)?l({},e):e:null}function Pr(e,t,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=e,c=t?jr(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Tr(c),ref:t&&t.ref?n&&s?h(s)?s.concat(Dr(t)):[s,Dr(t)]:Dr(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==pr?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pr(e.ssContent),ssFallback:e.ssFallback&&Pr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&In(u,l.clone(u)),u}function Or(e=" ",t=0){return Ar(fr,null,e,t)}function Rr(e,t){const n=Ar(mr,null,e);return n.staticCount=t,n}function Lr(e="",t=!1){return t?(br(),Er(gr,null,e)):Ar(gr,null,e)}function Nr(e){return null==e||"boolean"==typeof e?Ar(gr):h(e)?Ar(pr,null,e.slice()):Cr(e)?Fr(e):Ar(fr,null,String(e))}function Fr(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Pr(e)}function Vr(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if(h(t))n=16;else if("object"==typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),Vr(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||Pi(t)?3===i&&cn&&(1===cn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=cn}}else m(t)?(t={default:t,_ctx:cn},n=32):(t=String(t),64&i?(n=16,t=[Or(t)]):n=8);e.children=t,e.shapeFlag|=n}function jr(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=H([t.class,i.class]));else if("style"===e)t.style=j([t.style,i.style]);else if(o(e)){const n=t[e],r=i[e];!r||n===r||h(n)&&n.includes(r)||(t[e]=n?[].concat(n,r):r)}else""!==e&&(t[e]=i[e])}return t}function Br(e,t,n,i=null){Ft(e,t,7,[n,i])}const Ur=Ei();let zr=0;let $r=null;const Hr=()=>$r||cn;let Yr,Wr;{const e=V(),t=(t,n)=>{let i;return(i=e[t])||(i=e[t]=[]),i.push(n),e=>{i.length>1?i.forEach((t=>t(e))):i[0](e)}};Yr=t("__VUE_INSTANCE_SETTERS__",(e=>$r=e)),Wr=t("__VUE_SSR_SETTERS__",(e=>Jr=e))}const qr=e=>{const t=$r;return Yr(e),e.scope.on(),()=>{e.scope.off(),Yr(t)}},Gr=()=>{$r&&$r.scope.off(),Yr(null)};function Kr(e){return 4&e.vnode.shapeFlag}let Xr,Qr,Jr=!1;function Zr(e,t,n){m(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:b(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=Ct(t)),es(e,n)}function es(e,t,n){const i=e.type;if(!e.render){if(!t&&Xr&&!i.render){const t=i.template||__VUE_OPTIONS_API__&&mi(e).template;if(t){const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:s,compilerOptions:o}=i,a=l(l({isCustomElement:n,delimiters:s},r),o);i.render=Xr(t,a)}}e.render=i.render||r,Qr&&Qr(e)}if(__VUE_OPTIONS_API__){const t=qr(e);be();try{!function(e){const t=mi(e),n=e.proxy,i=e.ctx;pi=!1,t.beforeCreate&&fi(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:a,watch:l,provide:c,inject:u,created:d,beforeMount:p,mounted:f,beforeUpdate:g,updated:v,activated:y,deactivated:w,beforeDestroy:x,beforeUnmount:_,destroyed:k,unmounted:E,render:C,renderTracked:S,renderTriggered:T,errorCaptured:D,serverPrefetch:I,expose:A,inheritAttrs:M,components:P,directives:O,filters:R}=t;if(u&&function(e,t){h(e)&&(e=wi(e));for(const n in e){const i=e[n];let r;r=b(i)?"default"in i?Ii(i.from||n,i.default,!0):Ii(i.from||n):Ii(i),yt(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):t[n]=r}}(u,i),a)for(const e in a){const t=a[e];m(t)&&(i[e]=t.bind(n))}if(s){const t=s.call(n,n);b(t)&&(e.data=at(t))}if(pi=!0,o)for(const e in o){const t=o[e],s=m(t)?t.bind(n,n):m(t.get)?t.get.bind(n,n):r,a=!m(t)&&m(t.set)?t.set.bind(n):r,l=is({get:s,set:a});Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(l)for(const e in l)gi(l[e],i,n,e);if(c){const e=m(c)?c.call(n):c;Reflect.ownKeys(e).forEach((t=>{Di(t,e[t])}))}function L(e,t){h(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&fi(d,e,"c"),L(zn,p),L($n,f),L(Hn,g),L(Yn,v),L(Nn,y),L(Fn,w),L(Qn,D),L(Xn,S),L(Kn,T),L(Wn,_),L(qn,E),L(Gn,I),h(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});C&&e.render===r&&(e.render=C),null!=M&&(e.inheritAttrs=M),P&&(e.components=P),O&&(e.directives=O),I&&Pn(e)}(e)}finally{we(),t()}}}const ts={get:(e,t)=>(Ae(e,0,""),e[t])};function ns(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ct((t=e.exposed,!d(t,"__v_skip")&&Object.isExtensible(t)&&L(t,"__v_skip",!0),t)),{get:(t,n)=>n in t?t[n]:n in ci?ci[n](e):void 0,has:(e,t)=>t in e||t in ci})):e.proxy;var t}const is=(e,t)=>{const n=function(e,t,n=!1){let i,r;return m(e)?i=e:(i=e.get,r=e.set),new Mt(i,r,n)}(e,0,Jr);return n};function rs(e,t,n){const i=arguments.length;return 2===i?b(t)&&!h(t)?Cr(t)?Ar(e,null,[t]):Ar(e,t):Ar(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Cr(n)&&(n=[n]),Ar(e,t,n))}const ss="3.5.15";let os;const as="undefined"!=typeof window&&window.trustedTypes;if(as)try{os=as.createPolicy("vue",{createHTML:e=>e})}catch(e){}const ls=os?e=>os.createHTML(e):e=>e,cs="undefined"!=typeof document?document:null,us=cs&&cs.createElement("template"),ds={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r="svg"===t?cs.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?cs.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?cs.createElement(e,{is:n}):cs.createElement(e);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>cs.createTextNode(e),createComment:e=>cs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>cs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),r!==s&&(r=r.nextSibling););else{us.innerHTML=ls("svg"===i?`<svg>${e}</svg>`:"mathml"===i?`<math>${e}</math>`:e);const r=us.content;if("svg"===i||"mathml"===i){const e=r.firstChild;for(;e.firstChild;)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},hs="transition",ps="animation",fs=Symbol("_vtc"),gs={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ms=l({},wn,gs),vs=(e=>(e.displayName="Transition",e.props=ms,e))(((e,{slots:t})=>rs(En,function(e){const t={};for(const n in e)n in gs||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:u=o,appearToClass:d=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,g=function(e){if(null==e)return null;if(b(e))return[ws(e.enter),ws(e.leave)];{const t=ws(e);return[t,t]}}(r),m=g&&g[0],v=g&&g[1],{onBeforeEnter:y,onEnter:w,onEnterCancelled:x,onLeave:_,onLeaveCancelled:k,onBeforeAppear:E=y,onAppear:C=w,onAppearCancelled:S=x}=t,T=(e,t,n,i)=>{e._enterCancelled=i,_s(e,t?d:a),_s(e,t?u:o),n&&n()},D=(e,t)=>{e._isLeaving=!1,_s(e,h),_s(e,f),_s(e,p),t&&t()},I=e=>(t,n)=>{const r=e?C:w,o=()=>T(t,e,n);ys(r,[t,o]),ks((()=>{_s(t,e?c:s),xs(t,e?d:a),bs(r)||Cs(t,i,m,o)}))};return l(t,{onBeforeEnter(e){ys(y,[e]),xs(e,s),xs(e,o)},onBeforeAppear(e){ys(E,[e]),xs(e,c),xs(e,u)},onEnter:I(!1),onAppear:I(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>D(e,t);xs(e,h),e._enterCancelled?(xs(e,p),Ds()):(Ds(),xs(e,p)),ks((()=>{e._isLeaving&&(_s(e,h),xs(e,f),bs(_)||Cs(e,i,v,n))})),ys(_,[e,n])},onEnterCancelled(e){T(e,!1,void 0,!0),ys(x,[e])},onAppearCancelled(e){T(e,!0,void 0,!0),ys(S,[e])},onLeaveCancelled(e){D(e),ys(k,[e])}})}(e),t))),ys=(e,t=[])=>{h(e)?e.forEach((e=>e(...t))):e&&e(...t)},bs=e=>!!e&&(h(e)?e.some((e=>e.length>1)):e.length>1);function ws(e){return(e=>{const t=v(e)?Number(e):NaN;return isNaN(t)?e:t})(e)}function xs(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[fs]||(e[fs]=new Set)).add(t)}function _s(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[fs];n&&(n.delete(t),n.size||(e[fs]=void 0))}function ks(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Es=0;function Cs(e,t,n,i){const r=e._endId=++Es,s=()=>{r===e._endId&&i()};if(null!=n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=function(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),r=i(`${hs}Delay`),s=i(`${hs}Duration`),o=Ss(r,s),a=i(`${ps}Delay`),l=i(`${ps}Duration`),c=Ss(a,l);let u=null,d=0,h=0;return t===hs?o>0&&(u=hs,d=o,h=s.length):t===ps?c>0&&(u=ps,d=c,h=l.length):(d=Math.max(o,c),u=d>0?o>c?hs:ps:null,h=u?u===hs?s.length:l.length:0),{type:u,timeout:d,propCount:h,hasTransform:u===hs&&/\b(transform|all)(,|$)/.test(i(`${hs}Property`).toString())}}(e,t);if(!o)return i();const c=o+"end";let u=0;const d=()=>{e.removeEventListener(c,h),s()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),a+1),e.addEventListener(c,h)}function Ss(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>Ts(t)+Ts(e[n]))))}function Ts(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function Ds(){return document.body.offsetHeight}const Is=Symbol("_vod"),As=Symbol("_vsh"),Ms=Symbol(""),Ps=/(^|;)\s*display\s*:/,Os=/\s*!important$/;function Rs(e,t,n){if(h(n))n.forEach((n=>Rs(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=function(e,t){const n=Ns[t];if(n)return n;let i=D(t);if("filter"!==i&&i in e)return Ns[t]=i;i=M(i);for(let n=0;n<Ls.length;n++){const r=Ls[n]+i;if(r in e)return Ns[t]=r}return t}(e,t);Os.test(n)?e.setProperty(A(i),n.replace(Os,""),"important"):e[i]=n}}const Ls=["Webkit","Moz","ms"],Ns={},Fs="http://www.w3.org/1999/xlink";function Vs(e,t,n,i,r,s=W(t)){i&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(Fs,t.slice(6,t.length)):e.setAttributeNS(Fs,t,n):null==n||s&&!q(n)?e.removeAttribute(t):e.setAttribute(t,s?"":y(n)?String(n):n)}function js(e,t,n,i,r){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?ls(n):n));const s=e.tagName;if("value"===t&&"PROGRESS"!==s&&!s.includes("-")){const i="OPTION"===s?e.getAttribute("value")||"":e.value,r=null==n?"checkbox"===e.type?"on":"":String(n);return i===r&&"_value"in e||(e.value=r),null==n&&e.removeAttribute(t),void(e._value=n)}let o=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=q(n):null==n&&"string"===i?(n="",o=!0):"number"===i&&(n=0,o=!0)}try{e[t]=n}catch(e){}o&&e.removeAttribute(r||t)}function Bs(e,t,n,i){e.addEventListener(t,n,i)}const Us=Symbol("_vei");const zs=/(?:Once|Passive|Capture)$/;let $s=0;const Hs=Promise.resolve(),Ys=()=>$s||(Hs.then((()=>$s=0)),$s=Date.now()),Ws=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;"undefined"!=typeof HTMLElement&&HTMLElement,Symbol("_moveCb"),Symbol("_enterCb");const qs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return h(t)?e=>R(t,e):t};function Gs(e){e.target.composing=!0}function Ks(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Xs=Symbol("_assign"),Qs={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[Xs]=qs(r);const s=i||r.props&&"number"===r.props.type;Bs(e,t?"change":"input",(t=>{if(t.target.composing)return;let i=e.value;n&&(i=i.trim()),s&&(i=N(i)),e[Xs](i)})),n&&Bs(e,"change",(()=>{e.value=e.value.trim()})),t||(Bs(e,"compositionstart",Gs),Bs(e,"compositionend",Ks),Bs(e,"change",Ks))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(e[Xs]=qs(o),e.composing)return;const a=null==t?"":t;if((!s&&"number"!==e.type||/^0\d/.test(e.value)?e.value:N(e.value))!==a){if(document.activeElement===e&&"range"!==e.type){if(i&&t===n)return;if(r&&e.value.trim()===a)return}e.value=a}}},Js={deep:!0,created(e,t,n){e[Xs]=qs(n),Bs(e,"change",(()=>{const t=e._modelValue,n=io(e),i=e.checked,r=e[Xs];if(h(t)){const e=K(t,n),s=-1!==e;if(i&&!s)r(t.concat(n));else if(!i&&s){const n=[...t];n.splice(e,1),r(n)}}else if(f(t)){const e=new Set(t);i?e.add(n):e.delete(n),r(e)}else r(ro(e,i))}))},mounted:Zs,beforeUpdate(e,t,n){e[Xs]=qs(n),Zs(e,t,n)}};function Zs(e,{value:t,oldValue:n},i){let r;if(e._modelValue=t,h(t))r=K(t,i.props.value)>-1;else if(f(t))r=t.has(i.props.value);else{if(t===n)return;r=G(t,ro(e,!0))}e.checked!==r&&(e.checked=r)}const eo={created(e,{value:t},n){e.checked=G(t,n.props.value),e[Xs]=qs(n),Bs(e,"change",(()=>{e[Xs](io(e))}))},beforeUpdate(e,{value:t,oldValue:n},i){e[Xs]=qs(i),t!==n&&(e.checked=G(t,i.props.value))}},to={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const r=f(t);Bs(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?N(io(e)):io(e)));e[Xs](e.multiple?r?new Set(t):t:t[0]),e._assigning=!0,Wt((()=>{e._assigning=!1}))})),e[Xs]=qs(i)},mounted(e,{value:t}){no(e,t)},beforeUpdate(e,t,n){e[Xs]=qs(n)},updated(e,{value:t}){e._assigning||no(e,t)}};function no(e,t){const n=e.multiple,i=h(t);if(!n||i||f(t)){for(let r=0,s=e.options.length;r<s;r++){const s=e.options[r],o=io(s);if(n)if(i){const e=typeof o;s.selected="string"===e||"number"===e?t.some((e=>String(e)===String(o))):K(t,o)>-1}else s.selected=t.has(o);else if(G(io(s),t))return void(e.selectedIndex!==r&&(e.selectedIndex=r))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function io(e){return"_value"in e?e._value:e.value}function ro(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const so={created(e,t,n){oo(e,t,n,null,"created")},mounted(e,t,n){oo(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){oo(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){oo(e,t,n,i,"updated")}};function oo(e,t,n,i,r){const s=function(e,t){switch(e){case"SELECT":return to;case"TEXTAREA":return Qs;default:switch(t){case"checkbox":return Js;case"radio":return eo;default:return Qs}}}(e.tagName,n.props&&n.props.type)[r];s&&s(e,t,n,i)}const ao=["ctrl","shift","alt","meta"],lo={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ao.some((n=>e[`${n}Key`]&&!t.includes(n)))},co=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(n,...i)=>{for(let e=0;e<t.length;e++){const i=lo[t[e]];if(i&&i(n,t))return}return e(n,...i)})},uo={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ho=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=n=>{if(!("key"in n))return;const i=A(n.key);return t.some((e=>e===i||uo[e]===i))?e(n):void 0})},po=l({patchProp:(e,t,n,i,r,s)=>{const l="svg"===r;"class"===t?function(e,t,n){const i=e[fs];i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,i,l):"style"===t?function(e,t,n){const i=e.style,r=v(n);let s=!1;if(n&&!r){if(t)if(v(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&Rs(i,t,"")}else for(const e in t)null==n[e]&&Rs(i,e,"");for(const e in n)"display"===e&&(s=!0),Rs(i,e,n[e])}else if(r){if(t!==n){const e=i[Ms];e&&(n+=";"+e),i.cssText=n,s=Ps.test(n)}}else t&&e.removeAttribute("style");Is in e&&(e[Is]=s?i.display:"",e[As]&&(i.display="none"))}(e,n,i):o(t)?a(t)||function(e,t,n,i,r=null){const s=e[Us]||(e[Us]={}),o=s[t];if(i&&o)o.value=i;else{const[n,a]=function(e){let t;if(zs.test(e)){let n;for(t={};n=e.match(zs);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):A(e.slice(2)),t]}(t);if(i){const o=s[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();Ft(function(e,t){if(h(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=Ys(),n}(i,r);Bs(e,n,o,a)}else o&&(function(e,t,n,i){e.removeEventListener(t,n,i)}(e,n,o,a),s[t]=void 0)}}(e,t,0,i,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,i){if(i)return"innerHTML"===t||"textContent"===t||!!(t in e&&Ws(t)&&m(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!Ws(t)||!v(n))&&t in e}(e,t,i,l))?(js(e,t,i),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||Vs(e,t,i,l,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&v(i)?("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),Vs(e,t,i,l)):js(e,D(t),i,0,t)}},ds);let fo;const go={id:"app"},mo={name:"App"};var vo=n(72),yo=n.n(vo),bo=n(825),wo=n.n(bo),xo=n(659),_o=n.n(xo),ko=n(56),Eo=n.n(ko),Co=n(540),So=n.n(Co),To=n(113),Do=n.n(To),Io=n(14),Ao={};Ao.styleTagTransform=Do(),Ao.setAttributes=Eo(),Ao.insert=_o().bind(null,"head"),Ao.domAPI=wo(),Ao.insertStyleElement=So(),yo()(Io.A,Ao),Io.A&&Io.A.locals&&Io.A.locals;var Mo=n(262);const Po=(0,Mo.A)(mo,[["render",function(e,t,n,i,r,s){const o=Zn("router-view");return br(),kr("div",go,[Ar(o)])}]]);function Oo(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:{}}const Ro="function"==typeof Proxy;let Lo,No;class Fo{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const t in e.settings){const i=e.settings[t];n[t]=i.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let r=Object.assign({},n);try{const e=localStorage.getItem(i),t=JSON.parse(e);Object.assign(r,t)}catch(e){}this.fallbacks={getSettings:()=>r,setSettings(e){try{localStorage.setItem(i,JSON.stringify(e))}catch(e){}r=e},now:()=>{return void 0!==Lo||("undefined"!=typeof window&&window.performance?(Lo=!0,No=window.performance):"undefined"!=typeof globalThis&&(null===(e=globalThis.perf_hooks)||void 0===e?void 0:e.performance)?(Lo=!0,No=globalThis.perf_hooks.performance):Lo=!1),Lo?No.now():Date.now();var e}},t&&t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}const Vo="undefined"!=typeof document;function jo(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const Bo=Object.assign;function Uo(e,t){const n={};for(const i in t){const r=t[i];n[i]=$o(r)?r.map(e):e(r)}return n}const zo=()=>{},$o=Array.isArray,Ho=/#/g,Yo=/&/g,Wo=/\//g,qo=/=/g,Go=/\?/g,Ko=/\+/g,Xo=/%5B/g,Qo=/%5D/g,Jo=/%5E/g,Zo=/%60/g,ea=/%7B/g,ta=/%7C/g,na=/%7D/g,ia=/%20/g;function ra(e){return encodeURI(""+e).replace(ta,"|").replace(Xo,"[").replace(Qo,"]")}function sa(e){return ra(e).replace(Ko,"%2B").replace(ia,"+").replace(Ho,"%23").replace(Yo,"%26").replace(Zo,"`").replace(ea,"{").replace(na,"}").replace(Jo,"^")}function oa(e){return null==e?"":function(e){return ra(e).replace(Ho,"%23").replace(Go,"%3F")}(e).replace(Wo,"%2F")}function aa(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}const la=/\/$/;function ca(e,t,n="/"){let i,r={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];".."!==r&&"."!==r||i.push("");let s,o,a=n.length-1;for(s=0;s<i.length;s++)if(o=i[s],"."!==o){if(".."!==o)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+i.slice(s).join("/")}(null!=i?i:t,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:aa(o)}}function ua(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function da(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ha(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!pa(e[n],t[n]))return!1;return!0}function pa(e,t){return $o(e)?fa(e,t):$o(t)?fa(t,e):e===t}function fa(e,t){return $o(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}const ga={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ma,va;!function(e){e.pop="pop",e.push="push"}(ma||(ma={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(va||(va={}));const ya=/^[^#]+#/;function ba(e,t){return e.replace(ya,"#")+t}const wa=()=>({left:window.scrollX,top:window.scrollY});function xa(e,t){return(history.state?history.state.position-t:-1)+e}const _a=new Map;let ka=()=>location.protocol+"//"+location.host;function Ea(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let t=r.includes(e.slice(s))?e.slice(s).length:1,n=r.slice(t);return"/"!==n[0]&&(n="/"+n),ua(n,"")}return ua(n,e)+i+r}function Ca(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?wa():null}}function Sa(e){return"string"==typeof e||e&&"object"==typeof e}function Ta(e){return"string"==typeof e||"symbol"==typeof e}const Da=Symbol("");var Ia;function Aa(e,t){return Bo(new Error,{type:e,[Da]:!0},t)}function Ma(e,t){return e instanceof Error&&Da in e&&(null==t||!!(e.type&t))}!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(Ia||(Ia={}));const Pa="[^/]+?",Oa={sensitive:!1,strict:!1,start:!0,end:!0},Ra=/[.+*?^${}()[\]/\\]/g;function La(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Na(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const e=La(i[n],r[n]);if(e)return e;n++}if(1===Math.abs(r.length-i.length)){if(Fa(i))return 1;if(Fa(r))return-1}return r.length-i.length}function Fa(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Va={type:0,value:""},ja=/[a-zA-Z0-9_]/;function Ba(e,t,n){const i=function(e,t){const n=Bo({},Oa,t),i=[];let r=n.start?"^":"";const s=[];for(const t of e){const e=t.length?[]:[90];n.strict&&!t.length&&(r+="/");for(let i=0;i<t.length;i++){const o=t[i];let a=40+(n.sensitive?.25:0);if(0===o.type)i||(r+="/"),r+=o.value.replace(Ra,"\\$&"),a+=40;else if(1===o.type){const{value:e,repeatable:n,optional:l,regexp:c}=o;s.push({name:e,repeatable:n,optional:l});const u=c||Pa;if(u!==Pa){a+=10;try{new RegExp(`(${u})`)}catch(t){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+t.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;i||(d=l&&t.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),r+=d,a+=20,l&&(a+=-8),n&&(a+=-20),".*"===u&&(a+=-50)}e.push(a)}i.push(e)}if(n.strict&&n.end){const e=i.length-1;i[e][i[e].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");return{re:o,score:i,keys:s,parse:function(e){const t=e.match(o),n={};if(!t)return null;for(let e=1;e<t.length;e++){const i=t[e]||"",r=s[e-1];n[r.name]=i&&r.repeatable?i.split("/"):i}return n},stringify:function(t){let n="",i=!1;for(const r of e){i&&n.endsWith("/")||(n+="/"),i=!1;for(const e of r)if(0===e.type)n+=e.value;else if(1===e.type){const{value:s,repeatable:o,optional:a}=e,l=s in t?t[s]:"";if($o(l)&&!o)throw new Error(`Provided param "${s}" is an array but it is not repeatable (* or + modifiers)`);const c=$o(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${s}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=c}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[Va]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a,l=0,c="",u="";function d(){c&&(0===n?s.push({type:0,value:c}):1===n||2===n||3===n?(s.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<e.length;)if(a=e[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&d(),o()):":"===a?(d(),n=1):h();break;case 4:h(),n=i;break;case 1:"("===a?n=2:ja.test(a)?h():(d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:t("Unknown state")}else i=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}(e.path),n),r=Bo(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Ua(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function za(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:$a(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function $a(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]="object"==typeof n?n[i]:n;return t}function Ha(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ya(e){return e.reduce(((e,t)=>Bo(e,t.meta)),{})}function Wa(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function qa({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ga(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<n.length;++e){const i=n[e].replace(Ko," "),r=i.indexOf("="),s=aa(r<0?i:i.slice(0,r)),o=r<0?null:aa(i.slice(r+1));if(s in t){let e=t[s];$o(e)||(e=t[s]=[e]),e.push(o)}else t[s]=o}return t}function Ka(e){let t="";for(let n in e){const i=e[n];if(n=sa(n).replace(qo,"%3D"),null==i){void 0!==i&&(t+=(t.length?"&":"")+n);continue}const r=$o(i)?i.map((e=>e&&sa(e))):[i&&sa(i)];r.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Xa(e){const t={};for(const n in e){const i=e[n];void 0!==i&&(t[n]=$o(i)?i.map((e=>null==e?null:""+e)):null==i?i:""+i)}return t}const Qa=Symbol(""),Ja=Symbol(""),Za=Symbol(""),el=Symbol(""),tl=Symbol("");function nl(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function il(e,t,n,i,r,s=e=>e()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise(((a,l)=>{const c=e=>{!1===e?l(Aa(4,{from:n,to:t})):e instanceof Error?l(e):Sa(e)?l(Aa(2,{from:t,to:e})):(o&&i.enterCallbacks[r]===o&&"function"==typeof e&&o.push(e),a())},u=s((()=>e.call(i&&i.instances[r],t,n,c)));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch((e=>l(e)))}))}function rl(e,t,n,i,r=e=>e()){const s=[];for(const o of e)for(const e in o.components){let a=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if(jo(a)){const l=(a.__vccOpts||a)[t];l&&s.push(il(l,n,i,o,e,r))}else{let l=a();s.push((()=>l.then((s=>{if(!s)throw new Error(`Couldn't resolve component "${e}" at "${o.path}"`);const a=(l=s).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&jo(l.default)?s.default:s;var l;o.mods[e]=s,o.components[e]=a;const c=(a.__vccOpts||a)[t];return c&&il(c,n,i,o,e,r)()}))))}}return s}function sl(e){const t=Ii(Za),n=Ii(el),i=is((()=>{const n=kt(e.to);return t.resolve(n)})),r=is((()=>{const{matched:e}=i.value,{length:t}=e,r=e[t-1],s=n.matched;if(!r||!s.length)return-1;const o=s.findIndex(da.bind(null,r));if(o>-1)return o;const a=ll(e[t-2]);return t>1&&ll(r)===a&&s[s.length-1].path!==a?s.findIndex(da.bind(null,e[t-2])):o})),s=is((()=>r.value>-1&&function(e,t){for(const n in t){const i=t[n],r=e[n];if("string"==typeof i){if(i!==r)return!1}else if(!$o(r)||r.length!==i.length||i.some(((e,t)=>e!==r[t])))return!1}return!0}(n.params,i.value.params))),o=is((()=>r.value>-1&&r.value===n.matched.length-1&&ha(n.params,i.value.params)));if(__VUE_PROD_DEVTOOLS__&&Vo){const t=Hr();if(t){const n={route:i.value,isActive:s.value,isExactActive:o.value,error:null};t.__vrl_devtools=t.__vrl_devtools||[],t.__vrl_devtools.push(n),Zi((()=>{n.route=i.value,n.isActive=s.value,n.isExactActive=o.value,n.error=Sa(kt(e.to))?null:'Invalid "to" value'}),{flush:"post"})}}return{route:i,href:is((()=>i.value.href)),isActive:s,isExactActive:o,navigate:function(n={}){if(function(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}(n)){const n=t[kt(e.replace)?"replace":"push"](kt(e.to)).catch(zo);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition((()=>n)),n}return Promise.resolve()}}}const ol=Mn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:sl,setup(e,{slots:t}){const n=at(sl(e)),{options:i}=Ii(Za),r=is((()=>({[cl(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[cl(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=t.default&&(1===(s=t.default(n)).length?s[0]:s);var s;return e.custom?i:rs("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),al=ol;function ll(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const cl=(e,t,n)=>null!=e?e:null!=t?t:n,ul=Mn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Ii(tl),r=is((()=>e.route||i.value)),s=Ii(Ja,0),o=is((()=>{let e=kt(s);const{matched:t}=r.value;let n;for(;(n=t[e])&&!n.components;)e++;return e})),a=is((()=>r.value.matched[o.value]));Di(Ja,is((()=>o.value+1))),Di(Qa,a),Di(tl,r);const l=bt();return er((()=>[l.value,a.value,e.name]),(([e,t,n],[i,r,s])=>{t&&(t.instances[n]=e,r&&r!==t&&e&&e===i&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&da(t,r)&&i||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=r.value,s=e.name,c=a.value,u=c&&c.components[s];if(!u)return dl(n.default,{Component:u,route:i});const d=c.props[s],h=d?!0===d?i.params:"function"==typeof d?d(i):d:null,p=rs(u,Bo({},h,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(c.instances[s]=null)},ref:l}));if(__VUE_PROD_DEVTOOLS__&&Vo&&p.ref){const e={depth:o.value,name:c.name,path:c.path,meta:c.meta},t=$o(p.ref)?p.ref.map((e=>e.i)):[p.ref.i];t.forEach((t=>{t.__vrv_devtools=e}))}return dl(n.default,{Component:p,route:i})||p}}});function dl(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const hl=ul;function pl(e,t){const n=Bo({},e,{matched:e.matched.map((e=>function(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}(e,["instances","children","aliasOf"])))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:n}}}function fl(e){return{_custom:{display:e}}}let gl=0;function ml(e,t,n){if(t.__hasDevtools)return;t.__hasDevtools=!0;const i=gl++;!function(e,t){const n=e,i=Oo(),r=Oo().__VUE_DEVTOOLS_GLOBAL_HOOK__,s=Ro&&n.enableEarlyProxy;if(!r||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&s){const e=s?new Fo(n,r):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else r.emit("devtools-plugin:setup",e,t)}({id:"org.vuejs.router"+(i?"."+i:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},(r=>{"function"!=typeof r.now&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.on.inspectComponent(((e,n)=>{e.instanceData&&e.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:pl(t.currentRoute.value,"Current Route")})})),r.on.visitComponentTree((({treeNode:e,componentInstance:t})=>{if(t.__vrv_devtools){const n=t.__vrv_devtools;e.tags.push({label:(n.name?`${n.name.toString()}: `:"")+n.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:yl})}$o(t.__vrl_devtools)&&(t.__devtoolsApi=r,t.__vrl_devtools.forEach((t=>{let n=t.route.path,i=_l,r="",s=0;t.error?(n=t.error,i=El,s=Cl):t.isExactActive?(i=wl,r="This is exactly active"):t.isActive&&(i=bl,r="This link is active"),e.tags.push({label:n,textColor:s,tooltip:r,backgroundColor:i})})))})),er(t.currentRoute,(()=>{l(),r.notifyComponentUpdate(),r.sendInspectorTree(a),r.sendInspectorState(a)}));const s="router:navigations:"+i;r.addTimelineLayer({id:s,label:`Router${i?" "+i:""} Navigations`,color:4237508}),t.onError(((e,t)=>{r.addTimelineEvent({layerId:s,event:{title:"Error during Navigation",subtitle:t.fullPath,logType:"error",time:r.now(),data:{error:e},groupId:t.meta.__navigationId}})}));let o=0;t.beforeEach(((e,t)=>{const n={guard:fl("beforeEach"),from:pl(t,"Current Location during this navigation"),to:pl(e,"Target location")};Object.defineProperty(e.meta,"__navigationId",{value:o++}),r.addTimelineEvent({layerId:s,event:{time:r.now(),title:"Start of navigation",subtitle:e.fullPath,data:n,groupId:e.meta.__navigationId}})})),t.afterEach(((e,t,n)=>{const i={guard:fl("afterEach")};n?(i.failure={_custom:{type:Error,readOnly:!0,display:n?n.message:"",tooltip:"Navigation Failure",value:n}},i.status=fl("❌")):i.status=fl("✅"),i.from=pl(t,"Current Location during this navigation"),i.to=pl(e,"Target location"),r.addTimelineEvent({layerId:s,event:{title:"End of navigation",subtitle:e.fullPath,time:r.now(),data:i,logType:n?"warning":"default",groupId:e.meta.__navigationId}})}));const a="router-inspector:"+i;function l(){if(!c)return;const e=c;let i=n.getRoutes().filter((e=>!e.parent||!e.parent.record.components));i.forEach(Al),e.filter&&(i=i.filter((t=>Ml(t,e.filter.toLowerCase())))),i.forEach((e=>Il(e,t.currentRoute.value))),e.rootNodes=i.map(Sl)}let c;r.addInspector({id:a,label:"Routes"+(i?" "+i:""),icon:"book",treeFilterPlaceholder:"Search routes"}),r.on.getInspectorTree((t=>{c=t,t.app===e&&t.inspectorId===a&&l()})),r.on.getInspectorState((t=>{if(t.app===e&&t.inspectorId===a){const e=n.getRoutes().find((e=>e.record.__vd_id===t.nodeId));e&&(t.state={options:vl(e)})}})),r.sendInspectorTree(a),r.sendInspectorState(a)}))}function vl(e){const{record:t}=e,n=[{editable:!1,key:"path",value:t.path}];return null!=t.name&&n.push({editable:!1,key:"name",value:t.name}),n.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map((e=>`${e.name}${function(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}(e)}`)).join(" "),tooltip:"Param keys",value:e.keys}}}),null!=t.redirect&&n.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&n.push({editable:!1,key:"aliases",value:e.alias.map((e=>e.record.path))}),Object.keys(e.record.meta).length&&n.push({editable:!1,key:"meta",value:e.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map((e=>e.join(", "))).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),n}const yl=15485081,bl=2450411,wl=8702998,xl=2282478,_l=16486972,kl=6710886,El=16704226,Cl=12131356;function Sl(e){const t=[],{record:n}=e;null!=n.name&&t.push({label:String(n.name),textColor:0,backgroundColor:xl}),n.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:_l}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:yl}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:wl}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:bl}),n.redirect&&t.push({label:"string"==typeof n.redirect?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:kl});let i=n.__vd_id;return null==i&&(i=String(Tl++),n.__vd_id=i),{id:i,label:n.path,tags:t,children:e.children.map(Sl)}}let Tl=0;const Dl=/^\/(.*)\/([a-z]*)$/;function Il(e,t){const n=t.matched.length&&da(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=n,n||(e.__vd_active=t.matched.some((t=>da(t,e.record)))),e.children.forEach((e=>Il(e,t)))}function Al(e){e.__vd_match=!1,e.children.forEach(Al)}function Ml(e,t){const n=String(e.re).match(Dl);if(e.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(t))return e.children.forEach((e=>Ml(e,t))),("/"!==e.record.path||"/"===t)&&(e.__vd_match=e.re.test(t),!0);const i=e.record.path.toLowerCase(),r=aa(i);return!(t.startsWith("/")||!r.includes(t)&&!i.includes(t))||!(!r.startsWith(t)&&!i.startsWith(t))||!(!e.record.name||!String(e.record.name).includes(t))||e.children.some((e=>Ml(e,t)))}function Pl(){return Ii(Za)}const Ol=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},Rl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let t=0;t<e.length;t+=3){const r=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,c=r>>2,u=(3&r)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),i.push(n[c],n[u],n[d],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ol(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let t=0;t<e.length;){const r=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==r||null==s||null==o||null==a)throw new Ll;const l=r<<2|s>>4;if(i.push(l),64!==o){const e=s<<4&240|o>>2;if(i.push(e),64!==a){const e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ll extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nl=function(e){return function(e){const t=Ol(e);return Rl.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Fl=function(e){try{return Rl.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Vl=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&Fl(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},jl=e=>{var t,n;return null===(n=null===(t=Vl())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Bl=()=>{var e;return null===(e=Vl())||void 0===e?void 0:e.config},Ul=e=>{var t;return null===(t=Vl())||void 0===t?void 0:t[`_${e}`]};class zl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function $l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Hl extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Hl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(Wl,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Hl(i,o,n)}}const Wl=/\{\$([^}]+)}/g;function ql(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(Gl(n)&&Gl(s)){if(!ql(n,s))return!1}else if(n!==s)return!1}for(const e of i)if(!n.includes(e))return!1;return!0}function Gl(e){return null!==e&&"object"==typeof e}function Kl(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Xl(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function Ql(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Jl{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=Zl),void 0===i.error&&(i.error=Zl),void 0===i.complete&&(i.complete=Zl);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Zl(){}function ec(e){return e&&e._delegate?e._delegate:e}class tc{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const nc="[DEFAULT]";class ic{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new zl;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(i)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:nc})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=nc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=nc){return this.instances.has(e)}getOptions(e=nc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(i);return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===nc?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var i;return n||null}normalizeInstanceIdentifier(e=nc){return this.component?this.component.multipleInstances?e:nc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rc{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ic(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const sc=[];var oc;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(oc||(oc={}));const ac={debug:oc.DEBUG,verbose:oc.VERBOSE,info:oc.INFO,warn:oc.WARN,error:oc.ERROR,silent:oc.SILENT},lc=oc.INFO,cc={[oc.DEBUG]:"log",[oc.VERBOSE]:"log",[oc.INFO]:"info",[oc.WARN]:"warn",[oc.ERROR]:"error"},uc=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),r=cc[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${e.name}:`,...n)};class dc{constructor(e){this.name=e,this._logLevel=lc,this._logHandler=uc,this._userLogHandler=null,sc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oc))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ac[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oc.DEBUG,...e),this._logHandler(this,oc.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oc.VERBOSE,...e),this._logHandler(this,oc.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oc.INFO,...e),this._logHandler(this,oc.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oc.WARN,...e),this._logHandler(this,oc.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oc.ERROR,...e),this._logHandler(this,oc.ERROR,...e)}}let hc,pc;const fc=new WeakMap,gc=new WeakMap,mc=new WeakMap,vc=new WeakMap,yc=new WeakMap;let bc={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return gc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||mc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xc(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function wc(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pc||(pc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(_c(this),e),xc(fc.get(this))}:function(...e){return xc(t.apply(_c(this),e))}:function(e,...n){const i=t.call(_c(this),e,...n);return mc.set(i,e.sort?e.sort():[e]),xc(i)}:(e instanceof IDBTransaction&&function(e){if(gc.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)}));gc.set(e,t)}(e),n=e,(hc||(hc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,bc):e);var t,n}function xc(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(xc(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&fc.set(t,e)})).catch((()=>{})),yc.set(t,e),t}(e);if(vc.has(e))return vc.get(e);const t=wc(e);return t!==e&&(vc.set(e,t),yc.set(t,e)),t}const _c=e=>yc.get(e),kc=["get","getKey","getAll","getAllKeys","count"],Ec=["put","add","delete","clear"],Cc=new Map;function Sc(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Cc.get(t))return Cc.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Ec.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!kc.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,r?"readwrite":"readonly");let o=s.store;return i&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),r&&s.done]))[0]};return Cc.set(t,s),s}var Tc;Tc=bc,bc={...Tc,get:(e,t,n)=>Sc(e,t)||Tc.get(e,t,n),has:(e,t)=>!!Sc(e,t)||Tc.has(e,t)};class Dc{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ic="@firebase/app",Ac="0.9.13",Mc=new dc("@firebase/app"),Pc="@firebase/app-compat",Oc="@firebase/analytics-compat",Rc="@firebase/analytics",Lc="@firebase/app-check-compat",Nc="@firebase/app-check",Fc="@firebase/auth",Vc="@firebase/auth-compat",jc="@firebase/database",Bc="@firebase/database-compat",Uc="@firebase/functions",zc="@firebase/functions-compat",$c="@firebase/installations",Hc="@firebase/installations-compat",Yc="@firebase/messaging",Wc="@firebase/messaging-compat",qc="@firebase/performance",Gc="@firebase/performance-compat",Kc="@firebase/remote-config",Xc="@firebase/remote-config-compat",Qc="@firebase/storage",Jc="@firebase/storage-compat",Zc="@firebase/firestore",eu="@firebase/firestore-compat",tu="firebase",nu="[DEFAULT]",iu={[Ic]:"fire-core",[Pc]:"fire-core-compat",[Rc]:"fire-analytics",[Oc]:"fire-analytics-compat",[Nc]:"fire-app-check",[Lc]:"fire-app-check-compat",[Fc]:"fire-auth",[Vc]:"fire-auth-compat",[jc]:"fire-rtdb",[Bc]:"fire-rtdb-compat",[Uc]:"fire-fn",[zc]:"fire-fn-compat",[$c]:"fire-iid",[Hc]:"fire-iid-compat",[Yc]:"fire-fcm",[Wc]:"fire-fcm-compat",[qc]:"fire-perf",[Gc]:"fire-perf-compat",[Kc]:"fire-rc",[Xc]:"fire-rc-compat",[Qc]:"fire-gcs",[Jc]:"fire-gcs-compat",[Zc]:"fire-fst",[eu]:"fire-fst-compat","fire-js":"fire-js",[tu]:"fire-js-all"},ru=new Map,su=new Map;function ou(e,t){try{e.container.addComponent(t)}catch(n){Mc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function au(e){const t=e.name;if(su.has(t))return Mc.debug(`There were multiple attempts to register component ${t}.`),!1;su.set(t,e);for(const t of ru.values())ou(t,e);return!0}function lu(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const cu=new Yl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class uu{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tc("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cu.create("app-deleted",{appName:this._name})}}const du="9.23.0";function hu(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:nu,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw cu.create("bad-app-name",{appName:String(r)});if(n||(n=Bl()),!n)throw cu.create("no-options");const s=ru.get(r);if(s){if(ql(n,s.options)&&ql(i,s.config))return s;throw cu.create("duplicate-app",{appName:r})}const o=new rc(r);for(const e of su.values())o.addComponent(e);const a=new uu(n,i,o);return ru.set(r,a),a}function pu(e=nu){const t=ru.get(e);if(!t&&e===nu&&Bl())return hu();if(!t)throw cu.create("no-app",{appName:e});return t}function fu(e,t,n){var i;let r=null!==(i=iu[e])&&void 0!==i?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${r}" with version "${t}":`];return s&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Mc.warn(e.join(" "))}au(new tc(`${r}-version`,(()=>({library:r,version:t})),"VERSION"))}const gu="firebase-heartbeat-store";let mu=null;function vu(){return mu||(mu=function(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=xc(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(xc(o.result),e.oldVersion,e.newVersion,xc(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(gu)}}).catch((e=>{throw cu.create("idb-open",{originalErrorMessage:e.message})}))),mu}async function yu(e,t){try{const n=(await vu()).transaction(gu,"readwrite"),i=n.objectStore(gu);await i.put(t,bu(e)),await n.done}catch(e){if(e instanceof Hl)Mc.warn(e.message);else{const t=cu.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});Mc.warn(t.message)}}}function bu(e){return`${e.name}!${e.options.appId}`}class wu{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _u(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=xu();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=xu(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),ku(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ku(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=Nl(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function xu(){return(new Date).toISOString().substring(0,10)}class _u{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await vu();return await t.transaction(gu).objectStore(gu).get(bu(e))}catch(e){if(e instanceof Hl)Mc.warn(e.message);else{const t=cu.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Mc.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ku(e){return Nl(JSON.stringify({version:2,heartbeats:e})).length}function Eu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}au(new tc("platform-logger",(e=>new Dc(e)),"PRIVATE")),au(new tc("heartbeat",(e=>new wu(e)),"PRIVATE")),fu(Ic,Ac,""),fu(Ic,Ac,"esm2017"),fu("fire-js",""),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;const Cu=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Su=new Yl("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tu=new dc("@firebase/auth");function Du(e,...t){Tu.logLevel<=oc.ERROR&&Tu.error(`Auth (${du}): ${e}`,...t)}function Iu(e,...t){throw Mu(e,...t)}function Au(e,...t){return Mu(e,...t)}function Mu(e,...t){if("string"!=typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return Su.create(e,...t)}function Pu(e,t,...n){if(!e)throw Mu(t,...n)}function Ou(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Du(t),new Error(t)}function Ru(e,t){e||Ou(t)}function Lu(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Nu(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Fu(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Nu()||"https:"===Nu()||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ru(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($l())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Fu()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ju(e,t){Ru(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Bu{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ou("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ou("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ou("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Uu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},zu=new Vu(3e4,6e4);function $u(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Hu(e,t,n,i,r={}){return Yu(e,r,(async()=>{let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const o=Kl(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Bu.fetch()(qu(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},r))}))}async function Yu(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},Uu),t);try{const t=new Gu(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw Ku(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ku(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Ku(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Ku(e,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw function(e,t,n){const i=Object.assign(Object.assign({},Cu()),{[t]:n});return new Yl("auth","Firebase",i).create(t,{appName:e.name})}(e,a,o);Iu(e,a)}}catch(t){if(t instanceof Hl)throw t;Iu(e,"network-request-failed",{message:String(t)})}}async function Wu(e,t,n,i,r={}){const s=await Hu(e,t,n,i,r);return"mfaPendingCredential"in s&&Iu(e,"multi-factor-auth-required",{_serverResponse:s}),s}function qu(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?ju(e.config,r):`${e.config.apiScheme}://${r}`}class Gu{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Au(this.auth,"network-request-failed"))),zu.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ku(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Au(e,t,i);return r.customData._tokenResponse=n,r}function Xu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Qu(e){return 1e3*Number(e)}function Ju(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return Du("JWT malformed, contained fewer than 3 sections"),null;try{const e=Fl(n);return e?JSON.parse(e):(Du("Failed to decode base64 JWT payload"),null)}catch(e){return Du("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function Zu(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof Hl&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ed{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class td{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nd(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Zu(e,async function(e,t){return Hu(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));Pu(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Eu(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash||(null==a?void 0:a.length)),h=!!u&&d,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new td(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,p)}class id{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pu(e.idToken,"internal-error"),Pu(void 0!==e.idToken,"internal-error"),Pu(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Ju(e);return Pu(t,"internal-error"),Pu(void 0!==t.exp,"internal-error"),Pu(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Pu(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await Yu(e,{},(async()=>{const n=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=qu(e,i,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Bu.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new id;return n&&(Pu("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(Pu("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(Pu("number"==typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new id,this.toJSON())}_performRefresh(){return Ou("not implemented")}}function rd(e,t){Pu("string"==typeof e||void 0===e,"internal-error",{appName:t})}class sd{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=Eu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ed(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new td(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return Pu(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=ec(e),i=await n.getIdToken(t),r=Ju(i);Pu(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Xu(Qu(r.auth_time)),issuedAtTime:Xu(Qu(r.iat)),expirationTime:Xu(Qu(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ec(e);await nd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Pu(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pu(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await nd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Zu(this,async function(e,t){return Hu(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(i=t.email)&&void 0!==i?i:void 0,h=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=t;Pu(y&&_,e,"internal-error");const k=id.fromJSON(this.name,_);Pu("string"==typeof y,e,"internal-error"),rd(u,e.name),rd(d,e.name),Pu("boolean"==typeof b,e,"internal-error"),Pu("boolean"==typeof w,e,"internal-error"),rd(h,e.name),rd(p,e.name),rd(f,e.name),rd(g,e.name),rd(m,e.name),rd(v,e.name);const E=new sd({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:k,createdAt:m,lastLoginAt:v});return x&&Array.isArray(x)&&(E.providerData=x.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t,n=!1){const i=new id;i.updateFromServerResponse(t);const r=new sd({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await nd(r),r}}const od=new Map;function ad(e){Ru(e instanceof Function,"Expected a class definition");let t=od.get(e);return t?(Ru(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,od.set(e,t),t)}class ld{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ld.type="NONE";const cd=ld;function ud(e,t,n){return`firebase:${e}:${t}:${n}`}class dd{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=ud(this.userKey,i.apiKey,r),this.fullPersistenceKey=ud("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?sd._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new dd(ad(cd),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||ad(cd);const s=ud(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(s);if(t){const i=sd._fromJSON(e,t);n!==r&&(o=i),r=n;break}}catch(e){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(e){}}))),new dd(r,e,n)):new dd(r,e,n)}}function hd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(md(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pd(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yd(t))return"Blackberry";if(bd(t))return"Webos";if(fd(t))return"Safari";if((t.includes("chrome/")||gd(t))&&!t.includes("edge/"))return"Chrome";if(vd(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function pd(e=$l()){return/firefox\//i.test(e)}function fd(e=$l()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gd(e=$l()){return/crios\//i.test(e)}function md(e=$l()){return/iemobile/i.test(e)}function vd(e=$l()){return/android/i.test(e)}function yd(e=$l()){return/blackberry/i.test(e)}function bd(e=$l()){return/webos/i.test(e)}function wd(e=$l()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xd(e=$l()){return wd(e)||vd(e)||bd(e)||yd(e)||/windows phone/i.test(e)||md(e)}function _d(e,t=[]){let n;switch(e){case"Browser":n=hd($l());break;case"Worker":n=`${hd($l())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${du}/${i}`}async function kd(e,t){return Hu(e,"GET","/v2/recaptchaConfig",$u(e,t))}function Ed(e){return void 0!==e&&void 0!==e.enterprise}class Cd{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Sd(e){return new Promise(((t,n)=>{const i=document.createElement("script");var r,s;i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=Au("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",(null!==(s=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==s?s:document).appendChild(i)}))}function Td(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Dd{constructor(e){this.type="recaptcha-enterprise",this.auth=Pd(e)}async verify(e="verify",t=!1){function n(t,n,i){const r=window.grecaptcha;Ed(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{kd(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new Cd(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&Ed(window.grecaptcha))n(r,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));Sd("https://www.google.com/recaptcha/enterprise.js?render="+r).then((()=>{n(r,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function Id(e,t,n,i=!1){const r=new Dd(e);let s;try{s=await r.verify(n)}catch(e){s=await r.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class Ad{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(e){i(e)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class Md{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Od(this),this.idTokenSubscription=new Od(this),this.beforeStateQueue=new Ad(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Su,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ad(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await dd.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null==o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(e){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pu(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ec(e):null;return t&&Pu(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pu(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ad(e))}))}async initializeRecaptchaConfig(){const e=await kd(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Cd(e);null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled&&new Dd(this).verify()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yl("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ad(e)||this._popupRedirectResolver;Pu(t,this,"argument-error"),this.redirectPersistenceManager=await dd.create(this,[ad(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Pu(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"==typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pu(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_d(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Tu.logLevel<=oc.WARN&&Tu.warn(`Auth (${du}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function Pd(e){return ec(e)}class Od{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e){const t=new Jl(e,void 0);return t.subscribe.bind(t)}((e=>this.observer=e))}get next(){return Pu(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Rd(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ld(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Nd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ou("not implemented")}_getIdTokenResponse(e){return Ou("not implemented")}_linkToIdToken(e,t){return Ou("not implemented")}_getReauthenticationResolver(e){return Ou("not implemented")}}async function Fd(e,t){return Wu(e,"POST","/v1/accounts:signInWithPassword",$u(e,t))}class Vd extends Nd{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Vd(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Vd(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Id(e,n,"signInWithPassword");return Fd(e,t)}return Fd(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Id(e,n,"signInWithPassword");return Fd(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return Wu(e,"POST","/v1/accounts:signInWithEmailLink",$u(e,t))}(e,{email:this._email,oobCode:this._password});default:Iu(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return Hu(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Wu(e,"POST","/v1/accounts:signInWithEmailLink",$u(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Iu(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function jd(e,t){return Wu(e,"POST","/v1/accounts:signInWithIdp",$u(e,t))}class Bd extends Nd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Iu("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=Eu(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Bd(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return jd(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,jd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jd(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kl(t)}return e}}const Ud={USER_NOT_FOUND:"user-not-found"};class zd extends Nd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new zd({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new zd({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Wu(e,"POST","/v1/accounts:signInWithPhoneNumber",$u(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Wu(e,"POST","/v1/accounts:signInWithPhoneNumber",$u(e,t));if(n.temporaryProof)throw Ku(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Wu(e,"POST","/v1/accounts:signInWithPhoneNumber",$u(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ud)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new zd({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class $d{constructor(e){var t,n,i,r,s,o;const a=Xl(Ql(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);Pu(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Xl(Ql(e)).link,n=t?Xl(Ql(t)).deep_link_id:null,i=Xl(Ql(e)).deep_link_id;return(i?Xl(Ql(i)).link:null)||i||n||t||e}(e);try{return new $d(t)}catch(e){return null}}}class Hd{constructor(){this.providerId=Hd.PROVIDER_ID}static credential(e,t){return Vd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=$d.parseLink(t);return Pu(n,"argument-error"),Vd._fromEmailAndCode(e,n.code,n.tenantId)}}Hd.PROVIDER_ID="password",Hd.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Hd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wd extends Yd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qd extends Wd{constructor(){super("facebook.com")}static credential(e){return Bd._fromParams({providerId:qd.PROVIDER_ID,signInMethod:qd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qd.credentialFromTaggedObject(e)}static credentialFromError(e){return qd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return qd.credential(e.oauthAccessToken)}catch(e){return null}}}qd.FACEBOOK_SIGN_IN_METHOD="facebook.com",qd.PROVIDER_ID="facebook.com";class Gd extends Wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bd._fromParams({providerId:Gd.PROVIDER_ID,signInMethod:Gd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gd.credentialFromTaggedObject(e)}static credentialFromError(e){return Gd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Gd.credential(t,n)}catch(e){return null}}}Gd.GOOGLE_SIGN_IN_METHOD="google.com",Gd.PROVIDER_ID="google.com";class Kd extends Wd{constructor(){super("github.com")}static credential(e){return Bd._fromParams({providerId:Kd.PROVIDER_ID,signInMethod:Kd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kd.credentialFromTaggedObject(e)}static credentialFromError(e){return Kd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Kd.credential(e.oauthAccessToken)}catch(e){return null}}}Kd.GITHUB_SIGN_IN_METHOD="github.com",Kd.PROVIDER_ID="github.com";class Xd extends Wd{constructor(){super("twitter.com")}static credential(e,t){return Bd._fromParams({providerId:Xd.PROVIDER_ID,signInMethod:Xd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xd.credentialFromTaggedObject(e)}static credentialFromError(e){return Xd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Xd.credential(t,n)}catch(e){return null}}}async function Qd(e,t){return Wu(e,"POST","/v1/accounts:signUp",$u(e,t))}Xd.TWITTER_SIGN_IN_METHOD="twitter.com",Xd.PROVIDER_ID="twitter.com";class Jd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await sd._fromIdTokenResponse(e,n,i),s=Zd(n);return new Jd({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Zd(n);return new Jd({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Zd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class eh extends Hl{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new eh(e,t,n,i)}}function th(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw eh._fromErrorAndOperation(e,n,t,i);throw n}))}async function nh(e,t,n=!1){const i="signIn",r=await th(e,i,t),s=await Jd._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}new WeakMap;const ih="__sak";class rh{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class sh extends rh{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=$l();return fd(e)||wd(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=xd(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);!function(){const e=$l();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||r===e.newValue||e.newValue===e.oldValue?i():setTimeout(i,10)}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sh.type="LOCAL";const oh=sh;class ah extends rh{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ah.type="SESSION";const lh=ah;class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ch(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function uh(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}ch.receivers=[];class dh{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const l=uh("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function hh(){return window}function ph(){return void 0!==hh().WorkerGlobalScope&&"function"==typeof hh().importScripts}const fh="firebaseLocalStorageDb",gh="firebaseLocalStorage",mh="fbase_key";class vh{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function yh(e,t){return e.transaction([gh],t?"readwrite":"readonly").objectStore(gh)}function bh(){const e=indexedDB.open(fh,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(gh,{keyPath:mh})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(gh)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(fh);return new vh(e).toPromise()}(),t(await bh()))}))}))}async function wh(e,t,n){const i=yh(e,!0).put({[mh]:t,value:n});return new vh(i).toPromise()}function xh(e,t){const n=yh(e,!0).delete(t);return new vh(n).toPromise()}class _h{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await bh()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ph()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(ph()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new dh(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}var t}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bh();return await wh(e,ih,"1"),await xh(e,ih),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>wh(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=yh(e,!1).get(t),i=await new vh(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>xh(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=yh(e,!1).getAll();return new vh(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}_h.type="LOCAL";const kh=_h;Td("rcb"),new Vu(3e4,6e4);class Eh{constructor(e){this.providerId=Eh.PROVIDER_ID,this.auth=Pd(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var i;const r=await n.verify();try{let s;if(Pu("string"==typeof r,e,"argument-error"),Pu("recaptcha"===n.type,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Pu("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Hu(e,"POST","/v2/accounts/mfaEnrollment:start",$u(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{Pu("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;Pu(n,e,"missing-multi-factor-info");const o=await function(e,t){return Hu(e,"POST","/v2/accounts/mfaSignIn:start",$u(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Hu(e,"POST","/v1/accounts:sendVerificationCode",$u(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}(this.auth,e,ec(t))}static credential(e,t){return zd._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Eh.credentialFromTaggedObject(t)}static credentialFromError(e){return Eh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?zd._fromTokenResponse(t,n):null}}Eh.PROVIDER_ID="phone",Eh.PHONE_SIGN_IN_METHOD="phone";class Ch extends Nd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Sh(e){return nh(e.auth,new Ch(e),e.bypassAuthState)}function Th(e){const{auth:t,user:n}=e;return Pu(n,t,"internal-error"),async function(e,t,n=!1){const{auth:i}=e,r="reauthenticate";try{const s=await Zu(e,th(i,r,t,e),n);Pu(s.idToken,i,"internal-error");const o=Ju(s.idToken);Pu(o,i,"internal-error");const{sub:a}=o;return Pu(e.uid===a,i,"user-mismatch"),Jd._forOperation(e,r,s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&Iu(i,"user-mismatch"),e}}(n,new Ch(e),e.bypassAuthState)}async function Dh(e){const{auth:t,user:n}=e;return Pu(n,t,"internal-error"),async function(e,t,n=!1){const i=await Zu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Jd._forOperation(e,"link",i)}(n,new Ch(e),e.bypassAuthState)}class Ih{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sh;case"linkViaPopup":case"linkViaRedirect":return Dh;case"reauthViaPopup":case"reauthViaRedirect":return Th;default:Iu(this.auth,"internal-error")}}resolve(e){Ru(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ru(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ah=new Vu(2e3,1e4);class Mh extends Ih{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Mh.currentPopupAction&&Mh.currentPopupAction.cancel(),Mh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pu(e,this.auth,"internal-error"),e}async onExecution(){Ru(1===this.filter.length,"Popup operations only handle one event");const e=uh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Au(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Au(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Au(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ah.get())};e()}}Mh.currentPopupAction=null;const Ph=new Map;class Oh extends Ih{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return ud("pendingRedirect",e.config.apiKey,e.name)}(t),i=function(e){return ad(e._redirectPersistence)}(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Rh(e,t){Ph.set(e._key(),t)}async function Lh(e,t,n=!1){const i=Pd(e),r=function(e,t){return t?ad(t):(Pu(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(i,t),s=new Oh(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class Nh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Vh(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Au(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fh(e))}saveEventToCache(e){this.cachedEventUids.add(Fh(e)),this.lastProcessedEventTime=Date.now()}}function Fh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Vh({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const jh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bh=/^https?/;function Uh(e){const t=Lu(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Bh.test(n))return!1;if(jh.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const zh=new Vu(3e4,6e4);function $h(){const e=hh().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Hh=null;function Yh(e){return Hh=Hh||function(e){return new Promise(((t,n)=>{var i,r,s;function o(){$h(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$h(),n(Au(e,"network-request-failed"))},timeout:zh.get()})}if(null===(r=null===(i=hh().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=hh().gapi)||void 0===s?void 0:s.load)){const t=Td("iframefcb");return hh()[t]=()=>{gapi.load?o():n(Au(e,"network-request-failed"))},Sd(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw Hh=null,e}))}(e),Hh}const Wh=new Vu(5e3,15e3),qh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kh(e){const t=e.config;Pu(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ju(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:du},r=Gh.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Kl(i).slice(1)}`}const Xh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const Jh=encodeURIComponent("fac");async function Zh(e,t,n,i,r,s){Pu(e.config.authDomain,e,"auth-domain-config-required"),Pu(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:du,eventId:r};if(t instanceof Yd){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Wd){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];const l=await e._getAppCheckToken(),c=l?`#${Jh}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?ju(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${Kl(a).slice(1)}${c}`}const ep="webStorageSupport",tp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lh,this._completeRedirectFn=Lh,this._overrideRedirectResult=Rh}async _openPopup(e,t,n,i){var r;return Ru(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()"),function(e,t,n,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Xh),{width:i.toString(),height:r.toString(),top:s,left:o}),c=$l().toLowerCase();n&&(a=gd(c)?"_blank":n),pd(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=$l()){var t;return wd(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",a),new Qh(null);const d=window.open(t||"",a,u);Pu(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Qh(d)}(e,await Zh(e,t,n,Lu(),i),uh())}async _openRedirect(e,t,n,i){return await this._originValidation(e),r=await Zh(e,t,n,Lu(),i),hh().location.href=r,new Promise((()=>{}));var r}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ru(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Yh(e),n=hh().gapi;return Pu(n,e,"internal-error"),t.open({where:document.body,url:Kh(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qh,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=Au(e,"network-request-failed"),s=hh().setTimeout((()=>{i(r)}),Wh.get());function o(){hh().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{i(r)}))}))))}(e),n=new Nh(e);return t.register("authEvent",(t=>(Pu(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ep,{type:ep},(n=>{var i;const r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i[ep];void 0!==r&&t(!!r),Iu(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Hu(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Uh(e))return}catch(e){}Iu(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xd()||fd()||wd()}};var np="@firebase/auth",ip="0.23.2";class rp{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pu(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const sp=Ul("authIdTokenMaxAge")||300;let op=null;function ap(e=pu()){const t=lu(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=lu(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ql(n.getOptions(),null!=t?t:{}))return e;Iu(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:tp,persistence:[kh,oh,lh]}),i=Ul("authTokenSyncURL");if(i){const e=(r=i,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>sp)return;const i=null==t?void 0:t.token;op!==i&&(op=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});!function(e,t,n){ec(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(t){ec(t).onIdTokenChanged((t=>e(t)),void 0,void 0)}(n)}var r;const s=jl("auth");return s&&function(e,t,n){const i=Pd(e);Pu(i._canInitEmulator,i,"emulator-config-failed"),Pu(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),s=Rd(t),{host:o,port:a}=function(e){const t=Rd(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:Ld(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:Ld(t)}}}(t),l=null===a?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${s}`),n}var lp;lp="Browser",au(new tc("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;Pu(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:s,authDomain:o,clientPlatform:lp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_d(lp)},l=new Md(n,i,r,a);return function(e,t){const n=(null==t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ad);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),au(new tc("auth-internal",(e=>{return t=Pd(e.getProvider("auth").getImmediate()),new rp(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),fu(np,ip,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(lp)),fu(np,ip,"esm2017");const cp={class:"flex",style:{height:"100dvh"}},up={class:"p-4 flex items-center justify-between"},dp={class:"px-4 pb-3"},hp={class:"flex-1 overflow-y-auto"},pp={class:"px-4 pt-3 pb-1 text-xs uppercase text-gray-400 font-bold"},fp={class:"ml-2"},gp={class:"flex-1 flex flex-col ml-0 min-h-0"},mp={class:"bg-gray-100 p-4 flex items-center justify-between shadow"},vp={class:"ml-4 flex items-center"},yp=["disabled"],bp={key:0,value:null},wp=["value"],xp={class:"flex-1 overflow-auto p-4 bg-gray-100",style:{height:"100%","padding-bottom":"calc(2rem + env(safe-area-inset-bottom))"}};var _p,kp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ep={},Cp=Cp||{},Sp=kp||self;function Tp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Dp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ip="closure_uid_"+(1e9*Math.random()>>>0),Ap=0;function Mp(e,t,n){return e.call.apply(e.bind,arguments)}function Pp(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Op(e,t,n){return(Op=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mp:Pp).apply(null,arguments)}function Rp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Lp(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function Np(){this.s=this.s,this.o=this.o}Np.prototype.s=!1,Np.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ip)&&e[Ip]||(e[Ip]=++Ap))},Np.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Vp(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function jp(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(Tp(n)){const t=e.length||0,i=n.length||0;e.length=t+i;for(let r=0;r<i;r++)e[t+r]=n[r]}else e.push(n)}}function Bp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Bp.prototype.h=function(){this.defaultPrevented=!0};var Up=function(){if(!Sp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Sp.addEventListener("test",(()=>{}),t),Sp.removeEventListener("test",(()=>{}),t)}catch(e){}return e}();function zp(e){return/^[\s\xa0]*$/.test(e)}function $p(){var e=Sp.navigator;return e&&(e=e.userAgent)?e:""}function Hp(e){return-1!=$p().indexOf(e)}function Yp(e){return Yp[" "](e),e}Yp[" "]=function(){};var Wp,qp,Gp,Kp=Hp("Opera"),Xp=Hp("Trident")||Hp("MSIE"),Qp=Hp("Edge"),Jp=Qp||Xp,Zp=Hp("Gecko")&&!(-1!=$p().toLowerCase().indexOf("webkit")&&!Hp("Edge"))&&!(Hp("Trident")||Hp("MSIE"))&&!Hp("Edge"),ef=-1!=$p().toLowerCase().indexOf("webkit")&&!Hp("Edge");function tf(){var e=Sp.document;return e?e.documentMode:void 0}e:{var nf="",rf=(qp=$p(),Zp?/rv:([^\);]+)(\)|;)/.exec(qp):Qp?/Edge\/([\d\.]+)/.exec(qp):Xp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qp):ef?/WebKit\/(\S+)/.exec(qp):Kp?/(?:Version)[ \/]?(\S+)/.exec(qp):void 0);if(rf&&(nf=rf?rf[1]:""),Xp){var sf=tf();if(null!=sf&&sf>parseFloat(nf)){Wp=String(sf);break e}}Wp=nf}Sp.document&&Xp?Gp=tf()||parseInt(Wp,10)||void 0:Gp=void 0;var of=Gp;function af(e,t){if(Bp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Zp){e:{try{Yp(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:lf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&af.$.h.call(this)}}Lp(af,Bp);var lf={2:"touch",3:"pen",4:"mouse"};af.prototype.h=function(){af.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var cf="closure_listenable_"+(1e6*Math.random()|0),uf=0;function df(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=r,this.key=++uf,this.fa=this.ia=!1}function hf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function pf(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function ff(e){const t={};for(const n in e)t[n]=e[n];return t}const gf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mf(e,t){let n,i;for(let t=1;t<arguments.length;t++){for(n in i=arguments[t],i)e[n]=i[n];for(let t=0;t<gf.length;t++)n=gf[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function vf(e){this.src=e,this.g={},this.h=0}function yf(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=Fp(r,t);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(hf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function bf(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==i)return r}return-1}vf.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=bf(e,t,i,r);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new df(t,this.src,s,!!i,r)).ia=n,e.push(t)),t};var wf="closure_lm_"+(1e6*Math.random()|0),xf={};function _f(e,t,n,i,r){if(i&&i.once)return Ef(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)_f(e,t[s],n,i,r);return null}return n=Mf(n),e&&e[cf]?e.O(t,n,Dp(i)?!!i.capture:!!i,r):kf(e,t,n,!1,i,r)}function kf(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=Dp(r)?!!r.capture:!!r,a=If(e);if(a||(e[wf]=a=new vf(e)),(n=a.add(t,n,i,o,s)).proxy)return n;if(i=function(){const e=Df;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)Up||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(Tf(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function Ef(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ef(e,t[s],n,i,r);return null}return n=Mf(n),e&&e[cf]?e.P(t,n,Dp(i)?!!i.capture:!!i,r):kf(e,t,n,!0,i,r)}function Cf(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Cf(e,t[s],n,i,r);else i=Dp(i)?!!i.capture:!!i,n=Mf(n),e&&e[cf]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=bf(s=e.g[t],n,i,r))&&(hf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=If(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bf(t,n,i,r)),(n=-1<e?t[e]:null)&&Sf(n))}function Sf(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[cf])yf(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Tf(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=If(t))?(yf(n,e),0==n.h&&(n.src=null,t[wf]=null)):hf(e)}}}function Tf(e){return e in xf?xf[e]:xf[e]="on"+e}function Df(e,t){if(e.fa)e=!0;else{t=new af(t,this);var n=e.listener,i=e.la||e.src;e.ia&&Sf(e),e=n.call(i,t)}return e}function If(e){return(e=e[wf])instanceof vf?e:null}var Af="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mf(e){return"function"==typeof e?e:(e[Af]||(e[Af]=function(t){return e.handleEvent(t)}),e[Af])}function Pf(){Np.call(this),this.i=new vf(this),this.S=this,this.J=null}function Of(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,"string"==typeof t)t=new Bp(t,e);else if(t instanceof Bp)t.target=t.target||e;else{var r=t;mf(t=new Bp(i,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=Rf(o,i,!0,t)&&r}if(r=Rf(o=t.g=e,i,!0,t)&&r,r=Rf(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)r=Rf(o=t.g=n[s],i,!1,t)&&r}function Rf(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&yf(e.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Lp(Pf,Np),Pf.prototype[cf]=!0,Pf.prototype.removeEventListener=function(e,t,n,i){Cf(this,e,t,n,i)},Pf.prototype.N=function(){if(Pf.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)hf(n[i]);delete t.g[e],t.h--}}this.J=null},Pf.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},Pf.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var Lf=Sp.JSON.stringify;function Nf(){var e=$f;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ff=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Vf),(e=>e.reset()));class Vf{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jf(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Bf(e){Sp.setTimeout((()=>{throw e}),0)}let Uf,zf=!1,$f=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ff.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Hf=()=>{const e=Sp.Promise.resolve(void 0);Uf=()=>{e.then(Yf)}};var Yf=()=>{for(var e;e=Nf();){try{e.h.call(e.g)}catch(e){Bf(e)}var t=Ff;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}zf=!1};function Wf(e,t){Pf.call(this),this.h=e||1,this.g=t||Sp,this.j=Op(this.qb,this),this.l=Date.now()}function qf(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Gf(e,t,n){if("function"==typeof e)n&&(e=Op(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Op(e.handleEvent,e)}return 2147483647<Number(t)?-1:Sp.setTimeout(e,t||0)}function Kf(e){e.g=Gf((()=>{e.g=null,e.i&&(e.i=!1,Kf(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Lp(Wf,Pf),(_p=Wf.prototype).ga=!1,_p.T=null,_p.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Of(this,"tick"),this.ga&&(qf(this),this.start()))}},_p.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_p.N=function(){Wf.$.N.call(this),qf(this),delete this.g};class Xf extends Np{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kf(this)}N(){super.N(),this.g&&(Sp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qf(e){Np.call(this),this.h=e,this.g={}}Lp(Qf,Np);var Jf=[];function Zf(e,t,n,i){Array.isArray(n)||(n&&(Jf[0]=n.toString()),n=Jf);for(var r=0;r<n.length;r++){var s=_f(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function eg(e){pf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Sf(e)}),e),e.g={}}function tg(){this.g=!0}function ng(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return Lf(n)}catch(e){return t}}(e,n)+(i?" "+i:"")}))}Qf.prototype.N=function(){Qf.$.N.call(this),eg(this)},Qf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tg.prototype.Ea=function(){this.g=!1},tg.prototype.info=function(){};var ig={},rg=null;function sg(){return rg=rg||new Pf}function og(e){Bp.call(this,ig.Ta,e)}function ag(e){const t=sg();Of(t,new og(t))}function lg(e,t){Bp.call(this,ig.STAT_EVENT,e),this.stat=t}function cg(e){const t=sg();Of(t,new lg(t,e))}function ug(e,t){Bp.call(this,ig.Ua,e),this.size=t}function dg(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Sp.setTimeout((function(){e()}),t)}ig.Ta="serverreachability",Lp(og,Bp),ig.STAT_EVENT="statevent",Lp(lg,Bp),ig.Ua="timingevent",Lp(ug,Bp);var hg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fg(){}function gg(e){return e.h||(e.h=e.i())}function mg(){}fg.prototype.h=null;var vg,yg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function bg(){Bp.call(this,"d")}function wg(){Bp.call(this,"c")}function xg(){}function _g(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new Qf(this),this.P=Eg,e=Jp?125:void 0,this.V=new Wf(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kg}function kg(){this.i=null,this.g="",this.h=!1}Lp(bg,Bp),Lp(wg,Bp),Lp(xg,fg),xg.prototype.g=function(){return new XMLHttpRequest},xg.prototype.i=function(){return{}},vg=new xg;var Eg=45e3,Cg={},Sg={};function Tg(e,t,n){e.L=1,e.v=Wg(Ug(t)),e.s=n,e.S=!0,Dg(e,null)}function Dg(e,t){e.G=Date.now(),Pg(e),e.A=Ug(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),sm(n.i,"t",i),e.C=0,n=e.l.J,e.h=new kg,e.g=sv(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Xf(Op(e.Pa,e,e.g),e.O)),Zf(e.U,e.g,"readystatechange",e.nb),t=e.I?ff(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ag(),function(e,t,n,i,r,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Ig(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.l.Ha}function Ag(e,t,n){let i,r=!0;for(;!e.J&&e.C<n.length;){if(i=Mg(e,n),i==Sg){4==t&&(e.o=4,cg(14),r=!1),ng(e.j,e.m,null,"[Incomplete Response]");break}if(i==Cg){e.o=4,cg(15),ng(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}ng(e.j,e.m,i,null),Fg(e,i)}Ig(e)&&i!=Sg&&i!=Cg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,cg(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qm(t),t.M=!0,cg(11))):(ng(e.j,e.m,n,"[Invalid Chunked Response]"),Ng(e),Lg(e))}function Mg(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?Sg:(n=Number(t.substring(n,i)),isNaN(n)?Cg:(i+=1)+n>t.length?Sg:(t=t.slice(i,i+n),e.C=i+n,t))}function Pg(e){e.Y=Date.now()+e.P,Og(e,e.P)}function Og(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=dg(Op(e.lb,e),t)}function Rg(e){e.B&&(Sp.clearTimeout(e.B),e.B=null)}function Lg(e){0==e.l.H||e.J||ev(e.l,e)}function Ng(e){Rg(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,qf(e.V),eg(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Fg(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||hm(n.i,e)))if(!e.K&&hm(n.i,e)&&3==n.H){try{var i=n.Ja.g.parse(t)}catch(e){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Zm(n),$m(n)}Xm(n),cg(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=dg(Op(n.ib,n),6e3));if(1>=dm(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else nv(n,11)}else if((e.K||n.g==e)&&Zm(n),!zp(t))for(r=n.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const r=c[4];null!=r&&(n.Ga=r,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(i=1.5*u,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(pm(s,s.h),s.h=null))}if(i.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.Da=e,Yg(i.I,i.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((i=n).wa=rv(i,i.J?i.pa:null,i.Y),o.K){fm(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(Rg(a),Pg(a)),i.g=o}else Km(i);0<n.j.length&&Ym(n)}else"stop"!=c[0]&&"close"!=c[0]||nv(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?nv(n,7):zm(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ag()}catch(e){}}function Vg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Tp(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(Tp(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e),i=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(Tp(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}(_p=_g.prototype).setTimeout=function(e){this.P=e},_p.nb=function(e){e=e.target;const t=this.M;t&&3==Nm(e)?t.l():this.Pa(e)},_p.Pa=function(e){try{if(e==this.g)e:{const u=Nm(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Jp||this.g&&(this.h.h||this.g.ja()||Fm(this.g)))){this.J||4!=u||7==t||ag(),Rg(this);var n=this.g.da();this.ca=n;t:if(Ig(this)){var i=Fm(this.g);e="";var r=i.length,s=4==Nm(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ng(this),Lg(this);var o="";break t}this.h.i=new Sp.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,i,r,s,o){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,cg(12),Ng(this),Lg(this);break e}ng(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fg(this,n)}this.S?(Ag(this,u,o),Jp&&this.i&&3==u&&(Zf(this.U,this.V,"tick",this.mb),this.V.start())):(ng(this.j,this.m,o,null),Fg(this,o)),4==u&&Ng(this),this.i&&!this.J&&(4==u?ev(this.l,this):(this.i=!1,Pg(this)))}else(function(e){const t={};e=(e.g&&2<=Nm(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(zp(e[i]))continue;var n=jf(e[i]);const r=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[r]||[];t[r]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,cg(12)):(this.o=0,cg(13)),Ng(this),Lg(this)}}}catch(e){}},_p.mb=function(){if(this.g){var e=Nm(this.g),t=this.g.ja();this.C<t.length&&(Rg(this),Ag(this,e,t),this.i&&4!=e&&Pg(this))}},_p.cancel=function(){this.J=!0,Ng(this)},_p.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ag(),cg(17)),Ng(this),this.o=2,Lg(this)):Og(this,this.Y-e)};var jg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Bg){this.h=e.h,zg(this,e.j),this.s=e.s,this.g=e.g,$g(this,e.m),this.l=e.l;var t=e.i,n=new tm;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Hg(this,n),this.o=e.o}else e&&(t=String(e).match(jg))?(this.h=!1,zg(this,t[1]||"",!0),this.s=qg(t[2]||""),this.g=qg(t[3]||"",!0),$g(this,t[4]),this.l=qg(t[5]||"",!0),Hg(this,t[6]||"",!0),this.o=qg(t[7]||"")):(this.h=!1,this.i=new tm(null,this.h))}function Ug(e){return new Bg(e)}function zg(e,t,n){e.j=n?qg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $g(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hg(e,t,n){t instanceof tm?(e.i=t,function(e,t){t&&!e.j&&(nm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(im(this,t),sm(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Gg(t,Zg)),e.i=new tm(t,e.h))}function Yg(e,t,n){e.i.set(t,n)}function Wg(e){return Yg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gg(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Kg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gg(t,Xg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gg(t,Xg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gg(n,"/"==n.charAt(0)?Jg:Qg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Gg(n,em)),e.join("")};var Xg=/[#\/\?@]/g,Qg=/[#\?:]/g,Jg=/[#\?]/g,Zg=/[#\?@]/g,em=/#/g;function tm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function im(e,t){nm(e),t=om(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function rm(e,t){return nm(e),t=om(e,t),e.g.has(t)}function sm(e,t,n){im(e,t),0<n.length&&(e.i=null,e.g.set(om(e,t),Vp(n)),e.h+=n.length)}function om(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(_p=tm.prototype).add=function(e,t){nm(this),this.i=null,e=om(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},_p.forEach=function(e,t){nm(this),this.g.forEach((function(n,i){n.forEach((function(n){e.call(t,n,i,this)}),this)}),this)},_p.ta=function(){nm(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let e=0;e<r.length;e++)n.push(t[i])}return n},_p.Z=function(e){nm(this);let t=[];if("string"==typeof e)rm(this,e)&&(t=t.concat(this.g.get(om(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},_p.set=function(e,t){return nm(this),this.i=null,rm(this,e=om(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},_p.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},_p.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),e.push(r)}}return this.i=e.join("&")};var am=class{constructor(e,t){this.g=e,this.map=t}};function lm(e){this.l=e||cm,e=Sp.PerformanceNavigationTiming?0<(e=Sp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Sp.g&&Sp.g.Ka&&Sp.g.Ka()&&Sp.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cm=10;function um(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dm(e){return e.h?1:e.g?e.g.size:0}function hm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function pm(e,t){e.g?e.g.add(t):e.h=t}function fm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function gm(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Vp(e.i)}lm.prototype.cancel=function(){if(this.i=gm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var mm=class{stringify(e){return Sp.JSON.stringify(e,void 0)}parse(e){return Sp.JSON.parse(e,void 0)}};function vm(){this.g=new mm}function ym(e,t,n){const i=n||"";try{Vg(e,(function(e,n){let r=e;Dp(e)&&(r=Lf(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(e){throw t.push(i+"type="+encodeURIComponent("_badmap")),e}}function bm(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(e){}}function wm(e){this.l=e.fc||null,this.j=e.ob||!1}function xm(e,t){Pf.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=_m,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lp(wm,fg),wm.prototype.g=function(){return new xm(this.l,this.j)},wm.prototype.i=function(e){return function(){return e}}({}),Lp(xm,Pf);var _m=0;function km(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Em(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cm(e)}function Cm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(_p=xm.prototype).open=function(e,t){if(this.readyState!=_m)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cm(this)},_p.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Sp).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},_p.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Em(this)),this.readyState=_m},_p.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cm(this)),this.g&&(this.readyState=3,Cm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==Sp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;km(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},_p.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Em(this):Cm(this),3==this.readyState&&km(this)}},_p.Za=function(e){this.g&&(this.response=this.responseText=e,Em(this))},_p.Ya=function(e){this.g&&(this.response=e,Em(this))},_p.ka=function(){this.g&&Em(this)},_p.setRequestHeader=function(e,t){this.v.append(e,t)},_p.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},_p.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Sm=Sp.JSON.parse;function Tm(e){Pf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dm,this.L=this.M=!1}Lp(Tm,Pf);var Dm="",Im=/^https?$/i,Am=["POST","PUT"];function Mm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pm(e),Rm(e)}function Pm(e){e.F||(e.F=!0,Of(e,"complete"),Of(e,"error"))}function Om(e){if(e.h&&void 0!==Cp&&(!e.C[1]||4!=Nm(e)||2!=e.da()))if(e.v&&4==Nm(e))Gf(e.La,0,e);else if(Of(e,"readystatechange"),4==Nm(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===o){var r=String(e.I).match(jg)[1]||null;!r&&Sp.self&&Sp.self.location&&(r=Sp.self.location.protocol.slice(0,-1)),i=!Im.test(r?r.toLowerCase():"")}n=i}if(n)Of(e,"complete"),Of(e,"success");else{e.m=6;try{var s=2<Nm(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.da()+"]",Pm(e)}}finally{Rm(e)}}}function Rm(e,t){if(e.g){Lm(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Of(e,"ready");try{n.onreadystatechange=i}catch(e){}}}function Lm(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Sp.clearTimeout(e.A),e.A=null)}function Nm(e){return e.g?e.g.readyState:0}function Fm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Dm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Vm(e){let t="";return pf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jm(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Vm(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Yg(e,t,n))}function Bm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Um(e){this.Ga=0,this.j=[],this.l=new tg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bm("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bm("baseRetryDelayMs",5e3,e),this.hb=Bm("retryDelaySeedMs",1e4,e),this.eb=Bm("forwardChannelMaxRetries",2,e),this.xa=Bm("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new lm(e&&e.concurrentRequestLimit),this.Ja=new vm,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function zm(e){if(Hm(e),3==e.H){var t=e.W++,n=Ug(e.I);if(Yg(n,"SID",e.K),Yg(n,"RID",t),Yg(n,"TYPE","terminate"),qm(e,n),(t=new _g(e,e.l,t)).L=2,t.v=Wg(Ug(n)),n=!1,Sp.navigator&&Sp.navigator.sendBeacon)try{n=Sp.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&Sp.Image&&((new Image).src=t.v,n=!0),n||(t.g=sv(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Pg(t)}iv(e)}function $m(e){e.g&&(Qm(e),e.g.cancel(),e.g=null)}function Hm(e){$m(e),e.u&&(Sp.clearTimeout(e.u),e.u=null),Zm(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Sp.clearTimeout(e.m),e.m=null)}function Ym(e){if(!um(e.i)&&!e.m){e.m=!0;var t=e.Na;Uf||Hf(),zf||(Uf(),zf=!0),$f.add(t,e),e.C=0}}function Wm(e,t){var n;n=t?t.m:e.W++;const i=Ug(e.I);Yg(i,"SID",e.K),Yg(i,"RID",n),Yg(i,"AID",e.V),qm(e,i),e.o&&e.s&&jm(i,e.o,e.s),n=new _g(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Gm(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),pm(e.i,n),Tg(n,i,t)}function qm(e,t){e.na&&pf(e.na,(function(e,n){Yg(t,n,e)})),e.h&&Vg({},(function(e,n){Yg(t,n,e)}))}function Gm(e,t,n){n=Math.min(e.j.length,n);var i=e.h?Op(e.h.Va,e.h,e):null;e:{var r=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=r[o].g;const a=r[o].map;if(n-=t,0>n)t=Math.max(0,r[o].g-100),s=!1;else try{ym(a,e,"req"+n+"_")}catch(e){i&&i(a)}}if(s){i=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,i}function Km(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Uf||Hf(),zf||(Uf(),zf=!0),$f.add(t,e),e.A=0}}function Xm(e){return!(e.g||e.u||3<=e.A||(e.ba++,e.u=dg(Op(e.Ma,e),tv(e,e.A)),e.A++,0))}function Qm(e){null!=e.B&&(Sp.clearTimeout(e.B),e.B=null)}function Jm(e){e.g=new _g(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ug(e.wa);Yg(t,"RID","rpc"),Yg(t,"SID",e.K),Yg(t,"AID",e.V),Yg(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Yg(t,"TO",e.qa),Yg(t,"TYPE","xmlhttp"),qm(e,t),e.o&&e.s&&jm(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Wg(Ug(t)),n.s=null,n.S=!0,Dg(n,e)}function Zm(e){null!=e.v&&(Sp.clearTimeout(e.v),e.v=null)}function ev(e,t){var n=null;if(e.g==t){Zm(e),Qm(e),e.g=null;var i=2}else{if(!hm(e.i,t))return;n=t.F,fm(e.i,t),i=1}if(0!=e.H)if(t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.G;var r=e.C;Of(i=sg(),new ug(i,n)),Ym(e)}else Km(e);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function(e,t){return!(dm(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=dg(Op(e.Na,e,t),tv(e,e.C)),e.C++,0)))}(e,t)||2==i&&Xm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:nv(e,5);break;case 4:nv(e,10);break;case 3:nv(e,6);break;default:nv(e,2)}}function tv(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function nv(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var i=Op(e.pb,e);n||(n=new Bg("//www.google.com/images/cleardot.gif"),Sp.location&&"http"==Sp.location.protocol||zg(n,"https"),Wg(n)),function(e,t){const n=new tg;if(Sp.Image){const i=new Image;i.onload=Rp(bm,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Rp(bm,n,i,"TestLoadImage: error",!1,t),i.onabort=Rp(bm,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Rp(bm,n,i,"TestLoadImage: timeout",!1,t),Sp.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else cg(2);e.H=0,e.h&&e.h.za(t),iv(e),Hm(e)}function iv(e){if(e.H=0,e.ma=[],e.h){const t=gm(e.i);0==t.length&&0==e.j.length||(jp(e.ma,t),jp(e.ma,e.j),e.i.i.length=0,Vp(e.j),e.j.length=0),e.h.ya()}}function rv(e,t,n){var i=n instanceof Bg?Ug(n):new Bg(n);if(""!=i.g)t&&(i.g=t+"."+i.g),$g(i,i.m);else{var r=Sp.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Bg(null);i&&zg(s,i),t&&(s.g=t),r&&$g(s,r),n&&(s.l=n),i=s}return n=e.F,t=e.Da,n&&t&&Yg(i,n,t),Yg(i,"VER",e.ra),qm(e,i),i}function sv(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Tm(new wm({ob:!0})):new Tm(e.va)).Oa(e.J),t}function ov(){}function av(){if(Xp&&!(10<=Number(of)))throw Error("Environmental error: no available transport.")}function lv(e,t){Pf.call(this),this.g=new Um(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!zp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zp(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new dv(this)}function cv(e){bg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function uv(){wg.call(this),this.status=1}function dv(e){this.g=e}function hv(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function pv(e,t,n){n||(n=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var s=e.g[3],o=t+(s^n&(r^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+s&4294967295}function fv(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var s=0|e[r];i&&s==t||(n[r]=s,i=!1)}this.g=n}(_p=Tm.prototype).Oa=function(e){this.M=e},_p.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vg.g(),this.C=this.u?gg(this.u):gg(vg),this.g.onreadystatechange=Op(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void Mm(this,e)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),r=Sp.FormData&&e instanceof Sp.FormData,!(0<=Fp(Am,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Lm(this),0<this.B&&((this.L=function(e){return Xp&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Op(this.ua,this)):this.A=Gf(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Mm(this,e)}},_p.ua=function(){void 0!==Cp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Of(this,"timeout"),this.abort(8))},_p.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Of(this,"complete"),Of(this,"abort"),Rm(this))},_p.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rm(this,!0)),Tm.$.N.call(this)},_p.La=function(){this.s||(this.G||this.v||this.l?Om(this):this.kb())},_p.kb=function(){Om(this)},_p.isActive=function(){return!!this.g},_p.da=function(){try{return 2<Nm(this)?this.g.status:-1}catch(e){return-1}},_p.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},_p.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Sm(t)}},_p.Ia=function(){return this.m},_p.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_p=Um.prototype).ra=8,_p.H=1,_p.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const r=new _g(this,this.l,e);let s=this.s;if(this.U&&(s?(s=ff(s),mf(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Gm(this,r,t),Yg(n=Ug(this.I),"RID",e),Yg(n,"CVER",22),this.F&&Yg(n,"X-HTTP-Session-Id",this.F),qm(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Vm(s)))+"&"+t:this.o&&jm(n,this.o,s)),pm(this.i,r),this.bb&&Yg(n,"TYPE","init"),this.P?(Yg(n,"$req",t),Yg(n,"SID","null"),r.aa=!0,Tg(r,n,null)):Tg(r,n,t),this.H=2}}else 3==this.H&&(e?Wm(this,e):0==this.j.length||um(this.i)||Wm(this))},_p.Ma=function(){if(this.u=null,Jm(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=dg(Op(this.jb,this),e)}},_p.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,cg(10),$m(this),Jm(this))},_p.ib=function(){null!=this.v&&(this.v=null,$m(this),Xm(this),cg(19))},_p.pb=function(e){e?(this.l.info("Successfully pinged google.com"),cg(2)):(this.l.info("Failed to ping google.com"),cg(1))},_p.isActive=function(){return!!this.h&&this.h.isActive(this)},(_p=ov.prototype).Ba=function(){},_p.Aa=function(){},_p.za=function(){},_p.ya=function(){},_p.isActive=function(){return!0},_p.Va=function(){},av.prototype.g=function(e,t){return new lv(e,t)},Lp(lv,Pf),lv.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;cg(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=rv(e,null,e.Y),Ym(e)},lv.prototype.close=function(){zm(this.g)},lv.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Lf(e),e=n);t.j.push(new am(t.fb++,e)),3==t.H&&Ym(t)},lv.prototype.N=function(){this.g.h=null,delete this.j,zm(this.g),delete this.g,lv.$.N.call(this)},Lp(cv,bg),Lp(uv,wg),Lp(dv,ov),dv.prototype.Ba=function(){Of(this.g,"a")},dv.prototype.Aa=function(e){Of(this.g,new cv(e))},dv.prototype.za=function(e){Of(this.g,new uv)},dv.prototype.ya=function(){Of(this.g,"b")},Lp(hv,(function(){this.blockSize=-1})),hv.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hv.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=n;)pv(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(i[r++]=e.charCodeAt(s++),r==this.blockSize){pv(this,i),r=0;break}}else for(;s<t;)if(i[r++]=e[s++],r==this.blockSize){pv(this,i),r=0;break}}this.h=r,this.i+=t},hv.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};var gv={};function mv(e){return-128<=e&&128>e?function(e){var t=gv;return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=function(e){return new fv([0|e],0>e?-1:0)}(e)}(e):new fv([0|e],0>e?-1:0)}function vv(e){if(isNaN(e)||!isFinite(e))return bv;if(0>e)return Ev(vv(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=yv;return new fv(t,0)}var yv=4294967296,bv=mv(0),wv=mv(1),xv=mv(16777216);function _v(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function kv(e){return-1==e.h}function Ev(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new fv(n,~e.h).add(wv)}function Cv(e,t){return e.add(Ev(t))}function Sv(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Tv(e,t){this.g=e,this.h=t}function Dv(e,t){if(_v(t))throw Error("division by zero");if(_v(e))return new Tv(bv,bv);if(kv(e))return t=Dv(Ev(e),t),new Tv(Ev(t.g),Ev(t.h));if(kv(t))return t=Dv(e,Ev(t)),new Tv(Ev(t.g),t.h);if(30<e.g.length){if(kv(e)||kv(t))throw Error("slowDivide_ only works with positive integers.");for(var n=wv,i=t;0>=i.X(e);)n=Iv(n),i=Iv(i);var r=Av(n,1),s=Av(i,1);for(i=Av(i,2),n=Av(n,2);!_v(i);){var o=s.add(i);0>=o.X(e)&&(r=r.add(n),s=o),i=Av(i,1),n=Av(n,1)}return t=Cv(e,r.R(t)),new Tv(r,t)}for(r=bv;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),o=(s=vv(n)).R(t);kv(o)||0<o.X(e);)o=(s=vv(n-=i)).R(t);_v(s)&&(s=wv),r=r.add(s),e=Cv(e,o)}return new Tv(r,e)}function Iv(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new fv(n,e.h)}function Av(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,r=[],s=0;s<i;s++)r[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new fv(r,e.h)}(_p=fv.prototype).ea=function(){if(kv(this))return-Ev(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:yv+i)*t,t*=yv}return e},_p.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(_v(this))return"0";if(kv(this))return"-"+Ev(this).toString(e);for(var t=vv(Math.pow(e,6)),n=this,i="";;){var r=Dv(n,t).g,s=((0<(n=Cv(n,r.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(_v(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},_p.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},_p.X=function(e){return kv(e=Cv(this,e))?-1:_v(e)?0:1},_p.abs=function(){return kv(this)?Ev(this):this},_p.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&e.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new fv(n,-2147483648&n[n.length-1]?-1:0)},_p.R=function(e){if(_v(this)||_v(e))return bv;if(kv(this))return kv(e)?Ev(this).R(Ev(e)):Ev(Ev(this).R(e));if(kv(e))return Ev(this.R(Ev(e)));if(0>this.X(xv)&&0>e.X(xv))return vv(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<e.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=e.D(r)>>>16,l=65535&e.D(r);n[2*i+2*r]+=o*l,Sv(n,2*i+2*r),n[2*i+2*r+1]+=s*l,Sv(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,Sv(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,Sv(n,2*i+2*r+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new fv(n,0)},_p.gb=function(e){return Dv(this,e).h},_p.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new fv(n,this.h&e.h)},_p.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new fv(n,this.h|e.h)},_p.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new fv(n,this.h^e.h)},av.prototype.createWebChannel=av.prototype.g,lv.prototype.send=lv.prototype.u,lv.prototype.open=lv.prototype.m,lv.prototype.close=lv.prototype.close,hg.NO_ERROR=0,hg.TIMEOUT=8,hg.HTTP_ERROR=6,pg.COMPLETE="complete",mg.EventType=yg,yg.OPEN="a",yg.CLOSE="b",yg.ERROR="c",yg.MESSAGE="d",Pf.prototype.listen=Pf.prototype.O,Tm.prototype.listenOnce=Tm.prototype.P,Tm.prototype.getLastError=Tm.prototype.Sa,Tm.prototype.getLastErrorCode=Tm.prototype.Ia,Tm.prototype.getStatus=Tm.prototype.da,Tm.prototype.getResponseJson=Tm.prototype.Wa,Tm.prototype.getResponseText=Tm.prototype.ja,Tm.prototype.send=Tm.prototype.ha,Tm.prototype.setWithCredentials=Tm.prototype.Oa,hv.prototype.digest=hv.prototype.l,hv.prototype.reset=hv.prototype.reset,hv.prototype.update=hv.prototype.j,fv.prototype.add=fv.prototype.add,fv.prototype.multiply=fv.prototype.R,fv.prototype.modulo=fv.prototype.gb,fv.prototype.compare=fv.prototype.X,fv.prototype.toNumber=fv.prototype.ea,fv.prototype.toString=fv.prototype.toString,fv.prototype.getBits=fv.prototype.D,fv.fromNumber=vv,fv.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ev(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=vv(Math.pow(n,8)),r=bv,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=vv(Math.pow(n,o)),r=r.R(o).add(vv(a))):r=(r=r.R(i)).add(vv(a))}return r};var Mv=Ep.createWebChannelTransport=function(){return new av},Pv=Ep.getStatEventTarget=function(){return sg()},Ov=Ep.ErrorCode=hg,Rv=Ep.EventType=pg,Lv=Ep.Event=ig,Nv=Ep.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fv=Ep.FetchXmlHttpFactory=wm,Vv=Ep.WebChannel=mg,jv=Ep.XhrIo=Tm,Bv=Ep.Md5=hv,Uv=Ep.Integer=fv;const zv="@firebase/firestore";class $v{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$v.UNAUTHENTICATED=new $v(null),$v.GOOGLE_CREDENTIALS=new $v("google-credentials-uid"),$v.FIRST_PARTY=new $v("first-party-uid"),$v.MOCK_USER=new $v("mock-user");let Hv="9.23.0";const Yv=new dc("@firebase/firestore");function Wv(){return Yv.logLevel}function qv(e,...t){if(Yv.logLevel<=oc.DEBUG){const n=t.map(Xv);Yv.debug(`Firestore (${Hv}): ${e}`,...n)}}function Gv(e,...t){if(Yv.logLevel<=oc.ERROR){const n=t.map(Xv);Yv.error(`Firestore (${Hv}): ${e}`,...n)}}function Kv(e,...t){if(Yv.logLevel<=oc.WARN){const n=t.map(Xv);Yv.warn(`Firestore (${Hv}): ${e}`,...n)}}function Xv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Qv(e="Unexpected state"){const t=`FIRESTORE (${Hv}) INTERNAL ASSERTION FAILED: `+e;throw Gv(t),new Error(t)}function Jv(e,t){e||Qv()}function Zv(e,t){return e}const ey={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ty extends Hl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ny{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class iy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ry{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($v.UNAUTHENTICATED)))}shutdown(){}}class sy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class oy{constructor(e){this.t=e,this.currentUser=$v.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new ny;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ny,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},o=e=>{qv("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(qv("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ny)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(qv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Jv("string"==typeof t.accessToken),new iy(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Jv(null===e||"string"==typeof e),new $v(e)}}class ay{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=$v.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ly{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new ay(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t($v.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uy{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&qv("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,qv("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{qv("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?i(e):qv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Jv("string"==typeof e.token),this.T=e.token,new cy(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function dy(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class hy{static A(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=dy(40);for(let i=0;i<n.length;++i)t.length<20&&n[i]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%62))}return t}}function py(e,t){return e<t?-1:e>t?1:0}function fy(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}class gy{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ty(ey.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ty(ey.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ty(ey.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ty(ey.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gy.fromMillis(Date.now())}static fromDate(e){return gy.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new gy(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?py(this.nanoseconds,e.nanoseconds):py(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class my{constructor(e){this.timestamp=e}static fromTimestamp(e){return new my(e)}static min(){return new my(new gy(0,0))}static max(){return new my(new gy(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vy{constructor(e,t,n){void 0===t?t=0:t>e.length&&Qv(),void 0===n?n=e.length-t:n>e.length-t&&Qv(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===vy.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vy?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yy extends vy{construct(e,t,n){return new yy(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ty(ey.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new yy(t)}static emptyPath(){return new yy([])}}const by=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wy extends vy{construct(e,t,n){return new wy(e,t,n)}static isValidIdentifier(e){return by.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wy.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wy(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new ty(ey.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new ty(ey.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ty(ey.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new ty(ey.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wy(t)}static emptyPath(){return new wy([])}}class xy{constructor(e){this.path=e}static fromPath(e){return new xy(yy.fromString(e))}static fromName(e){return new xy(yy.fromString(e).popFirst(5))}static empty(){return new xy(yy.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yy.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yy.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xy(new yy(e.slice()))}}function _y(e){return new ky(e.readTime,e.key,-1)}class ky{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ky(my.min(),xy.empty(),-1)}static max(){return new ky(my.max(),xy.empty(),-1)}}function Ey(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=xy.comparator(e.documentKey,t.documentKey),0!==n?n:py(e.largestBatchId,t.largestBatchId))}class Cy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sy(e){if(e.code!==ey.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;qv("LocalStore","Unexpectedly lost primary lease")}class Ty{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ty(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ty?t:Ty.resolve(t)}catch(e){return Ty.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ty.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ty.reject(t)}static resolve(e){return new Ty(((t,n)=>{t(e)}))}static reject(e){return new Ty(((t,n)=>{n(e)}))}static waitFor(e){return new Ty(((t,n)=>{let i=0,r=0,s=!1;e.forEach((e=>{++i,e.next((()=>{++r,s&&r===i&&t()}),(e=>n(e)))})),s=!0,r===i&&t()}))}static or(e){let t=Ty.resolve(!1);for(const n of e)t=t.next((e=>e?Ty.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}static mapArray(e,t){return new Ty(((n,i)=>{const r=e.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===r&&n(s)}),(e=>i(e)))}}))}static doWhile(e,t){return new Ty(((n,i)=>{const r=()=>{!0===e()?t().next((()=>{r()}),i):n()};r()}))}}function Dy(e){return"IndexedDbTransactionError"===e.name}class Iy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Ay(e){return null==e}function My(e){return 0===e&&1/e==-1/0}Iy.ct=-1;function Py(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Oy(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ry(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ly{constructor(e,t){this.comparator=e,this.root=t||Fy.EMPTY}insert(e,t){return new Ly(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fy.BLACK,null,null))}remove(e){return new Ly(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fy.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ny(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ny(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ny(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ny(this.root,e,this.comparator,!0)}}class Ny{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fy{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:Fy.RED,this.left=null!=i?i:Fy.EMPTY,this.right=null!=r?r:Fy.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new Fy(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fy.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Fy.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fy.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fy.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qv();if(this.right.isRed())throw Qv();const e=this.left.check();if(e!==this.right.check())throw Qv();return e+(this.isRed()?0:1)}}Fy.EMPTY=null,Fy.RED=!0,Fy.BLACK=!1,Fy.EMPTY=new class{constructor(){this.size=0}get key(){throw Qv()}get value(){throw Qv()}get color(){throw Qv()}get left(){throw Qv()}get right(){throw Qv()}copy(e,t,n,i,r){return this}insert(e,t,n){return new Fy(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vy{constructor(e){this.comparator=e,this.data=new Ly(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jy(this.data.getIterator())}getIteratorFrom(e){return new jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Vy))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vy(this.comparator);return t.data=e,t}}class jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class By{constructor(e){this.fields=e,e.sort(wy.comparator)}static empty(){return new By([])}unionWith(e){let t=new Vy(wy.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new By(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fy(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Uy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zy{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Uy("Invalid base64 string: "+e):e}}(e);return new zy(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new zy(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return py(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zy.EMPTY_BYTE_STRING=new zy("");const $y=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hy(e){if(Jv(!!e),"string"==typeof e){let t=0;const n=$y.exec(e);if(Jv(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Yy(e.seconds),nanos:Yy(e.nanos)}}function Yy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Wy(e){return"string"==typeof e?zy.fromBase64String(e):zy.fromUint8Array(e)}function qy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gy(e){const t=e.mapValue.fields.__previous_value__;return qy(t)?Gy(t):t}function Ky(e){const t=Hy(e.mapValue.fields.__local_write_time__.timestampValue);return new gy(t.seconds,t.nanos)}class Xy{constructor(e,t,n,i,r,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Qy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qy("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qy&&e.projectId===this.projectId&&e.database===this.database}}const Jy={fields:{__type__:{stringValue:"__max__"}}};function Zy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qy(e)?4:pb(e)?9007199254740991:10:Qv()}function eb(e,t){if(e===t)return!0;const n=Zy(e);if(n!==Zy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ky(e).isEqual(Ky(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Hy(e.timestampValue),i=Hy(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Wy(e.bytesValue).isEqual(Wy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Yy(e.geoPointValue.latitude)===Yy(t.geoPointValue.latitude)&&Yy(e.geoPointValue.longitude)===Yy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Yy(e.integerValue)===Yy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Yy(e.doubleValue),i=Yy(t.doubleValue);return n===i?My(n)===My(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return fy(e.arrayValue.values||[],t.arrayValue.values||[],eb);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(Py(n)!==Py(i))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===i[e]||!eb(n[e],i[e])))return!1;return!0}(e,t);default:return Qv()}}function tb(e,t){return void 0!==(e.values||[]).find((e=>eb(e,t)))}function nb(e,t){if(e===t)return 0;const n=Zy(e),i=Zy(t);if(n!==i)return py(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return py(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Yy(e.integerValue||e.doubleValue),i=Yy(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return ib(e.timestampValue,t.timestampValue);case 4:return ib(Ky(e),Ky(t));case 5:return py(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Wy(e),i=Wy(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let e=0;e<n.length&&e<i.length;e++){const t=py(n[e],i[e]);if(0!==t)return t}return py(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=py(Yy(e.latitude),Yy(t.latitude));return 0!==n?n:py(Yy(e.longitude),Yy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let e=0;e<n.length&&e<i.length;++e){const t=nb(n[e],i[e]);if(t)return t}return py(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Jy&&t===Jy)return 0;if(e===Jy)return 1;if(t===Jy)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let e=0;e<i.length&&e<s.length;++e){const t=py(i[e],s[e]);if(0!==t)return t;const o=nb(n[i[e]],r[s[e]]);if(0!==o)return o}return py(i.length,s.length)}(e.mapValue,t.mapValue);default:throw Qv()}}function ib(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return py(e,t);const n=Hy(e),i=Hy(t),r=py(n.seconds,i.seconds);return 0!==r?r:py(n.nanos,i.nanos)}function rb(e){return sb(e)}function sb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Hy(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Wy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,xy.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=sb(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+=`${r}:${sb(e.fields[r])}`;return n+"}"}(e.mapValue):Qv();var t,n}function ob(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ab(e){return!!e&&"integerValue"in e}function lb(e){return!!e&&"arrayValue"in e}function cb(e){return!!e&&"nullValue"in e}function ub(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function db(e){return!!e&&"mapValue"in e}function hb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Oy(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=hb(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hb(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class fb{constructor(e){this.value=e}static empty(){return new fb({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!db(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hb(t)}setAll(e){let t=wy.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=hb(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());db(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eb(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];db(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Oy(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new fb(hb(this.value))}}function gb(e){const t=[];return Oy(e.fields,((e,n)=>{const i=new wy([e]);if(db(n)){const e=gb(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new By(t)}class mb{constructor(e,t,n,i,r,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(e){return new mb(e,0,my.min(),my.min(),my.min(),fb.empty(),0)}static newFoundDocument(e,t,n,i){return new mb(e,1,t,my.min(),n,i,0)}static newNoDocument(e,t){return new mb(e,2,t,my.min(),my.min(),fb.empty(),0)}static newUnknownDocument(e,t){return new mb(e,3,t,my.min(),my.min(),fb.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(my.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fb.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fb.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=my.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mb&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mb(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vb{constructor(e,t){this.position=e,this.inclusive=t}}function yb(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(i=s.field.isKeyField()?xy.comparator(xy.fromName(o.referenceValue),n.key):nb(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function bb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!eb(e.position[n],t.position[n]))return!1;return!0}class wb{constructor(e,t="asc"){this.field=e,this.dir=t}}function xb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class _b{}class kb extends _b{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ab(e,t,n):"array-contains"===t?new Rb(e,n):"in"===t?new Lb(e,n):"not-in"===t?new Nb(e,n):"array-contains-any"===t?new Fb(e,n):new kb(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Mb(e,n):new Pb(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(nb(t,this.value)):null!==t&&Zy(this.value)===Zy(t)&&this.matchesComparison(nb(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qv()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Eb extends _b{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Eb(e,t)}matches(e){return Cb(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Cb(e){return"and"===e.op}function Sb(e){return function(e){for(const t of e.filters)if(t instanceof Eb)return!1;return!0}(e)&&Cb(e)}function Tb(e){if(e instanceof kb)return e.field.canonicalString()+e.op.toString()+rb(e.value);if(Sb(e))return e.filters.map((e=>Tb(e))).join(",");{const t=e.filters.map((e=>Tb(e))).join(",");return`${e.op}(${t})`}}function Db(e,t){return e instanceof kb?function(e,t){return t instanceof kb&&e.op===t.op&&e.field.isEqual(t.field)&&eb(e.value,t.value)}(e,t):e instanceof Eb?function(e,t){return t instanceof Eb&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,i)=>e&&Db(n,t.filters[i])),!0)}(e,t):void Qv()}function Ib(e){return e instanceof kb?function(e){return`${e.field.canonicalString()} ${e.op} ${rb(e.value)}`}(e):e instanceof Eb?function(e){return e.op.toString()+" {"+e.getFilters().map(Ib).join(" ,")+"}"}(e):"Filter"}class Ab extends kb{constructor(e,t,n){super(e,t,n),this.key=xy.fromName(n.referenceValue)}matches(e){const t=xy.comparator(e.key,this.key);return this.matchesComparison(t)}}class Mb extends kb{constructor(e,t){super(e,"in",t),this.keys=Ob(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Pb extends kb{constructor(e,t){super(e,"not-in",t),this.keys=Ob(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ob(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>xy.fromName(e.referenceValue)))}class Rb extends kb{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lb(t)&&tb(t.arrayValue,this.value)}}class Lb extends kb{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tb(this.value.arrayValue,t)}}class Nb extends kb{constructor(e,t){super(e,"not-in",t)}matches(e){if(tb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!tb(this.value.arrayValue,t)}}class Fb extends kb{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lb(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>tb(this.value.arrayValue,e)))}}class Vb{constructor(e,t=null,n=[],i=[],r=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.dt=null}}function jb(e,t=null,n=[],i=[],r=null,s=null,o=null){return new Vb(e,t,n,i,r,s,o)}function Bb(e){const t=Zv(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Tb(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ay(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>rb(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>rb(e))).join(",")),t.dt=e}return t.dt}function Ub(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!xb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Db(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bb(e.startAt,t.startAt)&&bb(e.endAt,t.endAt)}function zb(e){return xy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class $b{constructor(e,t=null,n=[],i=[],r=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function Hb(e){return new $b(e)}function Yb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qb(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Gb(e){return null!==e.collectionGroup}function Kb(e){const t=Zv(e);if(null===t.wt){t.wt=[];const e=qb(t),n=Wb(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new wb(e)),t.wt.push(new wb(wy.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new wb(wy.keyField(),e))}}}return t.wt}function Xb(e){const t=Zv(e);if(!t._t)if("F"===t.limitType)t._t=jb(t.path,t.collectionGroup,Kb(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Kb(t)){const t="desc"===n.dir?"asc":"desc";e.push(new wb(n.field,t))}const n=t.endAt?new vb(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vb(t.startAt.position,t.startAt.inclusive):null;t._t=jb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}return t._t}function Qb(e,t){t.getFirstInequalityField(),qb(e);const n=e.filters.concat([t]);return new $b(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Jb(e,t,n){return new $b(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zb(e,t){return Ub(Xb(e),Xb(t))&&e.limitType===t.limitType}function ew(e){return`${Bb(Xb(e))}|lt:${e.limitType}`}function tw(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Ib(e))).join(", ")}]`),Ay(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>rb(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>rb(e))).join(",")),`Target(${t})`}(Xb(e))}; limitType=${e.limitType})`}function nw(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Kb(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=yb(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,Kb(e),t)||e.endAt&&!function(e,t,n){const i=yb(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,Kb(e),t))}(e,t)}function iw(e){return(t,n)=>{let i=!1;for(const r of Kb(e)){const e=rw(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function rw(e,t,n){const i=e.field.isKeyField()?xy.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?nb(i,r):Qv()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Qv()}}class sw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,i]of n)if(this.equalsFn(t,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],e))return void(i[n]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oy(this.inner,((t,n)=>{for(const[t,i]of n)e(t,i)}))}isEmpty(){return Ry(this.inner)}size(){return this.innerSize}}const ow=new Ly(xy.comparator);function aw(){return ow}const lw=new Ly(xy.comparator);function cw(...e){let t=lw;for(const n of e)t=t.insert(n.key,n);return t}function uw(e){let t=lw;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function dw(){return pw()}function hw(){return pw()}function pw(){return new sw((e=>e.toString()),((e,t)=>e.isEqual(t)))}const fw=new Ly(xy.comparator),gw=new Vy(xy.comparator);function mw(...e){let t=gw;for(const n of e)t=t.add(n);return t}const vw=new Vy(py);function yw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:My(t)?"-0":t}}function bw(e){return{integerValue:""+e}}function ww(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!My(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?bw(t):yw(e,t)}class xw{constructor(){this._=void 0}}function _w(e,t,n){return e instanceof Cw?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&qy(t)&&(t=Gy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Sw?Tw(e,t):e instanceof Dw?Iw(e,t):function(e,t){const n=Ew(e,t),i=Mw(n)+Mw(e.gt);return ab(n)&&ab(e.gt)?bw(i):yw(e.serializer,i)}(e,t)}function kw(e,t,n){return e instanceof Sw?Tw(e,t):e instanceof Dw?Iw(e,t):n}function Ew(e,t){return e instanceof Aw?ab(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Cw extends xw{}class Sw extends xw{constructor(e){super(),this.elements=e}}function Tw(e,t){const n=Pw(t);for(const t of e.elements)n.some((e=>eb(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Dw extends xw{constructor(e){super(),this.elements=e}}function Iw(e,t){let n=Pw(t);for(const t of e.elements)n=n.filter((e=>!eb(e,t)));return{arrayValue:{values:n}}}class Aw extends xw{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Mw(e){return Yy(e.integerValue||e.doubleValue)}function Pw(e){return lb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ow{constructor(e,t){this.field=e,this.transform=t}}class Rw{constructor(e,t){this.version=e,this.transformResults=t}}class Lw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lw}static exists(e){return new Lw(void 0,e)}static updateTime(e){return new Lw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Fw{}function Vw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Gw(e.key,Lw.none()):new $w(e.key,e.data,Lw.none());{const n=e.data,i=fb.empty();let r=new Vy(wy.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),r=r.add(e)}return new Hw(e.key,i,new By(r.toArray()),Lw.none())}}function jw(e,t,n){e instanceof $w?function(e,t,n){const i=e.value.clone(),r=Ww(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof Hw?function(e,t,n){if(!Nw(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=Ww(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Yw(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bw(e,t,n,i){return e instanceof $w?function(e,t,n,i){if(!Nw(e.precondition,t))return n;const r=e.value.clone(),s=qw(e.fieldTransforms,i,t);return r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,i):e instanceof Hw?function(e,t,n,i){if(!Nw(e.precondition,t))return n;const r=qw(e.fieldTransforms,i,t),s=t.data;return s.setAll(Yw(e)),s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,i):function(e,t,n){return Nw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Uw(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=Ew(i.transform,e||null);null!=r&&(null===n&&(n=fb.empty()),n.set(i.field,r))}return n||null}function zw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&fy(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Sw&&t instanceof Sw||e instanceof Dw&&t instanceof Dw?fy(e.elements,t.elements,eb):e instanceof Aw&&t instanceof Aw?eb(e.gt,t.gt):e instanceof Cw&&t instanceof Cw}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $w extends Fw{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hw extends Fw{constructor(e,t,n,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Yw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function Ww(e,t,n){const i=new Map;Jv(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,kw(o,a,n[r]))}return i}function qw(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,_w(e,s,t))}return i}class Gw extends Fw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kw extends Fw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xw{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const i=this.mutations[t];i.key.isEqual(e.key)&&jw(i,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Bw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Bw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=hw();return this.mutations.forEach((i=>{const r=e.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=t.has(i.key)?null:o;const a=Vw(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(my.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),mw())}isEqual(e){return this.batchId===e.batchId&&fy(this.mutations,e.mutations,((e,t)=>zw(e,t)))&&fy(this.baseMutations,e.baseMutations,((e,t)=>zw(e,t)))}}class Qw{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Jv(e.mutations.length===n.length);let i=fw;const r=e.mutations;for(let e=0;e<r.length;e++)i=i.insert(r[e].key,n[e].version);return new Qw(e,t,n,i)}}class Jw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zw{constructor(e,t){this.count=e,this.unchangedNames=t}}var ex,tx;function nx(e){if(void 0===e)return Gv("GRPC error has no .code"),ey.UNKNOWN;switch(e){case ex.OK:return ey.OK;case ex.CANCELLED:return ey.CANCELLED;case ex.UNKNOWN:return ey.UNKNOWN;case ex.DEADLINE_EXCEEDED:return ey.DEADLINE_EXCEEDED;case ex.RESOURCE_EXHAUSTED:return ey.RESOURCE_EXHAUSTED;case ex.INTERNAL:return ey.INTERNAL;case ex.UNAVAILABLE:return ey.UNAVAILABLE;case ex.UNAUTHENTICATED:return ey.UNAUTHENTICATED;case ex.INVALID_ARGUMENT:return ey.INVALID_ARGUMENT;case ex.NOT_FOUND:return ey.NOT_FOUND;case ex.ALREADY_EXISTS:return ey.ALREADY_EXISTS;case ex.PERMISSION_DENIED:return ey.PERMISSION_DENIED;case ex.FAILED_PRECONDITION:return ey.FAILED_PRECONDITION;case ex.ABORTED:return ey.ABORTED;case ex.OUT_OF_RANGE:return ey.OUT_OF_RANGE;case ex.UNIMPLEMENTED:return ey.UNIMPLEMENTED;case ex.DATA_LOSS:return ey.DATA_LOSS;default:return Qv()}}(tx=ex||(ex={}))[tx.OK=0]="OK",tx[tx.CANCELLED=1]="CANCELLED",tx[tx.UNKNOWN=2]="UNKNOWN",tx[tx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tx[tx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tx[tx.NOT_FOUND=5]="NOT_FOUND",tx[tx.ALREADY_EXISTS=6]="ALREADY_EXISTS",tx[tx.PERMISSION_DENIED=7]="PERMISSION_DENIED",tx[tx.UNAUTHENTICATED=16]="UNAUTHENTICATED",tx[tx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tx[tx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tx[tx.ABORTED=10]="ABORTED",tx[tx.OUT_OF_RANGE=11]="OUT_OF_RANGE",tx[tx.UNIMPLEMENTED=12]="UNIMPLEMENTED",tx[tx.INTERNAL=13]="INTERNAL",tx[tx.UNAVAILABLE=14]="UNAVAILABLE",tx[tx.DATA_LOSS=15]="DATA_LOSS";class ix{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rx}static getOrCreateInstance(){return null===rx&&(rx=new ix),rx}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let rx=null;const sx=new Uv([4294967295,4294967295],0);function ox(e){const t=(new TextEncoder).encode(e),n=new Bv;return n.update(t),new Uint8Array(n.digest())}function ax(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Uv([n,i],0),new Uv([r,s],0)]}class lx{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new cx(`Invalid padding: ${t}`);if(n<0)throw new cx(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new cx(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new cx(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Uv.fromNumber(this.It)}Et(e,t,n){let i=e.add(t.multiply(Uv.fromNumber(n)));return 1===i.compare(sx)&&(i=new Uv([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ox(e),[n,i]=ax(t);for(let e=0;e<this.hashCount;e++){const t=this.Et(n,i,e);if(!this.At(t))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),s=new lx(r,i,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=ox(e),[n,i]=ax(t);for(let e=0;e<this.hashCount;e++){const t=this.Et(n,i,e);this.Rt(t)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class cx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ux{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,dx.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ux(my.min(),i,new Ly(py),aw(),mw())}}class dx{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new dx(n,t,mw(),mw(),mw())}}class hx{constructor(e,t,n,i){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=i}}class px{constructor(e,t){this.targetId=e,this.Vt=t}}class fx{constructor(e,t,n=zy.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class gx{constructor(){this.St=0,this.Dt=yx(),this.Ct=zy.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=mw(),t=mw(),n=mw();return this.Dt.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Qv()}})),new dx(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=yx()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class mx{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=aw(),this.zt=vx(),this.Wt=new Ly(py)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Qv()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,i=e.Vt.count,r=this.se(n);if(r){const s=r.target;if(zb(s))if(0===i){const e=new xy(s.path);this.Yt(n,e,mb.newNoDocument(e,my.min()))}else Jv(1===i);else{const r=this.ie(n);if(r!==i){const i=this.re(e,r);if(0!==i){this.ee(n);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=ix.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var i,r,s,o,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(i=null==u?void 0:u.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(o=null===(s=null===(r=null==u?void 0:u.bits)||void 0===r?void 0:r.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(i,r,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:i}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=Wy(r).toUint8Array()}catch(e){if(e instanceof Uy)return Kv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new lx(a,s,o)}catch(e){return Kv(e instanceof cx?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:i!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let i=0;return n.forEach((n=>{const r=this.Gt.ue(),s=`projects/${r.projectId}/databases/${r.database}/documents/${n.path.canonicalString()}`;t.vt(s)||(this.Yt(e,n,null),i++)})),i}ce(e){const t=new Map;this.Qt.forEach(((n,i)=>{const r=this.se(i);if(r){if(n.current&&zb(r.target)){const t=new xy(r.target.path);null!==this.jt.get(t)||this.ae(i,t)||this.Yt(i,t,mb.newNoDocument(t,e))}n.Mt&&(t.set(i,n.Ot()),n.Ft())}}));let n=mw();this.zt.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const i=new ux(e,t,this.Wt,this.jt,n);return this.jt=aw(),this.zt=vx(),this.Wt=new Ly(py),i}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new gx,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Vy(py),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||qv("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new gx),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function vx(){return new Ly(xy.comparator)}function yx(){return new Ly(xy.comparator)}const bx={asc:"ASCENDING",desc:"DESCENDING"},wx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xx={and:"AND",or:"OR"};class _x{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kx(e,t){return e.useProto3Json||Ay(t)?t:{value:t}}function Ex(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cx(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sx(e,t){return Ex(e,t.toTimestamp())}function Tx(e){return Jv(!!e),my.fromTimestamp(function(e){const t=Hy(e);return new gy(t.seconds,t.nanos)}(e))}function Dx(e,t){return function(e){return new yy(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ix(e){const t=yy.fromString(e);return Jv(qx(t)),t}function Ax(e,t){return Dx(e.databaseId,t.path)}function Mx(e,t){const n=Ix(t);if(n.get(1)!==e.databaseId.projectId)throw new ty(ey.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ty(ey.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xy(Rx(n))}function Px(e,t){return Dx(e.databaseId,t)}function Ox(e){return new yy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rx(e){return Jv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Lx(e,t,n){return{name:Ax(e,t),fields:n.value.mapValue.fields}}function Nx(e,t){return{documents:[Px(e,t.path)]}}function Fx(e,t){const n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n.parent=Px(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Px(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(e){if(0!==e.length)return Yx(Eb.create(e,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:$x(e.field),direction:Bx(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=kx(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Vx(e){let t=function(e){const t=Ix(e);return 4===t.length?yy.emptyPath():Rx(t)}(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Jv(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=jx(e);return t instanceof Eb&&Sb(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new wb(Hx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ay(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new vb(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new vb(n,t)}(n.endAt)),function(e,t,n,i,r,s,o,a){return new $b(e,t,n,i,r,s,o,a)}(t,r,o,s,a,"F",l,c)}function jx(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Hx(e.unaryFilter.field);return kb.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Hx(e.unaryFilter.field);return kb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hx(e.unaryFilter.field);return kb.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Hx(e.unaryFilter.field);return kb.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Qv()}}(e):void 0!==e.fieldFilter?function(e){return kb.create(Hx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Eb.create(e.compositeFilter.filters.map((e=>jx(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Qv()}}(e.compositeFilter.op))}(e):Qv()}function Bx(e){return bx[e]}function Ux(e){return wx[e]}function zx(e){return xx[e]}function $x(e){return{fieldPath:e.canonicalString()}}function Hx(e){return wy.fromServerFormat(e.fieldPath)}function Yx(e){return e instanceof kb?function(e){if("=="===e.op){if(ub(e.value))return{unaryFilter:{field:$x(e.field),op:"IS_NAN"}};if(cb(e.value))return{unaryFilter:{field:$x(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ub(e.value))return{unaryFilter:{field:$x(e.field),op:"IS_NOT_NAN"}};if(cb(e.value))return{unaryFilter:{field:$x(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$x(e.field),op:Ux(e.op),value:e.value}}}(e):e instanceof Eb?function(e){const t=e.getFilters().map((e=>Yx(e)));return 1===t.length?t[0]:{compositeFilter:{op:zx(e.op),filters:t}}}(e):Qv()}function Wx(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function qx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Gx{constructor(e,t,n,i,r=my.min(),s=my.min(),o=zy.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Gx(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gx(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Kx{constructor(e){this.fe=e}}function Xx(e){const t=Vx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jb(t,t.limit,"L"):t}class Qx{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Yy(e.integerValue));else if("doubleValue"in e){const n=Yy(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),My(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Wy(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?pb(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Qv()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const e of Object.keys(n))this.Te(e,t),this.me(n[e],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const e of n)this.me(e,t)}ve(e,t){this.ye(t,37),xy.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Qx.Ve=new Qx;class Jx{constructor(){this.rn=new Zx}addToCollectionParentIndex(e,t){return this.rn.add(t),Ty.resolve()}getCollectionParents(e,t){return Ty.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ty.resolve()}deleteFieldIndex(e,t){return Ty.resolve()}getDocumentsMatchingTarget(e,t){return Ty.resolve(null)}getIndexType(e,t){return Ty.resolve(0)}getFieldIndexes(e,t){return Ty.resolve([])}getNextCollectionGroupToUpdate(e){return Ty.resolve(null)}getMinOffset(e,t){return Ty.resolve(ky.min())}getMinOffsetFromCollectionGroup(e,t){return Ty.resolve(ky.min())}updateCollectionGroup(e,t,n){return Ty.resolve()}updateIndexEntries(e,t){return Ty.resolve()}}class Zx{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Vy(yy.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Vy(yy.comparator)).toArray()}}new Uint8Array(0);class e_{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new e_(e,e_.DEFAULT_COLLECTION_PERCENTILE,e_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}e_.DEFAULT_COLLECTION_PERCENTILE=10,e_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,e_.DEFAULT=new e_(41943040,e_.DEFAULT_COLLECTION_PERCENTILE,e_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),e_.DISABLED=new e_(-1,0,0);class t_{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new t_(0)}static Mn(){return new t_(-1)}}class n_{constructor(){this.changes=new sw((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mb.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ty.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class i_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class r_{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Bw(n.mutation,e,By.empty(),gy.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,mw()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=mw()){const i=dw();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((e=>{let t=cw();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=dw();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,mw())))}populateOverlays(e,t,n){const i=[];return n.forEach((e=>{t.has(e)||i.push(e)})),this.documentOverlayCache.getOverlays(e,i).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,i){let r=aw();const s=pw(),o=pw();return t.forEach(((e,t)=>{const o=n.get(t.key);i.has(t.key)&&(void 0===o||o.mutation instanceof Hw)?r=r.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Bw(o.mutation,t,o.mutation.getFieldMask(),gy.now())):s.set(t.key,By.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new i_(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=pw();let i=new Ly(((e,t)=>e-t)),r=mw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||By.empty();o=r.applyToLocalView(s,o),n.set(e,o);const a=(i.get(r.batchId)||mw()).add(e);i=i.insert(r.batchId,a)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=hw();l.forEach((e=>{if(!r.has(e)){const i=Vw(t.get(e),n.get(e));null!==i&&c.set(e,i),r=r.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Ty.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return xy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):Ty.resolve(dw());let o=-1,a=r;return s.next((t=>Ty.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(t)?Ty.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,a,t,mw()))).next((e=>({batchId:o,changes:uw(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xy(t)).next((e=>{let t=cw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const i=t.collectionGroup;let r=cw();return this.indexManager.getCollectionParents(e,i).next((s=>Ty.forEach(s,(s=>{const o=function(e,t){return new $b(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{r=r.insert(e,t)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(e,t,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i)))).next((e=>{i.forEach(((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,mb.newInvalidDocument(i)))}));let n=cw();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Bw(s.mutation,r,By.empty(),gy.now()),nw(t,r)&&(n=n.insert(e,r))})),n}))}}class s_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ty.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Tx(n.createTime)}),Ty.resolve()}getNamedQuery(e,t){return Ty.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Xx(e.bundledQuery),readTime:Tx(e.readTime)}}(t)),Ty.resolve()}}class o_{constructor(){this.overlays=new Ly(xy.comparator),this.ls=new Map}getOverlay(e,t){return Ty.resolve(this.overlays.get(t))}getOverlays(e,t){const n=dw();return Ty.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,i)=>{this.we(e,t,i)})),Ty.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.ls.get(n);return void 0!==i&&(i.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Ty.resolve()}getOverlaysForCollection(e,t,n){const i=dw(),r=t.length+1,s=new xy(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return Ty.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new Ly(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=dw(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=dw(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=i)););return Ty.resolve(o)}we(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.ls.get(i.largestBatchId).delete(n.key);this.ls.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Jw(t,n));let r=this.ls.get(t);void 0===r&&(r=mw(),this.ls.set(t,r)),this.ls.set(t,r.add(n.key))}}class a_{constructor(){this.fs=new Vy(l_.ds),this.ws=new Vy(l_._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new l_(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new l_(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new xy(new yy([])),n=new l_(t,e),i=new l_(t,e+1),r=[];return this.ws.forEachInRange([n,i],(e=>{this.ys(e),r.push(e.key)})),r}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new xy(new yy([])),n=new l_(t,e),i=new l_(t,e+1);let r=mw();return this.ws.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new l_(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class l_{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return xy.comparator(e.key,t.key)||py(e.As,t.As)}static _s(e,t){return py(e.As,t.As)||xy.comparator(e.key,t.key)}}class c_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Vy(l_.ds)}checkEmpty(e){return Ty.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const r=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Xw(r,t,n,i);this.mutationQueue.push(s);for(const t of i)this.Rs=this.Rs.add(new l_(t.key,r)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Ty.resolve(s)}lookupMutationBatch(e,t){return Ty.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.bs(n),r=i<0?0:i;return Ty.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Ty.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ty.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new l_(t,0),i=new l_(t,Number.POSITIVE_INFINITY),r=[];return this.Rs.forEachInRange([n,i],(e=>{const t=this.Ps(e.As);r.push(t)})),Ty.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Vy(py);return t.forEach((e=>{const t=new l_(e,0),i=new l_(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,i],(e=>{n=n.add(e.As)}))})),Ty.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;xy.isDocumentKey(r)||(r=r.child(""));const s=new l_(new xy(r),0);let o=new Vy(py);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(o=o.add(e.As)),!0)}),s),Ty.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Jv(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Ty.forEach(t.mutations,(i=>{const r=new l_(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new l_(t,0),i=this.Rs.firstAfterOrEqual(n);return Ty.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ty.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class u_{constructor(e){this.Ds=e,this.docs=new Ly(xy.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ty.resolve(n?n.document.mutableCopy():mb.newInvalidDocument(t))}getEntries(e,t){let n=aw();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():mb.newInvalidDocument(e))})),Ty.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=aw();const s=t.path,o=new xy(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Ey(_y(o),n)<=0||(i.has(o.key)||nw(t,o))&&(r=r.insert(o.key,o.mutableCopy()))}return Ty.resolve(r)}getAllFromCollectionGroup(e,t,n,i){Qv()}Cs(e,t){return Ty.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new d_(this)}getSize(e){return Ty.resolve(this.size)}}class d_ extends n_{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(n)})),Ty.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class h_{constructor(e){this.persistence=e,this.xs=new sw((e=>Bb(e)),Ub),this.lastRemoteSnapshotVersion=my.min(),this.highestTargetId=0,this.Ns=0,this.ks=new a_,this.targetCount=0,this.Ms=t_.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Ty.resolve()}getLastRemoteSnapshotVersion(e){return Ty.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ty.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ty.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Ty.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new t_(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ty.resolve()}updateTargetData(e,t){return this.Fn(t),Ty.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ty.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),Ty.waitFor(r).next((()=>i))}getTargetCount(e){return Ty.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Ty.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Ty.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),Ty.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ty.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Ty.resolve(n)}containsKey(e,t){return Ty.resolve(this.ks.containsKey(t))}}class p_{constructor(e,t){this.$s={},this.overlays={},this.Os=new Iy(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new h_(this),this.indexManager=new Jx,this.remoteDocumentCache=function(e){return new u_(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new Kx(t),this.qs=new s_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new o_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new c_(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){qv("MemoryPersistence","Starting transaction:",e);const i=new f_(this.Os.next());return this.referenceDelegate.Us(),n(i).next((e=>this.referenceDelegate.Ks(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Gs(e,t){return Ty.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class f_ extends Cy{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.Qs=new a_,this.js=null}static zs(e){return new g_(e)}get Ws(){if(this.js)return this.js;throw Qv()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Ty.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Ty.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ty.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ty.forEach(this.Ws,(n=>{const i=xy.fromPath(n);return this.Hs(e,i).next((e=>{e||t.removeEntry(i,my.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Ty.or([()=>Ty.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class m_{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=i}static Li(e,t){let n=mw(),i=mw();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new m_(e,t.fromCache,n,i)}}class v_{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,i){return this.Ki(e,t).next((r=>r||this.Gi(e,t,i,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Yb(t))return Ty.resolve(null);let n=Xb(t);return this.indexManager.getIndexType(e,n).next((i=>0===i?null:(null!==t.limit&&1===i&&(t=Jb(t,null,"F"),n=Xb(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const r=mw(...i);return this.Ui.getDocuments(e,r).next((i=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,i);return this.zi(t,s,r,n.readTime)?this.Ki(e,Jb(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,i){return Yb(t)||i.isEqual(my.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((r=>{const s=this.ji(t,r);return this.zi(t,s,n,i)?this.Qi(e,t):(Wv()<=oc.DEBUG&&qv("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tw(t)),this.Wi(e,s,t,function(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=my.fromTimestamp(1e9===i?new gy(n+1,0):new gy(n,i));return new ky(r,xy.empty(),t)}(i,-1)))}))}ji(e,t){let n=new Vy(iw(e));return t.forEach(((t,i)=>{nw(e,i)&&(n=n.add(i))})),n}zi(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Qi(e,t){return Wv()<=oc.DEBUG&&qv("QueryEngine","Using full collection scan to execute query:",tw(t)),this.Ui.getDocumentsMatchingQuery(e,t,ky.min())}Wi(e,t,n,i){return this.Ui.getDocumentsMatchingQuery(e,n,i).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class y_{constructor(e,t,n,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Ly(py),this.Yi=new sw((e=>Bb(e)),Ub),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}async function b_(e,t){const n=Zv(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next((r=>(i=r,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],s=[];let o=mw();for(const e of i){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({er:e,removedBatchIds:r,addedBatchIds:s})))}))}))}function w_(e){const t=Zv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function x_(e,t){const n=Zv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function __(e,t,n){const i=Zv(e),r=i.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!Dy(e))throw e;qv("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}function k_(e,t,n){const i=Zv(e);let r=my.min(),s=mw();return i.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const i=Zv(e),r=i.Yi.get(n);return void 0!==r?Ty.resolve(i.Ji.get(r)):i.Bs.getTargetData(t,n)}(i,e,Xb(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>i.Hi.getDocumentsMatchingQuery(e,t,n?r:my.min(),n?s:mw()))).next((e=>(function(e,t,n){let i=e.Xi.get(t)||my.min();n.forEach(((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)})),e.Xi.set(t,i)}(i,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,ir:s})))))}class E_{constructor(){this.activeTargetIds=vw}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C_{constructor(){this.Hr=new E_,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new E_,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class S_{Yr(e){}shutdown(){}}class T_{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){qv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){qv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let D_=null;function I_(){return null===D_?D_=268435456+Math.round(2147483648*Math.random()):D_++,"0x"+D_.toString(16)}const A_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const P_="WebChannelConnection";class O_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,i,r){const s=I_(),o=this.To(e,t);qv("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={};return this.Eo(a,i,r),this.Ao(e,o,a,n).then((t=>(qv("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Kv("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}vo(e,t,n,i,r,s){return this.Io(e,t,n,i,r)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=A_[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,i){const r=I_();return new Promise(((s,o)=>{const a=new jv;a.setWithCredentials(!0),a.listenOnce(Rv.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ov.NO_ERROR:const t=a.getResponseJson();qv(P_,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(t)),s(t);break;case Ov.TIMEOUT:qv(P_,`RPC '${e}' ${r} timed out`),o(new ty(ey.DEADLINE_EXCEEDED,"Request time out"));break;case Ov.HTTP_ERROR:const n=a.getStatus();if(qv(P_,`RPC '${e}' ${r} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ey).indexOf(t)>=0?t:ey.UNKNOWN}(t.status);o(new ty(e,t.message))}else o(new ty(ey.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ty(ey.UNAVAILABLE,"Connection failed."));break;default:Qv()}}finally{qv(P_,`RPC '${e}' ${r} completed.`)}}));const l=JSON.stringify(i);qv(P_,`RPC '${e}' ${r} sending request:`,i),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const i=I_(),r=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mv(),o=Pv(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Fv({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=r.join("");qv(P_,`Creating RPC '${e}' stream ${i}: ${c}`,a);const u=s.createWebChannel(c,a);let d=!1,h=!1;const p=new M_({ro:t=>{h?qv(P_,`Not sending because RPC '${e}' stream ${i} is closed:`,t):(d||(qv(P_,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),qv(P_,`RPC '${e}' stream ${i} sending:`,t),u.send(t))},oo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,Vv.EventType.OPEN,(()=>{h||qv(P_,`RPC '${e}' stream ${i} transport opened.`)})),f(u,Vv.EventType.CLOSE,(()=>{h||(h=!0,qv(P_,`RPC '${e}' stream ${i} transport closed`),p.wo())})),f(u,Vv.EventType.ERROR,(t=>{h||(h=!0,Kv(P_,`RPC '${e}' stream ${i} transport errored:`,t),p.wo(new ty(ey.UNAVAILABLE,"The operation could not be completed")))})),f(u,Vv.EventType.MESSAGE,(t=>{var n;if(!h){const r=t.data[0];Jv(!!r);const s=r,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){qv(P_,`RPC '${e}' stream ${i} received error:`,o);const t=o.status;let n=function(e){const t=ex[e];if(void 0!==t)return nx(t)}(t),r=o.message;void 0===n&&(n=ey.INTERNAL,r="Unknown error status: "+t+" with message "+o.message),h=!0,p.wo(new ty(n,r)),u.close()}else qv(P_,`RPC '${e}' stream ${i} received:`,r),p._o(r)}})),f(o,Lv.STAT_EVENT,(t=>{t.stat===Nv.PROXY?qv(P_,`RPC '${e}' stream ${i} detected buffering proxy`):t.stat===Nv.NOPROXY&&qv(P_,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{p.fo()}),0),p}}function R_(){return"undefined"!=typeof document?document:null}function L_(e){return new _x(e,!0)}class N_{constructor(e,t,n=1e3,i=1.5,r=6e4){this.ii=e,this.timerId=t,this.Po=n,this.bo=i,this.Vo=r,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-n);i>0&&qv("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class F_{constructor(e,t,n,i,r,s,o,a){this.ii=e,this.$o=n,this.Oo=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new N_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===ey.RESOURCE_EXHAUSTED?(Gv(t.toString()),Gv("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===ey.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Fo===t&&this.Zo(e,n)}),(t=>{e((()=>{const e=new ty(ey.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return qv("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(qv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class V_ extends F_{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Qv()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Jv(void 0===t||"string"==typeof t),zy.fromBase64String(t||"")):(Jv(void 0===t||t instanceof Uint8Array),zy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?ey.UNKNOWN:nx(e.code);return new ty(t,e.message||"")}(o);n=new fx(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Mx(e,i.document.name),s=Tx(i.document.updateTime),o=i.document.createTime?Tx(i.document.createTime):my.min(),a=new fb({mapValue:{fields:i.document.fields}}),l=mb.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new hx(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Mx(e,i.document),s=i.readTime?Tx(i.readTime):my.min(),o=mb.newNoDocument(r,s),a=i.removedTargetIds||[];n=new hx([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Mx(e,i.document),s=i.removedTargetIds||[];n=new hx([],s,r,null)}else{if(!("filter"in t))return Qv();{t.filter;const e=t.filter;e.targetId;const{count:i=0,unchangedNames:r}=e,s=new Zw(i,r),o=e.targetId;n=new px(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return my.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?my.min():t.readTime?Tx(t.readTime):my.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Ox(this.serializer),t.addTarget=function(e,t){let n;const i=t.target;if(n=zb(i)?{documents:Nx(e,i)}:{query:Fx(e,i)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Cx(e,t.resumeToken);const i=kx(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(my.min())>0){n.readTime=Ex(e,t.snapshotVersion.toTimestamp());const i=kx(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Ox(this.serializer),t.removeTarget=e,this.Wo(t)}}class j_ extends F_{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Jv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Jv(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Tx(e.updateTime):Tx(t);return n.isEqual(my.min())&&(n=Tx(t)),new Rw(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Tx(e.commitTime);return this.listener.cu(n,t)}return Jv(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ox(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof $w)n={update:Lx(e,t.key,t.value)};else if(t instanceof Gw)n={delete:Ax(e,t.key)};else if(t instanceof Hw)n={update:Lx(e,t.key,t.data),updateMask:Wx(t.fieldMask)};else{if(!(t instanceof Kw))return Qv();n={verify:Ax(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Cw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Dw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Aw)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Qv()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sx(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Qv()}(e,t.precondition)),n}(this.serializer,e)))};this.Wo(t)}}class B_ extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ty(ey.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.connection.Io(e,t,n,i,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ey.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ty(ey.UNKNOWN,e.toString())}))}vo(e,t,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,s])=>this.connection.vo(e,t,n,r,s,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ey.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ty(ey.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class U_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Gv(t),this.mu=!1):qv("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class z_{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=r,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Q_(this)&&(qv("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Zv(e);t.vu.add(4),await H_(t),t.bu.set("Unknown"),t.vu.delete(4),await $_(t)}(this))}))})),this.bu=new U_(n,i)}}async function $_(e){if(Q_(e))for(const t of e.Ru)await t(!0)}async function H_(e){for(const t of e.Ru)await t(!1)}function Y_(e,t){const n=Zv(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),X_(n)?K_(n):fk(n).Ko()&&q_(n,t))}function W_(e,t){const n=Zv(e),i=fk(n);n.Au.delete(t),i.Ko()&&G_(n,t),0===n.Au.size&&(i.Ko()?i.jo():Q_(n)&&n.bu.set("Unknown"))}function q_(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(my.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fk(e).su(t)}function G_(e,t){e.Vu.qt(t),fk(e).iu(t)}function K_(e){e.Vu=new mx({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),fk(e).start(),e.bu.gu()}function X_(e){return Q_(e)&&!fk(e).Uo()&&e.Au.size>0}function Q_(e){return 0===Zv(e).vu.size}function J_(e){e.Vu=void 0}async function Z_(e){e.Au.forEach(((t,n)=>{q_(e,t)}))}async function ek(e,t){J_(e),X_(e)?(e.bu.Iu(t),K_(e)):e.bu.set("Unknown")}async function tk(e,t,n){if(e.bu.set("Online"),t instanceof fx&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.Au.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.Au.delete(i),e.Vu.removeTarget(i))}(e,t)}catch(n){qv("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await nk(e,n)}else if(t instanceof hx?e.Vu.Ht(t):t instanceof px?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(my.min()))try{const t=await w_(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Au.get(i);r&&e.Au.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const i=e.Au.get(t);if(!i)return;e.Au.set(t,i.withResumeToken(zy.EMPTY_BYTE_STRING,i.snapshotVersion)),G_(e,t);const r=new Gx(i.target,t,n,i.sequenceNumber);q_(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){qv("RemoteStore","Failed to raise snapshot:",t),await nk(e,t)}}async function nk(e,t,n){if(!Dy(t))throw t;e.vu.add(1),await H_(e),e.bu.set("Offline"),n||(n=()=>w_(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{qv("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await $_(e)}))}function ik(e,t){return t().catch((n=>nk(e,n,t)))}async function rk(e){const t=Zv(e),n=gk(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;sk(t);)try{const e=await x_(t.localStore,i);if(null===e){0===t.Eu.length&&n.jo();break}i=e.batchId,ok(t,e)}catch(e){await nk(t,e)}ak(t)&&lk(t)}function sk(e){return Q_(e)&&e.Eu.length<10}function ok(e,t){e.Eu.push(t);const n=gk(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function ak(e){return Q_(e)&&!gk(e).Uo()&&e.Eu.length>0}function lk(e){gk(e).start()}async function ck(e){gk(e).hu()}async function uk(e){const t=gk(e);for(const n of e.Eu)t.uu(n.mutations)}async function dk(e,t,n){const i=e.Eu.shift(),r=Qw.from(i,t,n);await ik(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await rk(e)}async function hk(e,t){t&&gk(e).ou&&await async function(e,t){if(function(e){switch(e){default:return Qv();case ey.CANCELLED:case ey.UNKNOWN:case ey.DEADLINE_EXCEEDED:case ey.RESOURCE_EXHAUSTED:case ey.INTERNAL:case ey.UNAVAILABLE:case ey.UNAUTHENTICATED:return!1;case ey.INVALID_ARGUMENT:case ey.NOT_FOUND:case ey.ALREADY_EXISTS:case ey.PERMISSION_DENIED:case ey.FAILED_PRECONDITION:case ey.ABORTED:case ey.OUT_OF_RANGE:case ey.UNIMPLEMENTED:case ey.DATA_LOSS:return!0}}(n=t.code)&&n!==ey.ABORTED){const n=e.Eu.shift();gk(e).Qo(),await ik(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await rk(e)}var n}(e,t),ak(e)&&lk(e)}async function pk(e,t){const n=Zv(e);n.asyncQueue.verifyOperationInProgress(),qv("RemoteStore","RemoteStore received new credentials");const i=Q_(n);n.vu.add(3),await H_(n),i&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await $_(n)}function fk(e){return e.Su||(e.Su=function(e,t,n){const i=Zv(e);return i.fu(),new V_(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{uo:Z_.bind(null,e),ao:ek.bind(null,e),nu:tk.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),X_(e)?K_(e):e.bu.set("Unknown")):(await e.Su.stop(),J_(e))}))),e.Su}function gk(e){return e.Du||(e.Du=function(e,t,n){const i=Zv(e);return i.fu(),new j_(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{uo:ck.bind(null,e),ao:hk.bind(null,e),au:uk.bind(null,e),cu:dk.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await rk(e)):(await e.Du.stop(),e.Eu.length>0&&(qv("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class mk{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new ny,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,o=new mk(e,t,s,i,r);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ty(ey.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vk(e,t){if(Gv("AsyncQueue",`${t}: ${e}`),Dy(e))return new ty(ey.UNAVAILABLE,`${t}: ${e}`);throw e}class yk{constructor(e){this.comparator=e?(t,n)=>e(t,n)||xy.comparator(t.key,n.key):(e,t)=>xy.comparator(e.key,t.key),this.keyedMap=cw(),this.sortedSet=new Ly(this.comparator)}static emptySet(e){return new yk(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yk))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new yk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class bk{constructor(){this.Cu=new Ly(xy.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Qv():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class wk{constructor(e,t,n,i,r,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,r){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new wk(e,t,yk.emptySet(t),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class xk{constructor(){this.Nu=void 0,this.listeners=[]}}class _k{constructor(){this.queries=new sw((e=>ew(e)),Zb),this.onlineState="Unknown",this.ku=new Set}}async function kk(e,t){const n=Zv(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new xk),r)try{s.Nu=await n.onListen(i)}catch(e){const n=vk(e,`Initialization of query '${tw(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&Tk(n)}async function Ek(e,t){const n=Zv(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function Ck(e,t){const n=Zv(e);let i=!1;for(const e of t){const t=e.query,r=n.queries.get(t);if(r){for(const t of r.listeners)t.$u(e)&&(i=!0);r.Nu=e}}i&&Tk(n)}function Sk(e,t,n){const i=Zv(e),r=i.queries.get(t);if(r)for(const e of r.listeners)e.onError(n);i.queries.delete(t)}function Tk(e){e.ku.forEach((e=>{e.next()}))}class Dk{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new wk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=wk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Ik{constructor(e){this.key=e}}class Ak{constructor(e){this.key=e}}class Mk{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=mw(),this.mutatedKeys=mw(),this.tc=iw(e),this.ec=new yk(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new bk,i=t?t.ec:this.ec;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const c=i.get(e),u=nw(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.rc(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(u?(s=s.add(u),r=h?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:r}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const r=e.ic.xu();r.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qv()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==r.length||a?{snapshot:new wk(this.query,e.ec,i,r,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new bk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=mw(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Ak(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Ik(n))})),t}hc(e){this.Yu=e.ir,this.Zu=mw();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return wk.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Pk{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ok{constructor(e){this.key=e,this.fc=!1}}class Rk{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new sw((e=>ew(e)),Zb),this._c=new Map,this.mc=new Set,this.gc=new Ly(xy.comparator),this.yc=new Map,this.Ic=new a_,this.Tc={},this.Ec=new Map,this.Ac=t_.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Lk(e,t){const n=function(e){const t=Zv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jk.bind(null,t),t.dc.nu=Ck.bind(null,t.eventManager),t.dc.Pc=Sk.bind(null,t.eventManager),t}(e);let i,r;const s=n.wc.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const e=await function(e,t){const n=Zv(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.Bs.getTargetData(e,t).next((r=>r?(i=r,Ty.resolve(i)):n.Bs.allocateTargetId(e).next((r=>(i=new Gx(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.Ji.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}(n.localStore,Xb(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,r=await async function(e,t,n,i,r){e.Rc=(t,n,i)=>async function(e,t,n,i){let r=t.view.sc(n);r.zi&&(r=await k_(e.localStore,t.query,!1).then((({documents:e})=>t.view.sc(e,r))));const s=i&&i.targetChanges.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,s);return Wk(e,t.targetId,o.cc),o.snapshot}(e,t,n,i);const s=await k_(e.localStore,t,!0),o=new Mk(t,s.ir),a=o.sc(s.documents),l=dx.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),c=o.applyChanges(a,e.isPrimaryClient,l);Wk(e,n,c.cc);const u=new Pk(t,n,o);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}(n,t,i,"current"===s,e.resumeToken),n.isPrimaryClient&&Y_(n.remoteStore,e)}return r}async function Nk(e,t){const n=Zv(e),i=n.wc.get(t),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter((e=>!Zb(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await __(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),W_(n.remoteStore,i.targetId),Hk(n,i.targetId)})).catch(Sy)):(Hk(n,i.targetId),await __(n.localStore,i.targetId,!0))}async function Fk(e,t){const n=Zv(e);try{const e=await function(e,t){const n=Zv(e),i=t.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const o=[];t.targetChanges.forEach(((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(zy.EMPTY_BYTE_STRING,my.min()).withLastLimboFreeSnapshotVersion(my.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Bs.updateTargetData(e,c))}));let a=aw(),l=mw();if(t.documentUpdates.forEach((i=>{t.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),o.push(function(e,t,n){let i=mw(),r=mw();return n.forEach((e=>i=i.add(e))),t.getEntries(e,i).next((e=>{let i=aw();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(my.min())?(t.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),i=i.insert(n,s)):qv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{nr:i,sr:r}}))}(e,s,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!i.isEqual(my.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,i)));o.push(t)}return Ty.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.yc.get(t);i&&(Jv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.fc=!0:e.modifiedDocuments.size>0?Jv(i.fc):e.removedDocuments.size>0&&(Jv(i.fc),i.fc=!1))})),await Kk(n,e,t)}catch(e){await Sy(e)}}function Vk(e,t,n){const i=Zv(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.wc.forEach(((n,i)=>{const r=i.view.Mu(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=Zv(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.Mu(t)&&(i=!0)})),i&&Tk(n)}(i.eventManager,t),e.length&&i.dc.nu(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function jk(e,t,n){const i=Zv(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.yc.get(t),s=r&&r.key;if(s){let e=new Ly(xy.comparator);e=e.insert(s,mb.newNoDocument(s,my.min()));const n=mw().add(s),r=new ux(my.min(),new Map,new Ly(py),e,n);await Fk(i,r),i.gc=i.gc.remove(s),i.yc.delete(t),Gk(i)}else await __(i.localStore,t,!1).then((()=>Hk(i,t,n))).catch(Sy)}async function Bk(e,t){const n=Zv(e),i=t.batch.batchId;try{const e=await function(e,t){const n=Zv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let o=Ty.resolve();return s.forEach((e=>{o=o.next((()=>i.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Jv(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=mw();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(n.localStore,t);$k(n,i,null),zk(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Kk(n,e)}catch(e){await Sy(e)}}async function Uk(e,t,n){const i=Zv(e);try{const e=await function(e,t){const n=Zv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Jv(null!==t),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(i.localStore,t);$k(i,t,n),zk(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Kk(i,e)}catch(n){await Sy(n)}}function zk(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function $k(e,t,n){const i=Zv(e);let r=i.Tc[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function Hk(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e._c.get(t))e.wc.delete(i),n&&e.dc.Pc(i,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Yk(e,t)}))}function Yk(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(W_(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Gk(e))}function Wk(e,t,n){for(const i of n)i instanceof Ik?(e.Ic.addReference(i.key,t),qk(e,i)):i instanceof Ak?(qv("SyncEngine","Document no longer in limbo: "+i.key),e.Ic.removeReference(i.key,t),e.Ic.containsKey(i.key)||Yk(e,i.key)):Qv()}function qk(e,t){const n=t.key,i=n.path.canonicalString();e.gc.get(n)||e.mc.has(i)||(qv("SyncEngine","New document in limbo: "+n),e.mc.add(i),Gk(e))}function Gk(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new xy(yy.fromString(t)),i=e.Ac.next();e.yc.set(i,new Ok(n)),e.gc=e.gc.insert(n,i),Y_(e.remoteStore,new Gx(Xb(Hb(n.path)),i,"TargetPurposeLimboResolution",Iy.ct))}}async function Kk(e,t,n){const i=Zv(e),r=[],s=[],o=[];i.wc.isEmpty()||(i.wc.forEach(((e,a)=>{o.push(i.Rc(a,t,n).then((e=>{if((e||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){r.push(e);const t=m_.Li(a.targetId,e);s.push(t)}})))})),await Promise.all(o),i.dc.nu(r),await async function(e,t){const n=Zv(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ty.forEach(t,(t=>Ty.forEach(t.Fi,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>Ty.forEach(t.Bi,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!Dy(e))throw e;qv("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ji.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.Ji=n.Ji.insert(t,r)}}}(i.localStore,s))}async function Xk(e,t){const n=Zv(e);if(!n.currentUser.isEqual(t)){qv("SyncEngine","User change. New user:",t.toKey());const e=await b_(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new ty(ey.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Kk(n,e.er)}}function Qk(e,t){const n=Zv(e),i=n.yc.get(t);if(i&&i.fc)return mw().add(i.key);{let e=mw();const i=n._c.get(t);if(!i)return e;for(const t of i){const i=n.wc.get(t);e=e.unionWith(i.view.nc)}return e}}function Jk(e){const t=Zv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Uk.bind(null,t),t}class Zk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=L_(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function(e,t,n,i){return new y_(e,t,n,i)}(this.persistence,new v_,e.initialUser,this.serializer)}createPersistence(e){return new p_(g_.zs,this.serializer)}createSharedClientState(e){return new C_}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class eE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Vk(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xk.bind(null,this.syncEngine),await async function(e,t){const n=Zv(e);t?(n.vu.delete(2),await $_(n)):t||(n.vu.add(2),await H_(n),n.bu.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new _k}createDatastore(e){const t=L_(e.databaseInfo.databaseId),n=(i=e.databaseInfo,new O_(i));var i;return function(e,t,n,i){return new B_(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,r=e=>Vk(this.syncEngine,e,0),s=T_.D()?new T_:new S_,new z_(t,n,i,r,s);var t,n,i,r,s}createSyncEngine(e,t){return function(e,t,n,i,r,s,o){const a=new Rk(e,t,n,i,r,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Zv(e);qv("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await H_(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class tE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Gv("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class nE{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=$v.UNAUTHENTICATED,this.clientId=hy.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{qv("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(qv("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ty(ey.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ny;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=vk(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function iE(e,t){e.asyncQueue.verifyOperationInProgress(),qv("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await b_(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function rE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){qv("FirestoreClient","Using user provided OfflineComponentProvider");try{await iE(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ey.FAILED_PRECONDITION||e.code===ey.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Kv("Error using user provided cache. Falling back to memory cache: "+n),await iE(e,new Zk)}}else qv("FirestoreClient","Using default OfflineComponentProvider"),await iE(e,new Zk);return e._offlineComponents}(e);qv("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener((e=>pk(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>pk(t.remoteStore,n))),e._onlineComponents=t}async function sE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(qv("FirestoreClient","Using user provided OnlineComponentProvider"),await rE(e,e._uninitializedComponentsProvider._online)):(qv("FirestoreClient","Using default OnlineComponentProvider"),await rE(e,new eE))),e._onlineComponents}async function oE(e){const t=await sE(e),n=t.eventManager;return n.onListen=Lk.bind(null,t.syncEngine),n.onUnlisten=Nk.bind(null,t.syncEngine),n}function aE(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const lE=new Map;function cE(e,t,n){if(!n)throw new ty(ey.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function uE(e){if(!xy.isDocumentKey(e))throw new ty(ey.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function dE(e){if(xy.isDocumentKey(e))throw new ty(ey.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function hE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Qv()}function pE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ty(ey.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hE(e);throw new ty(ey.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class fE{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ty(ey.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ty(ey.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,i){if(!0===t&&!0===i)throw new ty(ey.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aE(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ty(ey.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ty(ey.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ty(ey.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class gE{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ty(ey.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ty(ey.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ry;switch(e.type){case"firstParty":return new ly(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ty(ey.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lE.get(e);t&&(qv("ComponentProvider","Removing Datastore"),lE.delete(e),t.terminate())}(this),Promise.resolve()}}class mE{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yE(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mE(this.firestore,e,this._key)}}class vE{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vE(this.firestore,e,this._query)}}class yE extends vE{constructor(e,t,n){super(e,t,Hb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mE(this.firestore,null,new xy(e))}withConverter(e){return new yE(this.firestore,e,this._path)}}function bE(e,t,...n){if(e=ec(e),cE("collection","path",t),e instanceof gE){const i=yy.fromString(t,...n);return dE(i),new yE(e,null,i)}{if(!(e instanceof mE||e instanceof yE))throw new ty(ey.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(yy.fromString(t,...n));return dE(i),new yE(e.firestore,null,i)}}function wE(e,t,...n){if(e=ec(e),1===arguments.length&&(t=hy.A()),cE("doc","path",t),e instanceof gE){const i=yy.fromString(t,...n);return uE(i),new mE(e,null,new xy(i))}{if(!(e instanceof mE||e instanceof yE))throw new ty(ey.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(yy.fromString(t,...n));return uE(i),new mE(e.firestore,e instanceof yE?e.converter:null,new xy(i))}}class xE{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new N_(this,"async_queue_retry"),this.Xc=()=>{const e=R_();e&&qv("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=R_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=R_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new ny;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Dy(e))throw e;qv("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Gv("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=mk.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(i),i}Zc(){this.Wc&&Qv()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function _E(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const e of["next","error","complete"])if(e in t&&"function"==typeof t[e])return!0;return!1}(e)}class kE extends gE{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new xE,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||SE(this),this._firestoreClient.terminate()}}function EE(e,t){const n="string"==typeof e?e:t||"(default)",i=lu("object"==typeof e?e:pu(),"firestore").getImmediate({identifier:n});if(!i._initialized){const e=(()=>{const e=jl("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),n]:[e.substring(0,t),n]})();e&&function(e,t,n,i={}){var r;const s=(e=pE(e,gE))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Kv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=$v.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nl(JSON.stringify({alg:"none",type:"JWT"})),Nl(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ty(ey.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new $v(s)}e._authCredentials=new sy(new iy(t,n))}}(i,...e)}return i}function CE(e){return e._firestoreClient||SE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function SE(e){var t,n,i;const r=e._freezeSettings(),s=function(e,t,n,i){return new Xy(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,aE(i.experimentalLongPollingOptions),i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new nE(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=r.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class TE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new TE(zy.fromBase64String(e))}catch(e){throw new ty(ey.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new TE(zy.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class DE{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ty(ey.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wy(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class IE{constructor(e){this._methodName=e}}class AE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ty(ey.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ty(ey.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return py(this._lat,e._lat)||py(this._long,e._long)}}const ME=/^__.*__$/;class PE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Hw(e,this.data,this.fieldMask,t,this.fieldTransforms):new $w(e,this.data,t,this.fieldTransforms)}}class OE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Hw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function RE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qv()}}class LE{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.ua(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new LE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:n,la:!1});return i.fa(e),i}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:n,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return XE(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(RE(this.ca)&&ME.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class NE{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||L_(e)}ya(e,t,n,i=!1){return new LE({ca:e,methodName:t,ga:n,path:wy.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FE(e){const t=e._freezeSettings(),n=L_(e._databaseId);return new NE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function VE(e,t,n,i,r,s={}){const o=e.ya(s.merge||s.mergeFields?2:0,t,n,r);WE("Data must be an object, but it was:",o,i);const a=HE(i,o);let l,c;if(s.merge)l=new By(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=qE(t,i,n);if(!o.contains(r))throw new ty(ey.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);QE(e,r)||e.push(r)}l=new By(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new PE(new fb(a),l,c)}class jE extends IE{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jE}}function BE(e,t,n){return new LE({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class UE extends IE{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=BE(this,e,!0),n=this.pa.map((e=>$E(e,t))),i=new Sw(n);return new Ow(e.path,i)}isEqual(e){return this===e}}class zE extends IE{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=BE(this,e,!0),n=this.pa.map((e=>$E(e,t))),i=new Dw(n);return new Ow(e.path,i)}isEqual(e){return this===e}}function $E(e,t){if(YE(e=ec(e)))return WE("Unsupported field value:",t,e),HE(e,t);if(e instanceof IE)return function(e,t){if(!RE(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=$E(r,t.wa(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ec(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ww(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=gy.fromDate(e);return{timestampValue:Ex(t.serializer,n)}}if(e instanceof gy){const n=new gy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ex(t.serializer,n)}}if(e instanceof AE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof TE)return{bytesValue:Cx(t.serializer,e._byteString)};if(e instanceof mE){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Dx(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${hE(e)}`)}(e,t)}function HE(e,t){const n={};return Ry(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Oy(e,((e,i)=>{const r=$E(i,t.ha(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function YE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gy||e instanceof AE||e instanceof TE||e instanceof mE||e instanceof IE)}function WE(e,t,n){if(!YE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=hE(n);throw"an object"===i?t._a(e+" a custom object"):t._a(e+" "+i)}}function qE(e,t,n){if((t=ec(t))instanceof DE)return t._internalPath;if("string"==typeof t)return KE(e,t);throw XE("Field path arguments must be of type string or ",e,!1,void 0,n)}const GE=new RegExp("[~\\*/\\[\\]]");function KE(e,t,n){if(t.search(GE)>=0)throw XE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new DE(...t.split("."))._internalPath}catch(i){throw XE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function XE(e,t,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ty(ey.INVALID_ARGUMENT,a+e+l)}function QE(e,t){return e.some((e=>e.isEqual(t)))}class JE{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new mE(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ZE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ZE extends JE{data(){return super.data()}}function eC(e,t){return"string"==typeof t?KE(e,t):t instanceof DE?t._internalPath:t._delegate._internalPath}function tC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ty(ey.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nC{}class iC extends nC{}function rC(e,t,...n){let i=[];t instanceof nC&&i.push(t),i=i.concat(n),function(e){const t=e.filter((e=>e instanceof aC)).length,n=e.filter((e=>e instanceof sC)).length;if(t>1||t>0&&n>0)throw new ty(ey.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const t of i)e=t._apply(e);return e}class sC extends iC{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new sC(e,t,n)}_apply(e){const t=this._parse(e);return uC(e._query,t),new vE(e.firestore,e.converter,Qb(e._query,t))}_parse(e){const t=FE(e.firestore),n=function(e,t,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ty(ey.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){cC(o,s);const t=[];for(const n of o)t.push(lC(i,e,n));a={arrayValue:{values:t}}}else a=lC(i,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||cC(o,s),a=function(e,t,n,i=!1){return $E(n,e.ya(i?4:3,t))}(n,"where",o,"in"===s||"not-in"===s);return kb.create(r,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function oC(e,t,n){const i=t,r=eC("where",e);return sC._create(r,i,n)}class aC extends nC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new aC(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Eb.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const e of i)uC(n,e),n=Qb(n,e)}(e._query,t),new vE(e.firestore,e.converter,Qb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function lC(e,t,n){if("string"==typeof(n=ec(n))){if(""===n)throw new ty(ey.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gb(t)&&-1!==n.indexOf("/"))throw new ty(ey.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(yy.fromString(n));if(!xy.isDocumentKey(i))throw new ty(ey.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ob(e,new xy(i))}if(n instanceof mE)return ob(e,n._key);throw new ty(ey.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hE(n)}.`)}function cC(e,t){if(!Array.isArray(e)||0===e.length)throw new ty(ey.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function uC(e,t){if(t.isInequality()){const n=qb(e),i=t.field;if(null!==n&&!n.isEqual(i))throw new ty(ey.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${i.toString()}'`);const r=Wb(e);null!==r&&function(e,t,n){if(!n.isEqual(t))throw new ty(ey.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,r)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ty(ey.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ty(ey.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class dC{convertValue(e,t="none"){switch(Zy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qv()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Oy(e,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertGeoPoint(e){return new AE(Yy(e.latitude),Yy(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Gy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ky(e));default:return null}}convertTimestamp(e){const t=Hy(e);return new gy(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yy.fromString(e);Jv(qx(n));const i=new Qy(n.get(1),n.get(3)),r=new xy(n.popFirst(5));return i.isEqual(t)||Gv(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}function hC(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class pC{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fC extends JE{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(eC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class gC extends fC{data(e={}){return super.data(e)}}class mC{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new pC(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new gC(this._firestore,this._userDataWriter,n.key,n,new pC(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ty(ey.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const i=new gC(e._firestore,e._userDataWriter,n.doc.key,n.doc,new pC(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const i=new gC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:vC(t.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qv()}}class yC extends dC{constructor(e){super(),this.firestore=e}convertBytes(e){return new TE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mE(this.firestore,null,t)}}function bC(e){e=pE(e,vE);const t=pE(e.firestore,kE),n=CE(t),i=new yC(t);return tC(e._query),function(e,t,n={}){const i=new ny;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new tE({next:n=>{t.enqueueAndForget((()=>Ek(e,o))),n.fromCache&&"server"===i.source?r.reject(new ty(ey.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),o=new Dk(n,s,{includeMetadataChanges:!0,Ku:!0});return kk(e,o)}(await oE(e),e.asyncQueue,t,n,i))),i.promise}(n,e._query).then((n=>new mC(t,i,e,n)))}function wC(e,t,n){e=pE(e,mE);const i=pE(e.firestore,kE),r=hC(e.converter,t,n);return CC(i,[VE(FE(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Lw.none())])}function xC(e,t,n,...i){e=pE(e,mE);const r=pE(e.firestore,kE),s=FE(r);let o;return o="string"==typeof(t=ec(t))||t instanceof DE?function(e,t,n,i,r,s){const o=e.ya(1,t,n),a=[qE(t,i,n)],l=[r];if(s.length%2!=0)throw new ty(ey.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(qE(t,s[e])),l.push(s[e+1]);const c=[],u=fb.empty();for(let e=a.length-1;e>=0;--e)if(!QE(c,a[e])){const t=a[e];let n=l[e];n=ec(n);const i=o.da(t);if(n instanceof jE)c.push(t);else{const e=$E(n,i);null!=e&&(c.push(t),u.set(t,e))}}const d=new By(c);return new OE(u,d,o.fieldTransforms)}(s,"updateDoc",e._key,t,n,i):function(e,t,n,i){const r=e.ya(1,t,n);WE("Data must be an object, but it was:",r,i);const s=[],o=fb.empty();Oy(i,((e,i)=>{const a=KE(t,e,n);i=ec(i);const l=r.da(a);if(i instanceof jE)s.push(a);else{const e=$E(i,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new By(s);return new OE(o,a,r.fieldTransforms)}(s,"updateDoc",e._key,t),CC(r,[o.toMutation(e._key,Lw.exists(!0))])}function _C(e){return CC(pE(e.firestore,kE),[new Gw(e._key,Lw.none())])}function kC(e,t){const n=pE(e.firestore,kE),i=wE(e),r=hC(e.converter,t);return CC(n,[VE(FE(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,Lw.exists(!1))]).then((()=>i))}function EC(e,...t){var n,i,r;e=ec(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||_E(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(_E(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),t[o+2]=null===(r=e.complete)||void 0===r?void 0:r.bind(e)}let l,c,u;if(e instanceof mE)c=pE(e.firestore,kE),u=Hb(e._key.path),l={next:n=>{t[o]&&t[o](SC(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=pE(e,vE);c=pE(n.firestore,kE),u=n._query;const i=new yC(c);l={next:e=>{t[o]&&t[o](new mC(c,i,n,e))},error:t[o+1],complete:t[o+2]},tC(e._query)}return function(e,t,n,i){const r=new tE(i),s=new Dk(t,r,n);return e.asyncQueue.enqueueAndForget((async()=>kk(await oE(e),s))),()=>{r.Dc(),e.asyncQueue.enqueueAndForget((async()=>Ek(await oE(e),s)))}}(CE(c),u,a,l)}function CC(e,t){return function(e,t){const n=new ny;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const i=Jk(e);try{const e=await function(e,t){const n=Zv(e),i=gy.now(),r=t.reduce(((e,t)=>e.add(t.key)),mw());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=aw(),l=mw();return n.Zi.getEntries(e,r).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((r=>{s=r;const o=[];for(const e of t){const t=Uw(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Hw(e.key,t,gb(t.value.mapValue),Lw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,o,t)})).next((t=>{o=t;const i=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((()=>({batchId:o.batchId,changes:uw(s)})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Tc[e.currentUser.toKey()];i||(i=new Ly(py)),i=i.insert(t,n),e.Tc[e.currentUser.toKey()]=i}(i,e.batchId,n),await Kk(i,e.changes),await rk(i.remoteStore)}catch(e){const t=vk(e,"Failed to persist write");n.reject(t)}}(await function(e){return sE(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(CE(e),t)}function SC(e,t,n){const i=n.docs.get(t._key),r=new yC(e);return new fC(e,r,t._key,i,new pC(n.hasPendingWrites,n.fromCache),t.converter)}function TC(...e){return new UE("arrayUnion",e)}function DC(...e){return new zE("arrayRemove",e)}!function(e,t=!0){!function(e){Hv=e}(du),au(new tc("firestore",((e,{instanceIdentifier:n,options:i})=>{const r=e.getProvider("app").getImmediate(),s=new kE(new oy(e.getProvider("auth-internal")),new uy(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ty(ey.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qy(e.options.projectId,t)}(r,n),r);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),fu(zv,"3.13.0",e),fu(zv,"3.13.0","esm2017")}();const IC={name:"Home",setup(){const e=bt(null),t=bt(!1),n=bt([]),i=bt(window.innerWidth<768),r=bt(!0),s=bt(!1),o=bt(!1),a=bt(""),l=Pl();Di("selectedGroup",e);const c=is((()=>{if(!a.value.trim())return d;const e=a.value.toLowerCase();return d.map((t=>({...t,items:t.items.filter((t=>t.label.toLowerCase().includes(e)))}))).filter((e=>e.items.length>0))})),u=async()=>{const t=ap(),n=EE(),i=t.currentUser;if(i){const t=rC(bE(n,"users"),oC("uid","==",i.uid)),r=await bC(t);if(!r.empty){const t=r.docs[0];await xC(wE(n,"users",t.id),{lastSelectedGroup:e.value})}}};r.value=!0,(async()=>{const t=ap(),i=EE(),s=t.currentUser;if(s){const t=rC(bE(i,"users"),oC("uid","==",s.uid)),r=await bC(t);if(r.empty)console.error("Usuário não encontrado na coleção users.");else{const t=r.docs[0],s=t.id,o=t.data().lastSelectedGroup,a=bE(i,"groups"),l=rC(a,oC("createdBy","==",s)),c=(await bC(l)).docs.map((e=>({id:e.id,...e.data()}))),u=rC(a,oC("users","array-contains",s)),d=(await bC(u)).docs.map((e=>({id:e.id,...e.data()}))),h=[...c,...d].filter(((e,t,n)=>t===n.findIndex((t=>t.id===e.id))));n.value=h,o&&h.some((e=>e.id===o))?e.value=o:h.length>0&&(e.value=h[0].id)}}r.value=!1})(),$n((()=>{window.addEventListener("resize",(()=>{i.value=window.innerWidth<768}))}));const d=[{title:"Financeiro",items:[{to:"/dashboard",label:"Painel de Controle",icon:"fas fa-tachometer-alt"},{to:"/gastos",label:"Transações",icon:"fas fa-wallet"},{to:"/gastos-previstos",label:"Transações Previstas",icon:"fas fa-calendar-alt"},{to:"/consulta-gastos-mes",label:"Consulta por Mês",icon:"fas fa-search-dollar"},{to:"/previsao",label:"Previsão",icon:"fas fa-chart-line"},{to:"/metas",label:"Metas",icon:"fas fa-bullseye"}]},{title:"Organização",items:[{to:"/locais",label:"Locais",icon:"fas fa-map-marker-alt"},{to:"/eventos",label:"Eventos",icon:"fas fa-calendar-alt"},{to:"/lista-compras",label:"Lista de Compras",icon:"fas fa-shopping-cart"},{to:"/mapa-mental",label:"Mapa Mental",icon:"fas fa-project-diagram"}]},{title:"Configurações",items:[{to:"/grupos",label:"Grupos",icon:"fas fa-users"},{to:"/categorias",label:"Categorias",icon:"fas fa-tags"},{to:"/contas",label:"Contas",icon:"fas fa-university"}]},{title:"Utilitários",items:[{to:"/recibo",label:"Recibo",icon:"fas fa-receipt"}]}];return{selectedGroup:e,isMenuOpen:t,groups:n,toggleMenu:()=>{t.value=!t.value,console.log(t.value)},closeMenu:()=>{t.value=!1},logout:async()=>{try{const e=ap();await function(e){return ec(e).signOut()}(e),l.push("/login")}catch(e){console.error("Erro ao sair: ",e.message)}},isMobile:i,carregandoGrupos:r,groupChanged:u,sidebarMinimizado:s,menuSections:d,popoverGrupoAberto:o,onSelectGroup:async e=>{await u(),o.value=!1},menuSearch:a,filteredMenuSections:c,navigateAndClose:()=>{i.value&&(t.value=!1)}}}};var AC=n(281),MC={};MC.styleTagTransform=Do(),MC.setAttributes=Eo(),MC.insert=_o().bind(null,"head"),MC.domAPI=wo(),MC.insertStyleElement=So(),yo()(AC.A,MC),AC.A&&AC.A.locals&&AC.A.locals;const PC=(0,Mo.A)(IC,[["render",function(e,t,n,i,r,s){const o=Zn("router-link"),a=Zn("router-view");return br(),kr("div",cp,[Lr(" Sidebar (drawer) "),Ir("aside",{class:H(["bg-gray-800 text-white transition-all duration-300 fixed md:static z-50 flex flex-col",i.isMobile&&!i.isMenuOpen?"-left-full":"left-0","top-0 h-full w-full md:w-64"]),style:{transition:"left 0.3s"}},[Lr(" Conteúdo do menu "),Ir("div",up,[t[8]||(t[8]=Ir("span",{class:"font-bold text-xl"},"Menu",-1)),i.isMobile?(br(),kr("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.closeMenu&&i.closeMenu(...e)),class:"w-8 h-8 flex items-center justify-center rounded hover:bg-gray-700 transition",title:"Fechar menu"},t[7]||(t[7]=[Ir("i",{class:"fas fa-times"},null,-1)]))):Lr("v-if",!0)]),Ir("div",dp,[pn(Ir("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.menuSearch=e),type:"text",placeholder:"Buscar no menu...",class:"w-full p-2 rounded bg-gray-700 text-white placeholder-gray-400 focus:outline-none"},null,512),[[Qs,i.menuSearch]])]),Ir("div",hp,[Ir("ul",null,[(br(!0),kr(pr,null,ri(i.filteredMenuSections,(e=>(br(),kr("li",{key:e.title},[Ir("div",pp,Q(e.title),1),Ir("ul",null,[(br(!0),kr(pr,null,ri(e.items,(e=>(br(),kr("li",{key:e.to},[Ar(o,{to:e.to,onClick:i.navigateAndClose,class:"block py-2 px-4 hover:bg-gray-700 transition"},{default:hn((()=>[Ir("i",{class:H(e.icon)},null,2),Ir("span",fp,Q(e.label),1)])),_:2},1032,["to","onClick"])])))),128))])])))),128)),Ir("li",{onClick:t[2]||(t[2]=(...e)=>i.logout&&i.logout(...e))},t[9]||(t[9]=[Ir("div",{class:"block py-2 px-4 text-red-300 hover:bg-gray-700"},"Sair",-1)]))])])],2),Lr(" Overlay para mobile "),i.isMobile&&i.isMenuOpen?(br(),kr("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-40 z-30",onClick:t[3]||(t[3]=(...e)=>i.closeMenu&&i.closeMenu(...e))})):Lr("v-if",!0),Lr(" Conteúdo principal "),Ir("div",gp,[Lr(" Topbar "),Ir("header",mp,[i.isMobile?(br(),kr("button",{key:0,onClick:t[4]||(t[4]=(...e)=>i.toggleMenu&&i.toggleMenu(...e)),class:"text-gray-800"},t[10]||(t[10]=[Ir("i",{class:"fas fa-bars text-2xl"},null,-1)]))):Lr("v-if",!0),t[12]||(t[12]=Ir("h1",{class:"text-xl font-bold"},"HomeControl",-1)),Ir("div",vp,[t[11]||(t[11]=Ir("label",{for:"groupSelect",class:"sr-only"},"Grupo Atual",-1)),pn(Ir("select",{id:"groupSelect","onUpdate:modelValue":t[5]||(t[5]=e=>i.selectedGroup=e),onChange:t[6]||(t[6]=(...e)=>i.groupChanged&&i.groupChanged(...e)),class:"p-2 bg-gray-200 text-gray-800 rounded focus:outline-none focus:ring-2 focus:ring-indigo-400 transition",disabled:i.carregandoGrupos,style:{"min-width":"120px"}},[i.carregandoGrupos?(br(),kr("option",bp,"Carregando...")):Lr("v-if",!0),(br(!0),kr(pr,null,ri(i.groups,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.name),9,wp)))),128))],40,yp),[[to,i.selectedGroup]])])]),Ir("main",xp,[Ar(a)])])])}],["__scopeId","data-v-7751440e"]]),OC={class:"flex items-center justify-center h-full bg-gray-100"},RC={key:0,class:"fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded shadow-lg z-50 transition"},LC={class:"bg-white p-4 md:p-8 rounded shadow-md w-full max-w-md max-h-full overflow-auto"},NC={key:0,class:"flex flex-col items-center"},FC={class:"relative mb-4"},VC=["type"],jC=["disabled"],BC={key:0,class:"loader mr-2"},UC={key:1},zC={key:2},$C={class:"mt-4 text-center"},HC={data:()=>({showIntro:!0,email:"",password:"",showPassword:!1,errorMessage:"",showToast:!1,loading:!1}),methods:{togglePassword(){this.showPassword=!this.showPassword},async login(){const e=ap();this.loading=!0;try{await function(e,t){return ec(e).setPersistence(t)}(e,oh),await function(e,t,n){return async function(e,t){return nh(Pd(e),t)}(ec(e),Hd.credential(t,n))}(e,this.email,this.password),this.$router.push("/home")}catch(e){this.errorMessage="Usuário ou senha inválidos!",this.showToast=!0,setTimeout((()=>{this.showToast=!1}),3e3)}finally{this.loading=!1}}}};var YC=n(742),WC={};WC.styleTagTransform=Do(),WC.setAttributes=Eo(),WC.insert=_o().bind(null,"head"),WC.domAPI=wo(),WC.insertStyleElement=So(),yo()(YC.A,WC),YC.A&&YC.A.locals&&YC.A.locals;const qC=(0,Mo.A)(HC,[["render",function(e,t,n,i,r,s){const o=Zn("router-link");return br(),kr("div",OC,[r.showToast?(br(),kr("div",RC,Q(r.errorMessage),1)):Lr("v-if",!0),Ir("div",LC,[Lr(" Tela de introdução "),r.showIntro?(br(),kr("div",NC,[Lr(" Ilustração (exemplo com imagem externa, pode trocar pelo que quiser) "),t[5]||(t[5]=Ir("img",{src:"undraw_savings_uwjn.svg",alt:"Ilustração de poupança",class:"w-40 h-40 mb-6 object-contain"},null,-1)),t[6]||(t[6]=Ir("h2",{class:"text-xl font-bold mb-2 text-center"},"Bem-vindo ao Home Control",-1)),t[7]||(t[7]=Ir("p",{class:"text-gray-600 mb-6 text-center"}," Gerencie suas finanças de forma simples, rápida e segura. Controle gastos, monitore despesas e compartilhe com grupos de amigos ou família. Tenha tudo na palma da mão. ",-1)),Ir("button",{onClick:t[0]||(t[0]=e=>r.showIntro=!1),class:"w-full bg-gray-800 text-white py-2 rounded hover:bg-gray-900"},"Começar")])):(br(),kr(pr,{key:1},[Lr(" Tela de login "),Ir("div",null,[t[10]||(t[10]=Ir("h1",{class:"text-2xl font-bold mb-6 text-center"},"Home Control",-1)),Ir("form",{onSubmit:t[4]||(t[4]=co(((...e)=>s.login&&s.login(...e)),["prevent"]))},[pn(Ir("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>r.email=e),placeholder:"Email",class:"w-full p-2 mb-4 border rounded"},null,512),[[Qs,r.email]]),Ir("div",FC,[pn(Ir("input",{type:r.showPassword?"text":"password",class:"w-full p-2 pr-10 border rounded",id:"senhaLogin",placeholder:"Senha",name:"senha","onUpdate:modelValue":t[2]||(t[2]=e=>r.password=e)},null,8,VC),[[so,r.password]]),Ir("button",{type:"button",onClick:t[3]||(t[3]=(...e)=>s.togglePassword&&s.togglePassword(...e)),class:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-600",tabindex:"-1","aria-label":"Mostrar ou esconder senha"},[Ir("i",{class:H(r.showPassword?"fa fa-eye-slash":"fa fa-eye")},null,2)])]),Ir("button",{type:"submit",disabled:r.loading,class:"w-full bg-gray-800 text-white py-2 rounded hover:bg-gray-900 flex items-center justify-center"},[r.loading?(br(),kr("span",BC)):Lr("v-if",!0),r.loading?(br(),kr("span",zC,"Entrando...")):(br(),kr("span",UC,"Entrar"))],8,jC)],32),Ir("p",$C,[t[9]||(t[9]=Or("Não tem uma conta? ")),Ar(o,{to:"/register",class:"text-blue-500 hover:underline"},{default:hn((()=>t[8]||(t[8]=[Or("Crie aqui")]))),_:1,__:[8]})])])],2112))])])}],["__scopeId","data-v-75d71df8"]]),GC={class:"flex items-center justify-center min-h-screen bg-gray-100"},KC={class:"bg-white p-8 rounded shadow-md w-96"},XC={key:0,class:"text-red-500 mb-4 text-center"},QC=["disabled"],JC={key:0,class:"inline-block mr-2"},ZC={key:1},eS={name:"Register",data:()=>({email:"",password:"",name:"",errorMessage:"",loading:!1}),methods:{async handleRegister(){try{this.loading=!0;const e=ap(),t=EE(),n=rC(bE(t,"users"),oC("email","==",this.email));if(!(await bC(n)).empty)return void(this.errorMessage="Esse email já está em uso.");const i=await async function(e,t,n){var i;const r=Pd(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Id(r,s,"signUpPassword");o=Qd(r,e)}else o=Qd(r,s).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Id(r,s,"signUpPassword");return Qd(r,e)}return Promise.reject(e)}));const a=await o.catch((e=>Promise.reject(e))),l=await Jd._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}(e,this.email,this.password),r=i.user;await wC(wE(t,"users",r.uid),{email:r.email,name:this.name,createdAt:new Date,uid:r.uid}),this.$router.push("/home")}catch(e){console.error("Error registering: ",e.message),this.errorMessage="Erro ao registrar. Por favor tente de novo."}finally{this.loading=!1}},goBack(){this.$router.push("/login")}}};var tS=n(307),nS={};nS.styleTagTransform=Do(),nS.setAttributes=Eo(),nS.insert=_o().bind(null,"head"),nS.domAPI=wo(),nS.insertStyleElement=So(),yo()(tS.A,nS),tS.A&&tS.A.locals&&tS.A.locals;const iS=(0,Mo.A)(eS,[["render",function(e,t,n,i,r,s){return br(),kr("div",GC,[Ir("div",KC,[t[6]||(t[6]=Ir("h1",{class:"text-2xl font-bold mb-6 text-center"},"Registro",-1)),Ir("form",{onSubmit:t[4]||(t[4]=co(((...e)=>s.handleRegister&&s.handleRegister(...e)),["prevent"]))},[pn(Ir("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),placeholder:"Email",class:"w-full p-2 mb-4 border rounded"},null,512),[[Qs,r.email]]),pn(Ir("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),placeholder:"Senha",class:"w-full p-2 mb-4 border rounded"},null,512),[[Qs,r.password]]),pn(Ir("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>r.name=e),placeholder:"Nome",class:"w-full p-2 mb-4 border rounded"},null,512),[[Qs,r.name]]),r.errorMessage?(br(),kr("p",XC,Q(r.errorMessage),1)):Lr("v-if",!0),Lr(' <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-700">Registrar</button> '),Ir("button",{type:"submit",class:H([{"bg-gray-800":!r.loading,"bg-gray-500":r.loading},"w-full text-white py-2 rounded hover:bg-gray-900 transition duration-300 ease-in-out"]),disabled:r.loading},[r.loading?(br(),kr("span",JC,t[5]||(t[5]=[Ir("svg",{class:"animate-spin h-5 w-5 text-white mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[Ir("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),Ir("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4zm12 4a8 8 0 01-8-8h4a4 4 0 004 4v4z"})],-1)]))):Lr("v-if",!0),r.loading?Lr("v-if",!0):(br(),kr("span",ZC,"Registrar"))],10,QC),Ir("button",{onClick:t[3]||(t[3]=(...e)=>s.goBack&&s.goBack(...e)),class:"w-full bg-gray-500 text-white py-2 rounded hover:bg-gray-700 mt-4"},"Volte para Login")],32)])])}],["__scopeId","data-v-81e245ce"]]),rS={class:"flex flex-col bg-gray-100"},sS={class:"bg-white p-8 rounded shadow-md w-100 mx-auto lg:mx-4 mt-8"},oS=["disabled"],aS={key:0},lS={key:1},cS={class:"mt-6 w-full"},uS={class:"flex items-center"},dS={class:"flex items-center space-x-2"},hS=["onClick"],pS=["onClick"],fS={key:0,class:"mt-6 bg-gray-200 p-4 rounded"},gS=["disabled"],mS={key:0},vS={key:1},yS={name:"Categories",setup(){const e=Ii("selectedGroup"),t=bt({description:"",color:"#000000"}),n=bt([]),i=bt(!1),r=bt(null),s=EE(),o=ap(),a=Pl(),l=async()=>{EC(rC(bE(s,"categories"),oC("groupId","==",e.value)),(e=>{console.log(e),n.value=e.docs.map((e=>({id:e.id,...e.data()})))}),(e=>{console.error("Erro ao ouvir mudanças nas categorias:",e)}))};return $n(l),er(e,(e=>{console.log("selectedGroup mudou para:",e),l()})),{newCategory:t,categories:n,loading:i,editingCategory:r,selectedGroup:e,addCategory:async()=>{i.value=!0;try{const n=o.currentUser;await kC(bE(s,"categories"),{description:t.value.description,color:t.value.color,createdBy:n.uid,createdAt:new Date,groupId:e.value}),t.value.description="",t.value.color="#000000"}catch(e){console.error("Erro ao adicionar categoria:",e)}finally{i.value=!1}},deleteCategory:async e=>{try{await _C(wE(s,"categories",e))}catch(e){console.error("Erro ao excluir categoria:",e)}},updateCategory:async()=>{i.value=!0;try{const e=wE(s,"categories",r.value.id);await xC(e,{description:r.value.description,color:r.value.color}),r.value=null}catch(e){console.error("Erro ao atualizar categoria:",e)}finally{i.value=!1}},editCategory:e=>{r.value={...e}},cancelEdit:()=>{r.value=null},goBack:()=>{a.push("/dashboard")}}}};var bS=n(533),wS={};wS.styleTagTransform=Do(),wS.setAttributes=Eo(),wS.insert=_o().bind(null,"head"),wS.domAPI=wo(),wS.insertStyleElement=So(),yo()(bS.A,wS),bS.A&&bS.A.locals&&bS.A.locals;const xS=(0,Mo.A)(yS,[["render",function(e,t,n,i,r,s){return br(),kr("div",rS,[Ir("div",sS,[Ir("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"mb-4 text-blue-500 hover:text-blue-700 flex items-center"},t[8]||(t[8]=[Ir("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Ir("path",{d:"M19 12H5"}),Ir("path",{d:"M12 5l-7 7 7 7"})],-1),Or(" Voltar ")])),t[12]||(t[12]=Ir("h1",{class:"text-2xl font-bold mb-6 text-center"},"Categorias",-1)),Lr(" Formulário de Adição "),Ir("form",{onSubmit:t[3]||(t[3]=co(((...e)=>i.addCategory&&i.addCategory(...e)),["prevent"]))},[pn(Ir("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.newCategory.description=e),placeholder:"Descrição",class:"w-full p-2 mb-4 border rounded"},null,512),[[Qs,i.newCategory.description]]),pn(Ir("input",{type:"color","onUpdate:modelValue":t[2]||(t[2]=e=>i.newCategory.color=e),class:"w-full p-0 mb-4 border rounded"},null,512),[[Qs,i.newCategory.color]]),Ir("button",{type:"submit",disabled:i.loading,class:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-700"},[i.loading?(br(),kr("span",aS,"Adicionando...")):(br(),kr("span",lS,"Adicionar Categoria"))],8,oS)],32),Lr(" Lista de Categorias "),Ir("ul",cS,[(br(!0),kr(pr,null,ri(i.categories,(e=>(br(),kr("li",{key:e.id,class:"flex justify-between items-center p-2 border-b"},[Ir("div",uS,[Ir("span",{class:"inline-block w-4 h-4 rounded-full mr-2",style:j({backgroundColor:e.color})},null,4),Ir("span",null,Q(e.description),1)]),Lr(" Botões de Editar e Excluir com ícones "),Ir("div",dS,[Ir("button",{onClick:t=>i.editCategory(e),class:"bg-yellow-500 text-white py-1 px-3 rounded hover:bg-yellow-700",title:"Editar"},t[9]||(t[9]=[Ir("i",{class:"fas fa-edit"},null,-1)]),8,hS),Ir("button",{onClick:t=>i.deleteCategory(e.id),class:"bg-red-500 text-white py-1 px-3 rounded hover:bg-red-700",title:"Excluir"},t[10]||(t[10]=[Ir("i",{class:"fas fa-trash"},null,-1)]),8,pS)])])))),128))]),Lr(" Formulário de Edição "),i.editingCategory?(br(),kr("div",fS,[t[11]||(t[11]=Ir("h2",{class:"text-xl font-semibold mb-4 text-center"},"Editar Categoria",-1)),Ir("form",{onSubmit:t[7]||(t[7]=co(((...e)=>i.updateCategory&&i.updateCategory(...e)),["prevent"]))},[pn(Ir("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.editingCategory.description=e),placeholder:"Descrição",class:"w-full p-2 mb-4 border rounded"},null,512),[[Qs,i.editingCategory.description]]),pn(Ir("input",{type:"color","onUpdate:modelValue":t[5]||(t[5]=e=>i.editingCategory.color=e),class:"w-full p-0 mb-4 border rounded"},null,512),[[Qs,i.editingCategory.color]]),Ir("button",{type:"submit",disabled:i.loading,class:"w-full bg-green-500 text-white py-2 rounded hover:bg-green-700"},[i.loading?(br(),kr("span",mS,"Salvando...")):(br(),kr("span",vS,"Salvar Alterações"))],8,gS),Ir("button",{onClick:t[6]||(t[6]=(...e)=>i.cancelEdit&&i.cancelEdit(...e)),class:"w-full bg-gray-500 text-white py-2 rounded hover:bg-gray-700 mt-4"}," Cancelar ")],32)])):Lr("v-if",!0)])])}],["__scopeId","data-v-bc31bbe8"]]),_S={class:"flex flex-col bg-gray-100"},kS={class:"bg-white p-8 rounded shadow-md w-100 mx-auto lg:mx-4 mt-8"},ES={class:"flex items-center mb-4"},CS=["disabled"],SS={key:0},TS={key:1},DS={class:"mt-6 w-full"},IS={class:"flex items-center"},AS={class:"mr-2"},MS={class:"flex items-center space-x-2"},PS=["onClick"],OS=["onClick"],RS={key:0,class:"mt-6 bg-gray-200 p-4 rounded"},LS={class:"flex items-center mb-4"},NS=["disabled"],FS={key:0},VS={key:1},jS={name:"Accounts",setup(){const e=Ii("selectedGroup"),t=bt({name:"",type:"",color:"#000000",active:!0}),n=bt([]),i=bt(!1),r=bt(null),s=Pl();function o(){e.value?EC(rC(bE(EE(),"accounts"),oC("groupId","==",e.value)),(e=>{n.value=e.docs.map((e=>({id:e.id,...e.data()})))}),(e=>{console.error("Erro ao ouvir mudanças nas contas:",e)})):console.error("Nenhum grupo selecionado")}return $n(o),er(e,((e,t)=>{o()})),{newAccount:t,accounts:n,loading:i,editingAccount:r,addAccount:async function(){i.value=!0;try{const n=ap(),i=EE(),r=n.currentUser;await kC(bE(i,"accounts"),{name:t.value.name,type:t.value.type,color:t.value.color,active:t.value.active,createdBy:r.uid,createdAt:new Date,groupId:e.value}),t.value.name="",t.value.type="",t.value.color="#000000",t.value.active=!0}catch(e){console.error("Erro ao adicionar conta:",e)}finally{i.value=!1}},deleteAccount:async function(e){try{const t=EE();await _C(wE(t,"accounts",e))}catch(e){console.error("Erro ao excluir conta:",e)}},updateAccount:async function(){i.value=!0;try{const e=wE(EE(),"accounts",r.value.id);await xC(e,{name:r.value.name,type:r.value.type,color:r.value.color,active:!1!==r.value.active}),r.value=null}catch(e){console.error("Erro ao atualizar conta:",e)}finally{i.value=!1}},editAccount:function(e){r.value={...e}},cancelEdit:function(){r.value=null},goBack:function(){s.push("/dashboard")},getTextColor:function(e){return"#"===e[0]?parseInt(e.slice(1),16)>8388607.5?"black":"white":"black"}}}},BS=(0,Mo.A)(jS,[["render",function(e,t,n,i,r,s){return br(),kr("div",_S,[Ir("div",kS,[Ir("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"mb-4 text-blue-500 hover:text-blue-700 flex items-center"},t[12]||(t[12]=[Ir("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Ir("path",{d:"M19 12H5"}),Ir("path",{d:"M12 5l-7 7 7 7"})],-1),Or(" Voltar ")])),t[20]||(t[20]=Ir("h1",{class:"text-2xl font-bold mb-6 text-center"},"Contas",-1)),Lr(" Formulário de Adição "),Ir("form",{onSubmit:t[5]||(t[5]=co(((...e)=>i.addAccount&&i.addAccount(...e)),["prevent"]))},[pn(Ir("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.newAccount.name=e),placeholder:"Nome da Conta",class:"w-full p-2 mb-4 border rounded"},null,512),[[Qs,i.newAccount.name]]),pn(Ir("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.newAccount.type=e),class:"w-full p-2 mb-4 border rounded"},t[13]||(t[13]=[Rr('<option value="">Selecione o Tipo</option><option value="crédito">Crédito</option><option value="débito">Débito</option><option value="poupança">Poupança</option><option value="caixinha">Caixinha</option>',5)]),512),[[to,i.newAccount.type]]),pn(Ir("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.newAccount.color=e),type:"color",class:"w-full p-0 mb-4 border rounded",title:"Escolha uma cor"},null,512),[[Qs,i.newAccount.color]]),Ir("label",ES,[pn(Ir("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.newAccount.active=e),type:"checkbox",class:"mr-2"},null,512),[[Js,i.newAccount.active]]),t[14]||(t[14]=Ir("span",null,"Conta Ativa",-1))]),Ir("button",{type:"submit",disabled:i.loading,class:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-700"},[i.loading?(br(),kr("span",SS,"Adicionando...")):(br(),kr("span",TS,"Adicionar Conta"))],8,CS)],32),Lr(" Lista de Contas "),Ir("ul",DS,[(br(!0),kr(pr,null,ri(i.accounts,(e=>(br(),kr("li",{key:e.id,class:"flex justify-between items-center p-2 border-b"},[Ir("div",IS,[Ir("span",{style:j({backgroundColor:e.color,color:i.getTextColor(e.color)}),class:"inline-block text-xs font-semibold px-2.5 py-0.5 rounded mr-2"},Q(e.name),5),Ir("span",AS,Q(e.type),1),Ir("span",{class:H([!1!==e.active?"bg-green-500":"bg-red-500","text-white text-xs font-semibold px-2 py-0.5 rounded"])},Q(!1!==e.active?"Ativa":"Inativa"),3)]),Lr(" Botões de Editar e Excluir com ícones "),Ir("div",MS,[Ir("button",{onClick:t=>i.editAccount(e),class:"bg-yellow-500 text-white py-1 px-3 rounded hover:bg-yellow-700",title:"Editar"},t[15]||(t[15]=[Ir("i",{class:"fas fa-edit"},null,-1)]),8,PS),Ir("button",{onClick:t=>i.deleteAccount(e.id),class:"bg-red-500 text-white py-1 px-3 rounded hover:bg-red-700",title:"Excluir"},t[16]||(t[16]=[Ir("i",{class:"fas fa-trash"},null,-1)]),8,OS)])])))),128))]),Lr(" Formulário de Edição "),i.editingAccount?(br(),kr("div",RS,[t[19]||(t[19]=Ir("h2",{class:"text-xl font-semibold mb-4 text-center"},"Editar Conta",-1)),Ir("form",{onSubmit:t[11]||(t[11]=co(((...e)=>i.updateAccount&&i.updateAccount(...e)),["prevent"]))},[pn(Ir("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.editingAccount.name=e),placeholder:"Nome da Conta",class:"w-full p-2 mb-4 border rounded"},null,512),[[Qs,i.editingAccount.name]]),pn(Ir("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>i.editingAccount.type=e),class:"w-full p-2 mb-4 border rounded"},t[17]||(t[17]=[Ir("option",{value:"crédito"},"Crédito",-1),Ir("option",{value:"débito"},"Débito",-1),Ir("option",{value:"poupança"},"Poupança",-1),Ir("option",{value:"caixinha"},"Caixinha",-1)]),512),[[to,i.editingAccount.type]]),pn(Ir("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>i.editingAccount.color=e),type:"color",class:"w-full p-0 mb-4 border rounded",title:"Escolha uma cor"},null,512),[[Qs,i.editingAccount.color]]),Ir("label",LS,[pn(Ir("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>i.editingAccount.active=e),type:"checkbox",class:"mr-2"},null,512),[[Js,i.editingAccount.active]]),t[18]||(t[18]=Ir("span",null,"Conta Ativa",-1))]),Ir("button",{type:"submit",disabled:i.loading,class:"w-full bg-green-500 text-white py-2 rounded hover:bg-green-700"},[i.loading?(br(),kr("span",FS,"Salvando...")):(br(),kr("span",VS,"Salvar Alterações"))],8,NS),Ir("button",{onClick:t[10]||(t[10]=(...e)=>i.cancelEdit&&i.cancelEdit(...e)),class:"w-full bg-gray-500 text-white py-2 rounded hover:bg-gray-700 mt-4"}," Cancelar ")],32)])):Lr("v-if",!0)])])}]]),US={class:"flex flex-col bg-gray-100"},zS={class:"bg-white p-4 md:p-8 rounded shadow-md w-100 mx-auto lg:mx-4 mt-0 md:mt-8"},$S={class:"flex items-center mb-4"},HS={class:"relative mb-4"},YS={key:0,class:"overflow-x-auto max-w-full mb-4 flex flex-wrap gap-2"},WS=["onClick"],qS={class:"text-4xl font-bold text-center mb-2 md:hidden"},GS=["value"],KS={class:"grid grid-cols-3 gap-2 max-w-xs mx-auto mb-4 md:hidden"},XS=["onClick"],QS={class:"flex gap-2 mb-4"},JS=["value"],ZS=["value"],eT={class:"flex gap-2 mb-4 items-center"},tT=["disabled"],nT={key:0},iT={key:1},rT={class:"px-4 md:px-8"},sT={class:"mt-4 md:mt-6 w-full"},oT={class:"flex flex-col gap-3"},aT={class:"flex items-start justify-between gap-2"},lT={class:"font-medium text-gray-800 flex-1 min-w-0 break-words"},cT={class:"flex flex-wrap gap-2"},uT={class:"inline-block text-xs font-semibold px-2 py-1 rounded ring-1 ring-inset ring-gray-500/10"},dT={class:"flex justify-end gap-2 mt-1"},hT=["onClick"],pT=["onClick"],fT={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center z-50 p-4"},gT={class:"bg-white p-6 rounded-lg w-full max-w-lg max-h-[90vh] overflow-y-auto"},mT={class:"flex items-center mb-4"},vT=["value"],yT=["value"],bT=["value"],wT=["disabled"],xT={key:0},_T={key:1},kT={name:"Expenses",setup(){const e=Ii("selectedGroup"),t=bt({value:"",category:"",account:"",description:"",date:(new Date).toLocaleString("pt-BR").split(",")[0].split("/").reverse().join("-"),type:"expense"}),n=bt([]),i=bt([]),r=bt([]),s=bt({}),o=bt({}),a=bt({}),l=bt({}),c=bt({}),u=bt(!1),d=bt(null),h=bt(!0),p=bt([]),f=bt(""),g=bt(""),m=is((()=>{const e=f.value.toLowerCase();return n.value.filter((t=>{const n=y(t.category).toLowerCase(),i=w(t.account).toLowerCase(),r=t.value.toString();return n.includes(e)||i.includes(e)||r.includes(e)}))})),v=Pl(),y=e=>{const t=i.value.find((t=>t.id===e));return t?t.description:"Categoria"},b=e=>{const t=i.value.find((t=>t.id===e));return t?t.color:"#000000"},w=e=>{const t=r.value.find((t=>t.id===e));return t?t.name:"Conta"},x=e=>{const t=r.value.find((t=>t.id===e));return t?t.color:"#000000"},_=e=>{let t=parseInt(e.slice(1),16);return{r:t>>16&255,g:t>>8&255,b:255&t}},k=e=>{const{r:t,g:n,b:i}=_(e);return.299*t+.587*n+.114*i},E=async()=>{EC(rC(bE(EE(),"expenses"),oC("groupId","==",e.value)),(e=>{let t=e.docs.map((e=>{const t=e.data();return{id:e.id,...t,category:t.category||"",account:t.account||""}}));t.sort(((e,t)=>{const n=new Date(t.date)-new Date(e.date);return 0!==n?n:t.createdAt.toDate()-e.createdAt.toDate()})),t.forEach((e=>{s.value[e.category]?s.value[e.category]++:s.value[e.category]=1,o.value[e.account]?o.value[e.account]++:o.value[e.account]=1,a.value[e.description]?a.value[e.description].push(e.account):a.value[e.description]=[e.account],l.value[e.description]?l.value[e.description].push(e.category):l.value[e.description]=[e.category],c.value[e.description]?c.value[e.description].push(e.value):c.value[e.description]=[e.value]})),i.value.length>0&&r.value.length>0&&(t=t.map((e=>({...e,categoryName:y(e.category),categoryColor:b(e.category),accountName:w(e.account),accountColor:x(e.account)}))),i.value=i.value.map((e=>({...e,usageCount:s.value[e.id]||0}))),i.value.sort(((e,t)=>t.usageCount-e.usageCount)),r.value=r.value.map((e=>({...e,usageCount:o.value[e.id]||0}))),r.value.sort(((e,t)=>t.usageCount-e.usageCount))),n.value=t,p.value=[...new Set(n.value.map((e=>e.description)))]}),(e=>{console.error("Erro ao ouvir mudanças nas despesas:",e)}))};function C(e){return e&&e.length>0?e[0]:""}er(e,(t=>{console.log("selectedGroup mudou para:",t),e.value=t,E()})),er([i,r],(()=>{i.value.length>0&&r.value.length>0&&(n.value=n.value.map((e=>({...e,categoryName:y(e.category),categoryColor:b(e.category),accountName:w(e.account),accountColor:x(e.account)}))))})),er((()=>t.value.description),(e=>{const n=C(a.value[e]),i=C(l.value[e]),r=C(c.value[e]);t.value.account=n,t.value.category=i,t.value.value=r})),(async()=>{EC(rC(bE(EE(),"categories"),oC("groupId","==",e.value)),(e=>{i.value=e.docs.map((e=>{const t=e.data();return{id:e.id,...t,usageCount:s.value[e.id]||0}}))}),(e=>{console.error("Erro ao ouvir mudanças nas categorias:",e)}))})(),(async()=>{EC(rC(bE(EE(),"accounts"),oC("groupId","==",e.value)),(e=>{r.value=e.docs.filter((e=>!1!==e.data().active)).map((e=>{const t=e.data();return{id:e.id,...t,usageCount:o.value[e.id]||0}}))}),(e=>{console.error("Erro ao ouvir mudanças nas contas:",e)}))})(),E();const S=is((()=>p.value.filter((e=>e.toLowerCase().includes(t.value.description.toLowerCase())&&e!==t.value.description)))),T=is((()=>{if(""===t.value.value||null==t.value.value)return"";let e=t.value.value.toString().replace(/\D/g,"");return e=(parseInt(e,10)/100).toFixed(2)+"",e.replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")})),D=is((()=>{if(!d.value||""===d.value.value||null==d.value.value)return"";let e=d.value.value.toString().replace(/\D/g,"");return e=(parseInt(e,10)/100).toFixed(2)+"",e.replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")}));return{newExpense:t,expenses:n,filterText:f,filteredExpenses:m,categories:i,accounts:r,loading:u,editingExpense:d,isExpense:h,selectedGroup:e,descriptionOptions:p,selectedDescription:g,addExpense:async()=>{u.value=!0;try{const n=ap(),i=EE(),r=n.currentUser,s=parseFloat((t.value.value/100).toFixed(2));await kC(bE(i,"expenses"),{...t.value,type:h.value?"expense":"income",createdBy:r.uid,createdAt:new Date,groupId:e.value,value:s}),t.value={...t.value,value:"",description:""}}catch(e){console.error("Erro ao adicionar gasto:",e)}finally{u.value=!1}},deleteExpense:async e=>{try{const t=EE();await _C(wE(t,"expenses",e))}catch(e){console.error("Erro ao excluir gasto:",e)}},updateExpense:async()=>{u.value=!0;try{const t=wE(EE(),"expenses",d.value.id),n=parseFloat((d.value.value/100).toFixed(2));await xC(t,{...d.value,type:h.value?"expense":"income",groupId:e.value,value:n}),d.value=null}catch(e){console.error("Erro ao atualizar gasto:",e)}finally{u.value=!1}},editExpense:e=>{d.value={...e},h.value="expense"===e.type},cancelEdit:()=>{d.value=null},toggleExpenseType:e=>{h.value="expense"===e},goBack:()=>{v.push("/dashboard")},formatCurrency:e=>parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),formatDate:e=>e.split("-").reverse().join("/"),formatDateAndTime:e=>`${(e=e.toDate()).getDate().toString().padStart(2,"0")}/${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getFullYear()} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`,getCategoryNameById:y,getCategoryColorById:b,getAccountNameById:w,getAccountColorById:x,hexToRgb:_,getBrightness:k,getTextColor:e=>(e?k(e):200)>186?"#000000":"#FFFFFF",selectDescription:e=>{t.value.description=e},filteredDescriptionOptions:S,formattedValue:T,onCurrencyInput:function(e){let n=e.target.value.replace(/\D/g,"");n||(n="0"),t.value.value=n;let i=(parseInt(n,10)/100).toFixed(2)+"";i=i.replace(".",","),i=i.replace(/\B(?=(\d{3})+(?!\d))/g,"."),e.target.value=i},appendNumber:e=>{let n=t.value.value?t.value.value.toString():"";n.length>=9||(t.value.value=n+e)},appendComma:()=>{let e=t.value.value?t.value.value.toString():"";e.includes(",")||(""===e&&(e="0"),t.value.value=e+",")},removeLast:()=>{let e=t.value.value?t.value.value.toString():"";t.value.value=e.slice(0,-1)},onEditCurrencyInput:function(e){let t=e.target.value.replace(/\D/g,"");t||(t="0"),d.value.value=t;let n=(parseInt(t,10)/100).toFixed(2)+"";n=n.replace(".",","),n=n.replace(/\B(?=(\d{3})+(?!\d))/g,"."),e.target.value=n},formattedEditValue:D}}};var ET=n(804),CT={};CT.styleTagTransform=Do(),CT.setAttributes=Eo(),CT.insert=_o().bind(null,"head"),CT.domAPI=wo(),CT.insertStyleElement=So(),yo()(ET.A,CT),ET.A&&ET.A.locals&&ET.A.locals;const ST=(0,Mo.A)(kT,[["render",function(e,t,n,i,r,s){return br(),kr("div",US,[Ir("div",zS,[Ir("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"mb-4 text-blue-500 hover:text-blue-700 flex items-center"},t[23]||(t[23]=[Ir("i",{class:"fa fa-arrow-left mr-2"},null,-1),Or(" Voltar ")])),t[33]||(t[33]=Ir("h1",{class:"text-xl md:text-2xl font-bold mb-4 md:mb-6 text-center"},"Transações",-1)),Lr(" Formulário de Adição "),Ir("form",{onSubmit:t[12]||(t[12]=co(((...e)=>i.addExpense&&i.addExpense(...e)),["prevent"])),class:"md:p-0"},[Ir("div",$S,[Ir("button",{type:"button",onClick:t[1]||(t[1]=e=>i.toggleExpenseType("expense")),class:H([{"bg-red-500":i.isExpense,"bg-gray-300":!i.isExpense},"w-1/2 py-2 rounded-l text-white"])}," Gasto ",2),Ir("button",{type:"button",onClick:t[2]||(t[2]=e=>i.toggleExpenseType("income")),class:H([{"bg-green-500":!i.isExpense,"bg-gray-300":i.isExpense},"w-1/2 py-2 rounded-r text-white"])}," Receita ",2)]),Ir("div",HS,[pn(Ir("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.newExpense.description=e),list:"description-options",placeholder:"Descrição",class:"w-full p-2 pr-10 border rounded",required:""},null,512),[[Qs,i.newExpense.description]]),i.newExpense.description?(br(),kr("button",{key:0,type:"button",onClick:t[4]||(t[4]=e=>i.newExpense.description=""),class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-700",tabindex:"-1","aria-label":"Limpar"},t[24]||(t[24]=[Ir("i",{class:"fa fa-times-circle"},null,-1)]))):Lr("v-if",!0)]),i.newExpense.description&&i.filteredDescriptionOptions.length>0?(br(),kr("div",YS,[(br(!0),kr(pr,null,ri(i.filteredDescriptionOptions,(e=>(br(),kr("span",{key:e,onClick:t=>i.selectDescription(e),class:H(["text-xs font-semibold px-2.5 py-0.5 rounded ring-1 ring-inset ring-gray-500/10 cursor-pointer transition",i.newExpense.description===e?"bg-gray-800 text-white ring-gray-800":"bg-gray-200 text-gray-800 hover:bg-gray-300"])},Q(e),11,WS)))),128))])):Lr("v-if",!0),Lr(' <datalist id="description-options">\n          <option v-for="desc in descriptionOptions" :key="desc" :value="desc"></option>\n        </datalist> '),Ir("div",qS," R$ "+Q(i.formattedValue),1),Lr(" Input de valor para desktop "),Ir("input",{type:"text",inputmode:"decimal",placeholder:"Valor",class:"w-full p-2 mb-4 border rounded hidden md:block lg:block",value:i.formattedValue,onInput:t[5]||(t[5]=(...e)=>i.onCurrencyInput&&i.onCurrencyInput(...e))},null,40,GS),Lr(" Teclado numérico customizado (apenas mobile, esconda em desktop) "),Ir("div",KS,[(br(),kr(pr,null,ri([1,2,3,4,5,6,7,8,9],(e=>Ir("button",{key:e,type:"button",class:"py-4 text-2xl text-lg bg-gray-100 rounded shadow",onClick:t=>i.appendNumber(e)},Q(e),9,XS))),64)),Ir("button",{type:"button",class:"py-4 text-2xl text-lg bg-yellow-100 rounded shadow",onClick:t[6]||(t[6]=(...e)=>i.appendComma&&i.appendComma(...e))},","),Ir("button",{type:"button",class:"py-4 text-2xl text-lg bg-gray-100 rounded shadow",onClick:t[7]||(t[7]=e=>i.appendNumber(0))},"0"),Ir("button",{type:"button",class:"py-4 text-2xl text-lg bg-red-100 rounded shadow",onClick:t[8]||(t[8]=(...e)=>i.removeLast&&i.removeLast(...e))},t[25]||(t[25]=[Ir("i",{class:"fa fa-backspace"},null,-1)]))]),Ir("div",QS,[pn(Ir("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>i.newExpense.category=e),class:"w-1/2 p-2 border rounded",required:""},[t[26]||(t[26]=Ir("option",{disabled:"",value:""},"Selecionar Categoria",-1)),(br(!0),kr(pr,null,ri(i.categories,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.description),9,JS)))),128))],512),[[to,i.newExpense.category]]),pn(Ir("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>i.newExpense.account=e),class:"w-1/2 p-2 border rounded",required:""},[t[27]||(t[27]=Ir("option",{disabled:"",value:""},"Selecionar Conta",-1)),(br(!0),kr(pr,null,ri(i.accounts,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.name),9,ZS)))),128))],512),[[to,i.newExpense.account]])]),Ir("div",eT,[pn(Ir("input",{type:"date","onUpdate:modelValue":t[11]||(t[11]=e=>i.newExpense.date=e),class:"flex-1 p-2 border rounded",required:""},null,512),[[Qs,i.newExpense.date]]),Ir("button",{type:"submit",disabled:i.loading,class:H(["px-3 py-2 rounded text-white flex-shrink-0",{"bg-blue-500":!i.loading,"bg-gray-500":i.loading}]),style:{"min-width":"90px"}},[i.loading?(br(),kr("span",nT,"...")):(br(),kr("span",iT,"Adicionar"))],10,tT)])],32),Ir("div",rT,[pn(Ir("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>i.filterText=e),type:"text",placeholder:"Filtrar por categoria, conta ou valor",class:"w-full p-2 border rounded"},null,512),[[Qs,i.filterText]])]),Lr(" Lista de Transações "),Ir("ul",sT,[(br(!0),kr(pr,null,ri(i.filteredExpenses,(e=>(br(),kr("li",{key:e.id,class:"p-3 md:p-4 border-b hover:bg-gray-50 transition-colors"},[Ir("div",oT,[Lr(" Descrição e Valor "),Ir("div",aT,[Ir("h3",lT,Q(e.description),1),Ir("span",{class:H(["text-sm font-semibold whitespace-nowrap flex-shrink-0","expense"===e.type?"text-red-600":"text-green-600"])},Q(i.formatCurrency(e.value)),3)]),Lr(" Badges organizados "),Ir("div",cT,[Ir("span",uT,Q(i.formatDate(e.date)),1),Ir("span",{class:"inline-block text-xs font-semibold px-2 py-1 rounded",style:j({backgroundColor:e.categoryColor,color:i.getTextColor(e.categoryColor)})},Q(e.categoryName),5),Ir("span",{class:"inline-block text-xs font-semibold px-2 py-1 rounded",style:j({backgroundColor:e.accountColor,color:i.getTextColor(e.accountColor)})},Q(e.accountName),5)]),Lr(" Botões de Editar e Excluir "),Ir("div",dT,[Ir("button",{onClick:t=>i.editExpense(e),class:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-3 rounded text-sm transition-colors",title:"Editar"},t[28]||(t[28]=[Ir("i",{class:"fa fa-edit"},null,-1)]),8,hT),Ir("button",{onClick:t=>i.deleteExpense(e.id),class:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-3 rounded text-sm transition-colors",title:"Excluir"},t[29]||(t[29]=[Ir("i",{class:"fa fa-trash"},null,-1)]),8,pT)])])])))),128))]),Lr(" Formulário de Edição "),i.editingExpense?(br(),kr("div",fT,[Lr(" Modal Container "),Ir("div",gT,[t[32]||(t[32]=Ir("h2",{class:"text-xl font-semibold mb-4 text-center"},"Editar Transação",-1)),Ir("form",{onSubmit:t[22]||(t[22]=co(((...e)=>i.updateExpense&&i.updateExpense(...e)),["prevent"]))},[Ir("div",mT,[Ir("button",{onClick:t[14]||(t[14]=e=>i.toggleExpenseType("expense")),class:H([{"bg-red-500":i.isExpense,"bg-gray-300":!i.isExpense},"w-1/2 py-2 rounded-l text-white"])}," Gasto ",2),Ir("button",{onClick:t[15]||(t[15]=e=>i.toggleExpenseType("income")),class:H([{"bg-green-500":!i.isExpense,"bg-gray-300":i.isExpense},"w-1/2 py-2 rounded-r text-white"])}," Receita ",2)]),Ir("input",{type:"text",inputmode:"decimal",placeholder:"Valor",class:"w-full p-2 mb-4 border rounded",required:"",value:i.formattedEditValue,onInput:t[16]||(t[16]=(...e)=>i.onEditCurrencyInput&&i.onEditCurrencyInput(...e))},null,40,vT),pn(Ir("select",{"onUpdate:modelValue":t[17]||(t[17]=e=>i.editingExpense.category=e),class:"w-full p-2 mb-4 border rounded",required:""},[t[30]||(t[30]=Ir("option",{disabled:"",value:""},"Selecionar Categoria",-1)),(br(!0),kr(pr,null,ri(i.categories,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.description),9,yT)))),128))],512),[[to,i.editingExpense.category]]),pn(Ir("select",{"onUpdate:modelValue":t[18]||(t[18]=e=>i.editingExpense.account=e),class:"w-full p-2 mb-4 border rounded",required:""},[t[31]||(t[31]=Ir("option",{disabled:"",value:""},"Selecionar Conta",-1)),(br(!0),kr(pr,null,ri(i.accounts,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.name),9,bT)))),128))],512),[[to,i.editingExpense.account]]),pn(Ir("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>i.editingExpense.description=e),placeholder:"Descrição",class:"w-full p-2 mb-4 border rounded",required:""},null,512),[[Qs,i.editingExpense.description]]),pn(Ir("input",{type:"date","onUpdate:modelValue":t[20]||(t[20]=e=>i.editingExpense.date=e),class:"w-full p-2 mb-4 border rounded",required:""},null,512),[[Qs,i.editingExpense.date]]),Ir("button",{type:"submit",disabled:i.loading,class:H(["w-full py-2 rounded text-white",{"bg-green-500":!i.loading,"bg-gray-500":i.loading}])},[i.loading?(br(),kr("span",xT,"Salvando...")):(br(),kr("span",_T,"Salvar Alterações"))],10,wT),Ir("button",{onClick:t[21]||(t[21]=(...e)=>i.cancelEdit&&i.cancelEdit(...e)),class:"w-full bg-gray-500 text-white py-2 rounded hover:bg-gray-700 mt-4"}," Cancelar ")],32)])])):Lr("v-if",!0)])])}],["__scopeId","data-v-d2289388"]]),TT={class:"flex flex-col bg-gray-100"},DT={class:"bg-white p-4 md:p-8 rounded shadow-md w-100 mx-auto lg:mx-4 mt-0 md:mt-8"},IT={class:"flex items-center mb-4"},AT={class:"mb-4"},MT={class:"mb-4"},PT={class:"flex items-center gap-2 mb-2 cursor-pointer"},OT={key:0,class:"mb-4 space-y-3"},RT={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},LT={class:"relative"},NT={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},FT={class:"p-3 bg-blue-50 rounded"},VT={class:"text-sm font-medium text-blue-600 mb-2"},jT={class:"text-lg font-semibold text-blue-700"},BT={key:1,class:"mb-4"},UT={class:"relative"},zT={class:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4"},$T={class:"mb-4"},HT={class:"flex items-center gap-2 mb-2 cursor-pointer"},YT=["disabled"],WT={class:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4"},qT=["value"],GT=["value"],KT=["disabled"],XT={key:0},QT={key:1},JT={class:"px-4 md:px-8"},ZT={class:"mt-4 md:mt-6 w-full"},eD={class:"flex flex-col gap-3"},tD={class:"flex items-start justify-between gap-2"},nD={class:"font-medium text-gray-800 flex-1 min-w-0 break-words"},iD={class:"flex flex-wrap gap-2"},rD={class:"inline-block text-xs font-semibold px-2 py-1 rounded bg-blue-50 text-blue-700 ring-1 ring-inset ring-blue-600/10"},sD={key:0,class:"inline-block text-xs font-semibold px-2 py-1 rounded bg-slate-100 text-slate-700 ring-1 ring-inset ring-slate-600/10",title:"Repetir todo mês"},oD={key:1,class:"inline-block text-xs font-semibold px-2 py-1 rounded bg-amber-50 text-amber-700 ring-1 ring-inset ring-amber-600/10"},aD=["title"],lD={class:"flex justify-end gap-2 mt-1"},cD=["onClick"],uD=["onClick"],dD={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center z-50 p-4"},hD={class:"bg-white p-6 rounded-lg w-full max-w-lg max-h-[90vh] overflow-y-auto"},pD={class:"flex items-center mb-4"},fD={class:"mb-4"},gD={class:"flex items-center gap-2 mb-2 cursor-pointer"},mD={key:0,class:"mb-4 space-y-3"},vD={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},yD={class:"relative"},bD={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},wD={class:"p-3 bg-blue-50 rounded"},xD={class:"text-sm font-medium text-blue-600 mb-2"},_D={class:"text-lg font-semibold text-blue-700"},kD={key:1,class:"mb-4"},ED={class:"relative"},CD={class:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4"},SD={class:"mb-4"},TD={class:"flex items-center gap-2 mb-2 cursor-pointer"},DD=["disabled"],ID={class:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4"},AD=["value"],MD=["value"],PD={class:"mb-4"},OD=["disabled"],RD={key:0},LD={key:1},ND={name:"PredictedExpenses",setup(){const e=Ii("selectedGroup"),t=bt({value:"",category:"",account:"",description:"",type:"expense",dueDay:"",parcelas:1,parcelasIndefinido:!1,startDate:"",usarCalculoHoras:!1,horasTrabalhadas:null,horasPrevistasPorDia:null,diasFaltantesPrevistos:null,valorHora:null}),n=bt([]),i=bt([]),r=bt([]),s=bt({}),o=bt({}),a=bt({}),l=bt({}),c=bt({}),u=bt(!1),d=bt(null),h=bt(!0),p=bt([]),f=bt(""),g=is((()=>t.value.usarCalculoHoras?(parseFloat(t.value.horasTrabalhadas)||0)+(parseFloat(t.value.horasPrevistasPorDia)||0)*(parseInt(t.value.diasFaltantesPrevistos)||0):0)),m=is((()=>d.value?.usarCalculoHoras?(parseFloat(d.value.horasTrabalhadas)||0)+(parseFloat(d.value.horasPrevistasPorDia)||0)*(parseInt(d.value.diasFaltantesPrevistos)||0):0)),v=is((()=>t.value.usarCalculoHoras?g.value*(parseFloat(t.value.valorHora)||0):0)),y=is((()=>d.value?.usarCalculoHoras?m.value*(parseFloat(d.value.valorHora)||0):0)),b=()=>{t.value.usarCalculoHoras&&(t.value.value=v.value.toFixed(2))},w=()=>{d.value?.usarCalculoHoras&&(d.value.value=y.value.toFixed(2))},x=is((()=>{const e=f.value.toLowerCase();return n.value.filter((t=>{const n=k(t.category).toLowerCase(),i=C(t.account).toLowerCase(),r=t.value.toString();return n.includes(e)||i.includes(e)||r.includes(e)}))})),_=Pl(),k=e=>{const t=i.value.find((t=>t.id===e));return t?t.description:"Categoria"},E=e=>{const t=i.value.find((t=>t.id===e));return t?t.color:"#000000"},C=e=>{const t=r.value.find((t=>t.id===e));return t?t.name:"Conta"},S=e=>{const t=r.value.find((t=>t.id===e));return t?t.color:"#000000"},T=e=>{let t=parseInt(e.slice(1),16);return{r:t>>16&255,g:t>>8&255,b:255&t}},D=e=>{const{r:t,g:n,b:i}=T(e);return.299*t+.587*n+.114*i},I=async()=>{EC(rC(bE(EE(),"predictedExpenses"),oC("groupId","==",e.value)),(e=>{let t=e.docs.map((e=>{const t=e.data();return{id:e.id,...t,category:t.category||"",account:t.account||""}}));t.forEach((e=>{s.value[e.category]?s.value[e.category]++:s.value[e.category]=1,o.value[e.account]?o.value[e.account]++:o.value[e.account]=1,a.value[e.description]?a.value[e.description].push(e.account):a.value[e.description]=[e.account],l.value[e.description]?l.value[e.description].push(e.category):l.value[e.description]=[e.category],c.value[e.description]?c.value[e.description].push(e.value):c.value[e.description]=[e.value]})),i.value.length>0&&r.value.length>0&&(t=t.map((e=>({...e,categoryName:k(e.category),categoryColor:E(e.category),accountName:C(e.account),accountColor:S(e.account)}))),i.value=i.value.map((e=>({...e,usageCount:s.value[e.id]||0}))),i.value.sort(((e,t)=>t.usageCount-e.usageCount)),r.value=r.value.map((e=>({...e,usageCount:o.value[e.id]||0}))),r.value.sort(((e,t)=>t.usageCount-e.usageCount))),n.value=t,p.value=[...new Set(n.value.map((e=>e.description)))]}),(e=>{console.error("Erro ao ouvir mudanças nas despesas:",e)}))};function A(e){return e&&e.length>0?e[0]:""}return er(e,(t=>{console.log("selectedGroup mudou para:",t),e.value=t,I()})),er([i,r],(()=>{i.value.length>0&&r.value.length>0&&(n.value=n.value.map((e=>({...e,categoryName:k(e.category),categoryColor:E(e.category),accountName:C(e.account),accountColor:S(e.account)}))))})),er((()=>t.value.description),(e=>{const n=A(a.value[e]),i=A(l.value[e]),r=A(c.value[e]);t.value.account=n,t.value.category=i,t.value.usarCalculoHoras||(t.value.value=r)})),er((()=>[t.value.horasTrabalhadas,t.value.horasPrevistasPorDia,t.value.diasFaltantesPrevistos,t.value.valorHora]),(()=>{t.value.usarCalculoHoras&&b()})),er((()=>[d.value?.horasTrabalhadas,d.value?.horasPrevistasPorDia,d.value?.diasFaltantesPrevistos,d.value?.valorHora]),(()=>{d.value?.usarCalculoHoras&&w()})),(async()=>{EC(rC(bE(EE(),"categories"),oC("groupId","==",e.value)),(e=>{i.value=e.docs.map((e=>{const t=e.data();return{id:e.id,...t,usageCount:s.value[e.id]||0}}))}),(e=>{console.error("Erro ao ouvir mudanças nas categorias:",e)}))})(),(async()=>{EC(rC(bE(EE(),"accounts"),oC("groupId","==",e.value)),(e=>{r.value=e.docs.filter((e=>!1!==e.data().active)).map((e=>{const t=e.data();return{id:e.id,...t,usageCount:o.value[e.id]||0}}))}),(e=>{console.error("Erro ao ouvir mudanças nas contas:",e)}))})(),I(),{newExpense:t,expenses:n,filterText:f,filteredExpenses:x,categories:i,accounts:r,loading:u,editingExpense:d,isExpense:h,selectedGroup:e,descriptionOptions:p,addExpense:async()=>{u.value=!0;try{const n=ap(),i=EE(),r=n.currentUser,{parcelasIndefinido:s,usarCalculoHoras:o,horasTrabalhadas:a,horasPrevistasPorDia:l,diasFaltantesPrevistos:c,valorHora:u,...d}=t.value,p=s?null:Math.max(1,parseInt(d.parcelas,10)||1);let f=d.value;o&&(f=v.value.toFixed(2)),await kC(bE(i,"predictedExpenses"),{...d,value:f,parcelas:p,type:h.value?"expense":"income",createdBy:r.uid,createdAt:new Date,groupId:e.value,usarCalculoHoras:o||!1,horasTrabalhadas:o&&a||null,horasPrevistasPorDia:o&&l||null,diasFaltantesPrevistos:o&&c||null,valorHora:o&&u||null}),t.value={...t.value,value:"",description:"",parcelas:t.value.parcelas??1,parcelasIndefinido:t.value.parcelasIndefinido??!1,startDate:t.value.startDate??"",usarCalculoHoras:!1,horasTrabalhadas:null,horasPrevistasPorDia:null,diasFaltantesPrevistos:null,valorHora:null}}catch(e){console.error("Erro ao adicionar gasto:",e)}finally{u.value=!1}},deleteExpense:async e=>{try{const t=EE();await _C(wE(t,"predictedExpenses",e))}catch(e){console.error("Erro ao excluir gasto:",e)}},updateExpense:async()=>{u.value=!0;try{const t=wE(EE(),"predictedExpenses",d.value.id),{parcelasIndefinido:n,usarCalculoHoras:i,horasTrabalhadas:r,horasPrevistasPorDia:s,diasFaltantesPrevistos:o,valorHora:a,...l}=d.value,c=n?null:Math.max(1,parseInt(l.parcelas,10)||1);let u=l.value;i&&(u=y.value.toFixed(2)),await xC(t,{...l,value:u,parcelas:c,type:h.value?"expense":"income",groupId:e.value,usarCalculoHoras:i||!1,horasTrabalhadas:i&&r||null,horasPrevistasPorDia:i&&s||null,diasFaltantesPrevistos:i&&o||null,valorHora:i&&a||null}),d.value=null}catch(e){console.error("Erro ao atualizar gasto:",e)}finally{u.value=!1}},editExpense:e=>{d.value={...e,parcelasIndefinido:null==e.parcelas||0===e.parcelas,usarCalculoHoras:e.usarCalculoHoras||!1,horasTrabalhadas:e.horasTrabalhadas||null,horasPrevistasPorDia:e.horasPrevistasPorDia||null,diasFaltantesPrevistos:e.diasFaltantesPrevistos||null,valorHora:e.valorHora||null},h.value="expense"===e.type},cancelEdit:()=>{d.value=null},toggleExpenseType:e=>{h.value="expense"===e},goBack:()=>{_.push("/dashboard")},formatCurrency:e=>parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),formatDate:e=>e.split("-").reverse().join("/"),formatMonthYear:e=>{if(!e||!e.match(/^\d{4}-\d{2}$/))return e;const[t,n]=e.split("-");return`${["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][parseInt(n,10)-1]}/${t}`},formatDateAndTime:e=>`${(e=e.toDate()).getDate().toString().padStart(2,"0")}/${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getFullYear()} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`,getCategoryNameById:k,getCategoryColorById:E,getAccountNameById:C,getAccountColorById:S,hexToRgb:T,getBrightness:D,getTextColor:e=>(e?D(e):200)>186?"#000000":"#FFFFFF",valorCalculado:v,valorCalculadoEdit:y,totalHorasCalculado:g,totalHorasCalculadoEdit:m,calcularValorPorHoras:b,calcularValorPorHorasEdit:w,onToggleCalculoHoras:()=>{t.value.usarCalculoHoras?b():(t.value.horasTrabalhadas=null,t.value.horasPrevistasPorDia=null,t.value.diasFaltantesPrevistos=null,t.value.valorHora=null,t.value.value="")},onToggleCalculoHorasEdit:()=>{d.value?.usarCalculoHoras?w():(d.value.horasTrabalhadas=null,d.value.horasPrevistasPorDia=null,d.value.diasFaltantesPrevistos=null,d.value.valorHora=null,d.value.value="")}}}};var FD=n(494),VD={};VD.styleTagTransform=Do(),VD.setAttributes=Eo(),VD.insert=_o().bind(null,"head"),VD.domAPI=wo(),VD.insertStyleElement=So(),yo()(FD.A,VD),FD.A&&FD.A.locals&&FD.A.locals;const jD=(0,Mo.A)(ND,[["render",function(e,t,n,i,r,s){return br(),kr("div",TT,[Ir("div",DT,[Ir("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"mb-4 text-blue-500 hover:text-blue-700 flex items-center"},t[45]||(t[45]=[Ir("i",{class:"fa fa-arrow-left mr-2"},null,-1),Or(" Voltar ")])),t[95]||(t[95]=Ir("h1",{class:"text-xl md:text-2xl font-bold mb-4 md:mb-6 text-center"},"Transações Previstas",-1)),Lr(" Formulário de Adição "),Ir("form",{onSubmit:t[21]||(t[21]=co(((...e)=>i.addExpense&&i.addExpense(...e)),["prevent"])),class:"md:p-0"},[Ir("div",IT,[Ir("button",{type:"button",onClick:t[1]||(t[1]=e=>i.toggleExpenseType("expense")),class:H([{"bg-red-500":i.isExpense,"bg-gray-300":!i.isExpense},"w-1/2 py-2 rounded-l text-white"])}," Gasto ",2),Ir("button",{type:"button",onClick:t[2]||(t[2]=e=>i.toggleExpenseType("income")),class:H([{"bg-green-500":!i.isExpense,"bg-gray-300":i.isExpense},"w-1/2 py-2 rounded-r text-white"])}," Receita ",2)]),Ir("div",AT,[t[46]||(t[46]=Ir("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-1"},"Descrição",-1)),pn(Ir("input",{id:"description","onUpdate:modelValue":t[3]||(t[3]=e=>i.newExpense.description=e),list:"description-options",placeholder:"Descrição",class:"w-full p-2 border rounded",required:""},null,512),[[Qs,i.newExpense.description]])]),Ir("div",MT,[Ir("label",PT,[pn(Ir("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.newExpense.usarCalculoHoras=e),type:"checkbox",class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",onChange:t[5]||(t[5]=(...e)=>i.onToggleCalculoHoras&&i.onToggleCalculoHoras(...e))},null,544),[[Js,i.newExpense.usarCalculoHoras]]),t[47]||(t[47]=Ir("span",{class:"text-sm text-gray-700"},"Calcular salário por horas trabalhadas",-1))])]),i.newExpense.usarCalculoHoras?(br(),kr("div",OT,[Ir("div",RT,[Ir("div",null,[t[49]||(t[49]=Ir("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Valor por hora",-1)),Ir("div",LT,[t[48]||(t[48]=Ir("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[Ir("i",{class:"fa-solid fa-brazilian-real-sign"})],-1)),pn(Ir("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.newExpense.valorHora=e),type:"number",inputmode:"decimal",placeholder:"Ex: 25.50",step:"0.01",min:"0",class:"w-full p-2 pl-10 border rounded",onInput:t[7]||(t[7]=(...e)=>i.calcularValorPorHoras&&i.calcularValorPorHoras(...e))},null,544),[[Qs,i.newExpense.valorHora,void 0,{number:!0}]])])]),Ir("div",null,[t[50]||(t[50]=Ir("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Horas trabalhadas",-1)),pn(Ir("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>i.newExpense.horasTrabalhadas=e),type:"number",inputmode:"decimal",placeholder:"Ex: 160",step:"0.1",min:"0",class:"w-full p-2 border rounded",onInput:t[9]||(t[9]=(...e)=>i.calcularValorPorHoras&&i.calcularValorPorHoras(...e))},null,544),[[Qs,i.newExpense.horasTrabalhadas,void 0,{number:!0}]])])]),Ir("div",NT,[Ir("div",null,[t[51]||(t[51]=Ir("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Horas previstas por dia",-1)),pn(Ir("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>i.newExpense.horasPrevistasPorDia=e),type:"number",inputmode:"decimal",placeholder:"Ex: 8",step:"0.1",min:"0",class:"w-full p-2 border rounded",onInput:t[11]||(t[11]=(...e)=>i.calcularValorPorHoras&&i.calcularValorPorHoras(...e))},null,544),[[Qs,i.newExpense.horasPrevistasPorDia,void 0,{number:!0}]]),t[52]||(t[52]=Ir("p",{class:"text-xs text-gray-500 mt-1"},"Média de horas trabalhadas por dia",-1))]),Ir("div",null,[t[53]||(t[53]=Ir("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Dias faltantes previstos",-1)),pn(Ir("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>i.newExpense.diasFaltantesPrevistos=e),type:"number",inputmode:"numeric",placeholder:"Ex: 3",step:"1",min:"0",class:"w-full p-2 border rounded",onInput:t[13]||(t[13]=(...e)=>i.calcularValorPorHoras&&i.calcularValorPorHoras(...e))},null,544),[[Qs,i.newExpense.diasFaltantesPrevistos,void 0,{number:!0}]]),t[54]||(t[54]=Ir("p",{class:"text-xs text-gray-500 mt-1"},"Quantos dias ainda faltam para trabalhar",-1))])]),Ir("div",FT,[t[55]||(t[55]=Ir("p",{class:"text-sm text-gray-600 mb-1"},"Total de horas:",-1)),Ir("p",VT,Q(i.totalHorasCalculado)+" horas ",1),t[56]||(t[56]=Ir("p",{class:"text-sm text-gray-600 mb-1"},"Valor calculado:",-1)),Ir("p",jT,Q(i.formatCurrency(i.valorCalculado)),1)])])):(br(),kr("div",BT,[t[58]||(t[58]=Ir("label",{for:"value",class:"block text-sm font-medium text-gray-700 mb-1"},"Valor",-1)),Ir("div",UT,[t[57]||(t[57]=Ir("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[Ir("i",{class:"fa-solid fa-brazilian-real-sign"})],-1)),pn(Ir("input",{id:"value","onUpdate:modelValue":t[14]||(t[14]=e=>i.newExpense.value=e),type:"number",inputmode:"decimal",placeholder:"Valor",step:"0.01",class:"w-full p-2 pl-10 border rounded",required:""},null,512),[[Qs,i.newExpense.value]])])])),Ir("div",zT,[Ir("div",null,[t[59]||(t[59]=Ir("label",{for:"dueDay",class:"block text-sm font-medium text-gray-700 mb-1"},"Dia do vencimento",-1)),pn(Ir("input",{id:"dueDay","onUpdate:modelValue":t[15]||(t[15]=e=>i.newExpense.dueDay=e),type:"number",min:"1",max:"31",class:"w-full p-2 border rounded",placeholder:"Ex: 5",required:""},null,512),[[Qs,i.newExpense.dueDay]])]),Ir("div",null,[t[60]||(t[60]=Ir("label",{for:"startDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Data de início (mês/ano)",-1)),pn(Ir("input",{id:"startDate","onUpdate:modelValue":t[16]||(t[16]=e=>i.newExpense.startDate=e),type:"month",class:"w-full p-2 border rounded"},null,512),[[Qs,i.newExpense.startDate]]),t[61]||(t[61]=Ir("p",{class:"text-xs text-gray-500 mt-1"},"Opcional",-1))])]),Ir("div",$T,[Ir("label",HT,[pn(Ir("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>i.newExpense.parcelasIndefinido=e),type:"checkbox",class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"},null,512),[[Js,i.newExpense.parcelasIndefinido]]),t[62]||(t[62]=Ir("span",{class:"text-sm text-gray-700"},"Repetir todo mês (sem limite)",-1))]),t[63]||(t[63]=Ir("label",{for:"parcelas",class:"block text-sm font-medium text-gray-700 mb-1"},"Quantidade de vezes",-1)),pn(Ir("input",{id:"parcelas","onUpdate:modelValue":t[18]||(t[18]=e=>i.newExpense.parcelas=e),type:"number",min:"1",disabled:i.newExpense.parcelasIndefinido,class:"w-full p-2 border rounded disabled:bg-gray-100 disabled:text-gray-500",placeholder:"Ex: 12 parcelas"},null,8,YT),[[Qs,i.newExpense.parcelas,void 0,{number:!0}]]),t[64]||(t[64]=Ir("p",{class:"text-xs text-gray-500 mt-1"},"Número de vezes que esse valor entra na previsão (ex.: 12 para 12 parcelas)",-1))]),Lr(' <datalist id="description-options">\n          <option v-for="desc in descriptionOptions" :key="desc" :value="desc"></option>\n        </datalist> '),Ir("div",WT,[Ir("div",null,[t[66]||(t[66]=Ir("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-1"},"Categoria",-1)),pn(Ir("select",{id:"category","onUpdate:modelValue":t[19]||(t[19]=e=>i.newExpense.category=e),class:"w-full p-2 border rounded",required:""},[t[65]||(t[65]=Ir("option",{disabled:"",value:""},"Selecionar Categoria",-1)),(br(!0),kr(pr,null,ri(i.categories,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.description),9,qT)))),128))],512),[[to,i.newExpense.category]])]),Ir("div",null,[t[68]||(t[68]=Ir("label",{for:"account",class:"block text-sm font-medium text-gray-700 mb-1"},"Conta",-1)),pn(Ir("select",{id:"account","onUpdate:modelValue":t[20]||(t[20]=e=>i.newExpense.account=e),class:"w-full p-2 border rounded",required:""},[t[67]||(t[67]=Ir("option",{disabled:"",value:""},"Selecionar Conta",-1)),(br(!0),kr(pr,null,ri(i.accounts,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.name),9,GT)))),128))],512),[[to,i.newExpense.account]])])]),Ir("button",{type:"submit",disabled:i.loading,class:H(["w-full py-2 mb-4 rounded text-white",{"bg-blue-500":!i.loading,"bg-gray-500":i.loading}])},[i.loading?(br(),kr("span",XT,"Adicionando...")):(br(),kr("span",QT,"Adicionar Transação"))],10,KT)],32),Ir("div",JT,[pn(Ir("input",{"onUpdate:modelValue":t[22]||(t[22]=e=>i.filterText=e),type:"text",placeholder:"Filtrar por categoria, conta ou valor",class:"w-full p-2 border rounded"},null,512),[[Qs,i.filterText]])]),Lr(" Lista de Gastos "),Ir("ul",ZT,[(br(!0),kr(pr,null,ri(i.filteredExpenses,(e=>(br(),kr("li",{key:e.id,class:"p-3 md:p-4 border-b hover:bg-gray-50 transition-colors"},[Ir("div",eD,[Lr(" Descrição e Valor "),Ir("div",tD,[Ir("h3",nD,Q(e.description),1),Ir("span",{class:H(["text-sm font-semibold whitespace-nowrap flex-shrink-0","expense"===e.type?"text-red-600":"text-green-600"])},Q(i.formatCurrency(e.value)),3)]),Lr(" Badges organizados em grid "),Ir("div",iD,[Ir("span",{class:"inline-block text-xs font-semibold px-2 py-1 rounded",style:j({backgroundColor:e.categoryColor,color:i.getTextColor(e.categoryColor)})},Q(e.categoryName),5),Ir("span",{class:"inline-block text-xs font-semibold px-2 py-1 rounded",style:j({backgroundColor:e.accountColor,color:i.getTextColor(e.accountColor)})},Q(e.accountName),5),Ir("span",rD," Venc: "+Q(e.dueDay),1),null==e.parcelas||0===e.parcelas?(br(),kr("span",sD," ∞ ")):e.parcelas>1?(br(),kr("span",oD,Q(e.parcelas)+"x ",1)):Lr("v-if",!0),e.startDate?(br(),kr("span",{key:2,class:"inline-block text-xs font-semibold px-2 py-1 rounded bg-sky-50 text-sky-700 ring-1 ring-inset ring-sky-600/10",title:"Início: "+i.formatMonthYear(e.startDate)}," A partir de "+Q(i.formatMonthYear(e.startDate)),9,aD)):Lr("v-if",!0)]),Lr(" Botões de Editar e Excluir "),Ir("div",lD,[Ir("button",{onClick:t=>i.editExpense(e),class:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-3 rounded text-sm transition-colors",title:"Editar"},t[69]||(t[69]=[Ir("i",{class:"fa fa-edit"},null,-1)]),8,cD),Ir("button",{onClick:t=>i.deleteExpense(e.id),class:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-3 rounded text-sm transition-colors",title:"Excluir"},t[70]||(t[70]=[Ir("i",{class:"fa fa-trash"},null,-1)]),8,uD)])])])))),128))]),Lr(" Formulário de Edição "),i.editingExpense?(br(),kr("div",dD,[Lr(" Modal Container "),Ir("div",hD,[t[94]||(t[94]=Ir("h2",{class:"text-xl font-semibold mb-4 text-center"},"Editar Transação",-1)),Ir("form",{onSubmit:t[44]||(t[44]=co(((...e)=>i.updateExpense&&i.updateExpense(...e)),["prevent"]))},[Ir("div",pD,[Ir("button",{onClick:t[23]||(t[23]=e=>i.toggleExpenseType("expense")),class:H([{"bg-red-500":i.isExpense,"bg-gray-300":!i.isExpense},"w-1/2 py-2 rounded-l text-white"])}," Gasto ",2),Ir("button",{onClick:t[24]||(t[24]=e=>i.toggleExpenseType("income")),class:H([{"bg-green-500":!i.isExpense,"bg-gray-300":i.isExpense},"w-1/2 py-2 rounded-r text-white"])}," Receita ",2)]),Ir("div",fD,[Ir("label",gD,[pn(Ir("input",{"onUpdate:modelValue":t[25]||(t[25]=e=>i.editingExpense.usarCalculoHoras=e),type:"checkbox",class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",onChange:t[26]||(t[26]=(...e)=>i.onToggleCalculoHorasEdit&&i.onToggleCalculoHorasEdit(...e))},null,544),[[Js,i.editingExpense.usarCalculoHoras]]),t[71]||(t[71]=Ir("span",{class:"text-sm text-gray-700"},"Calcular salário por horas trabalhadas",-1))])]),i.editingExpense.usarCalculoHoras?(br(),kr("div",mD,[Ir("div",vD,[Ir("div",null,[t[73]||(t[73]=Ir("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Valor por hora",-1)),Ir("div",yD,[t[72]||(t[72]=Ir("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[Ir("i",{class:"fa-solid fa-brazilian-real-sign"})],-1)),pn(Ir("input",{"onUpdate:modelValue":t[27]||(t[27]=e=>i.editingExpense.valorHora=e),type:"number",inputmode:"decimal",placeholder:"Ex: 25.50",step:"0.01",min:"0",class:"w-full p-2 pl-10 border rounded",onInput:t[28]||(t[28]=(...e)=>i.calcularValorPorHorasEdit&&i.calcularValorPorHorasEdit(...e))},null,544),[[Qs,i.editingExpense.valorHora,void 0,{number:!0}]])])]),Ir("div",null,[t[74]||(t[74]=Ir("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Horas trabalhadas",-1)),pn(Ir("input",{"onUpdate:modelValue":t[29]||(t[29]=e=>i.editingExpense.horasTrabalhadas=e),type:"number",inputmode:"decimal",placeholder:"Ex: 160",step:"0.1",min:"0",class:"w-full p-2 border rounded",onInput:t[30]||(t[30]=(...e)=>i.calcularValorPorHorasEdit&&i.calcularValorPorHorasEdit(...e))},null,544),[[Qs,i.editingExpense.horasTrabalhadas,void 0,{number:!0}]])])]),Ir("div",bD,[Ir("div",null,[t[75]||(t[75]=Ir("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Horas previstas por dia",-1)),pn(Ir("input",{"onUpdate:modelValue":t[31]||(t[31]=e=>i.editingExpense.horasPrevistasPorDia=e),type:"number",inputmode:"decimal",placeholder:"Ex: 8",step:"0.1",min:"0",class:"w-full p-2 border rounded",onInput:t[32]||(t[32]=(...e)=>i.calcularValorPorHorasEdit&&i.calcularValorPorHorasEdit(...e))},null,544),[[Qs,i.editingExpense.horasPrevistasPorDia,void 0,{number:!0}]]),t[76]||(t[76]=Ir("p",{class:"text-xs text-gray-500 mt-1"},"Média de horas trabalhadas por dia",-1))]),Ir("div",null,[t[77]||(t[77]=Ir("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Dias faltantes previstos",-1)),pn(Ir("input",{"onUpdate:modelValue":t[33]||(t[33]=e=>i.editingExpense.diasFaltantesPrevistos=e),type:"number",inputmode:"numeric",placeholder:"Ex: 3",step:"1",min:"0",class:"w-full p-2 border rounded",onInput:t[34]||(t[34]=(...e)=>i.calcularValorPorHorasEdit&&i.calcularValorPorHorasEdit(...e))},null,544),[[Qs,i.editingExpense.diasFaltantesPrevistos,void 0,{number:!0}]]),t[78]||(t[78]=Ir("p",{class:"text-xs text-gray-500 mt-1"},"Quantos dias ainda faltam para trabalhar",-1))])]),Ir("div",wD,[t[79]||(t[79]=Ir("p",{class:"text-sm text-gray-600 mb-1"},"Total de horas:",-1)),Ir("p",xD,Q(i.totalHorasCalculadoEdit)+" horas ",1),t[80]||(t[80]=Ir("p",{class:"text-sm text-gray-600 mb-1"},"Valor calculado:",-1)),Ir("p",_D,Q(i.formatCurrency(i.valorCalculadoEdit)),1)])])):(br(),kr("div",kD,[t[82]||(t[82]=Ir("label",{for:"editValue",class:"block text-sm font-medium text-gray-700 mb-1"},"Valor",-1)),Ir("div",ED,[t[81]||(t[81]=Ir("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[Ir("i",{class:"fa-solid fa-brazilian-real-sign"})],-1)),pn(Ir("input",{id:"editValue","onUpdate:modelValue":t[35]||(t[35]=e=>i.editingExpense.value=e),type:"number",inputmode:"decimal",placeholder:"Valor",step:"0.01",class:"w-full p-2 pl-10 border rounded",required:""},null,512),[[Qs,i.editingExpense.value]])])])),Ir("div",CD,[Ir("div",null,[t[83]||(t[83]=Ir("label",{for:"editDueDay",class:"block text-sm font-medium text-gray-700 mb-1"},"Dia do vencimento",-1)),pn(Ir("input",{id:"editDueDay","onUpdate:modelValue":t[36]||(t[36]=e=>i.editingExpense.dueDay=e),type:"number",min:"1",max:"31",class:"w-full p-2 border rounded",placeholder:"Ex: 5",required:""},null,512),[[Qs,i.editingExpense.dueDay]])]),Ir("div",null,[t[84]||(t[84]=Ir("label",{for:"editStartDate",class:"block text-sm font-medium text-gray-700 mb-1"},"Data de início (mês/ano)",-1)),pn(Ir("input",{id:"editStartDate","onUpdate:modelValue":t[37]||(t[37]=e=>i.editingExpense.startDate=e),type:"month",class:"w-full p-2 border rounded"},null,512),[[Qs,i.editingExpense.startDate]]),t[85]||(t[85]=Ir("p",{class:"text-xs text-gray-500 mt-1"},"Opcional",-1))])]),Ir("div",SD,[Ir("label",TD,[pn(Ir("input",{"onUpdate:modelValue":t[38]||(t[38]=e=>i.editingExpense.parcelasIndefinido=e),type:"checkbox",class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"},null,512),[[Js,i.editingExpense.parcelasIndefinido]]),t[86]||(t[86]=Ir("span",{class:"text-sm text-gray-700"},"Repetir todo mês (sem limite)",-1))]),t[87]||(t[87]=Ir("label",{for:"editParcelas",class:"block text-sm font-medium text-gray-700 mb-1"},"Quantidade de vezes",-1)),pn(Ir("input",{id:"editParcelas","onUpdate:modelValue":t[39]||(t[39]=e=>i.editingExpense.parcelas=e),type:"number",min:"1",disabled:i.editingExpense.parcelasIndefinido,class:"w-full p-2 border rounded disabled:bg-gray-100 disabled:text-gray-500",placeholder:"Ex: 12 parcelas"},null,8,DD),[[Qs,i.editingExpense.parcelas,void 0,{number:!0}]]),t[88]||(t[88]=Ir("p",{class:"text-xs text-gray-500 mt-1"},"Número de vezes que esse valor entra na previsão",-1))]),Ir("div",ID,[Ir("div",null,[t[90]||(t[90]=Ir("label",{for:"editCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Categoria",-1)),pn(Ir("select",{id:"editCategory","onUpdate:modelValue":t[40]||(t[40]=e=>i.editingExpense.category=e),class:"w-full p-2 border rounded",required:""},[t[89]||(t[89]=Ir("option",{disabled:"",value:""},"Selecionar Categoria",-1)),(br(!0),kr(pr,null,ri(i.categories,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.description),9,AD)))),128))],512),[[to,i.editingExpense.category]])]),Ir("div",null,[t[92]||(t[92]=Ir("label",{for:"editAccount",class:"block text-sm font-medium text-gray-700 mb-1"},"Conta",-1)),pn(Ir("select",{id:"editAccount","onUpdate:modelValue":t[41]||(t[41]=e=>i.editingExpense.account=e),class:"w-full p-2 border rounded",required:""},[t[91]||(t[91]=Ir("option",{disabled:"",value:""},"Selecionar Conta",-1)),(br(!0),kr(pr,null,ri(i.accounts,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.name),9,MD)))),128))],512),[[to,i.editingExpense.account]])])]),Ir("div",PD,[t[93]||(t[93]=Ir("label",{for:"editDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Descrição",-1)),pn(Ir("input",{id:"editDescription","onUpdate:modelValue":t[42]||(t[42]=e=>i.editingExpense.description=e),placeholder:"Descrição",class:"w-full p-2 border rounded",required:""},null,512),[[Qs,i.editingExpense.description]])]),Ir("button",{type:"submit",disabled:i.loading,class:H(["w-full py-2 rounded text-white",{"bg-green-500":!i.loading,"bg-gray-500":i.loading}])},[i.loading?(br(),kr("span",RD,"Salvando...")):(br(),kr("span",LD,"Salvar Alterações"))],10,OD),Ir("button",{onClick:t[43]||(t[43]=(...e)=>i.cancelEdit&&i.cancelEdit(...e)),class:"w-full bg-gray-500 text-white py-2 rounded hover:bg-gray-700 mt-4"}," Cancelar ")],32)])])):Lr("v-if",!0)])])}],["__scopeId","data-v-31c0538c"]]),BD={class:"flex flex-col bg-gray-100"},UD={key:0,class:"mb-4 bg-white p-4 rounded shadow-md border-l-4 border-green-500"},zD={class:"text-gray-700"},$D={key:1,class:"mb-6 bg-white p-4 rounded shadow-md border-l-4 border-blue-500"},HD={class:"text-xl font-bold"},YD={class:"text-sm text-gray-600 mt-1"},WD={class:"text-sm text-gray-500 mt-1"},qD={class:"flex items-center justify-between mb-4"},GD={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},KD={class:"bg-white p-4 rounded shadow-md"},XD={key:0,class:"text-3xl font-bold text-green-500"},QD={key:1,class:"text-3xl font-bold text-green-500"},JD={class:"text-xl font-semibold mb-2"},ZD={key:0,class:"text-3xl font-bold text-green-500"},eI={key:1,class:"text-3xl font-bold text-green-500"},tI={class:"text-xl font-semibold mb-2"},nI={key:0,class:"text-3xl font-bold text-purple-500"},iI={key:1,class:"text-3xl font-bold text-purple-500"},rI={class:"flex items-center gap-4 mb-4"},sI=["value"],oI=["disabled"],aI=["value"],lI={class:"flex items-center gap-2 cursor-pointer"},cI={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},uI={class:"text-xl font-semibold mb-2"},dI={key:0,class:"text-3xl font-bold text-red-500"},hI={key:1,class:"text-3xl font-bold text-red-500"},pI={class:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded shadow-md border-2 border-blue-300"},fI={key:0,class:"text-3xl font-bold text-blue-700"},gI={key:1,class:"text-3xl font-bold text-blue-700"},mI={class:"text-sm text-blue-600 mt-1 font-medium"},vI={class:"text-xl font-semibold mb-2"},yI={key:0,class:"text-3xl font-bold text-blue-500"},bI={key:1,class:"text-3xl font-bold text-blue-500"},wI={key:2,class:"mt-2 text-sm"},xI={key:0,class:"text-gray-600"},_I={key:1,class:"text-gray-400 italic"},kI={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},EI={class:"bg-white rounded shadow-md md:col-span-2"},CI={class:"bg-white p-4 rounded shadow-md"},SI={key:3,class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},TI={class:"bg-white p-4 rounded shadow-md"},DI={class:"bg-white p-4 rounded shadow-md"},II={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},AI={class:"bg-white p-4 rounded shadow-md"},MI={key:0,class:"text-3xl font-bold text-green-500"},PI={key:1,class:"text-3xl font-bold text-green-500"},OI={class:"bg-white p-4 rounded shadow-md"},RI={key:0,class:"text-3xl font-bold text-red-500"},LI={key:1,class:"text-3xl font-bold text-red-500"},NI={class:"bg-white p-4 rounded shadow-md"},FI={key:0,class:"text-3xl font-bold text-blue-500"},VI={key:1,class:"text-3xl font-bold text-red-500"},jI={class:"mt-8 bg-white rounded shadow p-4 w-full md:w-auto"};function BI(e){return e+.5|0}const UI=(e,t,n)=>Math.max(Math.min(e,n),t);function zI(e){return UI(BI(2.55*e),0,255)}function $I(e){return UI(BI(255*e),0,255)}function HI(e){return UI(BI(e/2.55)/100,0,1)}function YI(e){return UI(BI(100*e),0,100)}const WI={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qI=[..."0123456789ABCDEF"],GI=e=>qI[15&e],KI=e=>qI[(240&e)>>4]+qI[15&e],XI=e=>(240&e)>>4==(15&e);const QI=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function JI(e,t,n){const i=t*Math.min(n,1-n),r=(t,r=(t+e/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function ZI(e,t,n){const i=(i,r=(i+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function eA(e,t,n){const i=JI(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function tA(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),s=Math.min(t,n,i),o=(r+s)/2;let a,l,c;return r!==s&&(c=r-s,l=o>.5?c/(2-r-s):c/(r+s),a=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(t,n,i,c,r),a=60*a+.5),[0|a,l||0,o]}function nA(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map($I)}function iA(e,t,n){return nA(JI,e,t,n)}function rA(e){return(e%360+360)%360}const sA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},oA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let aA;const lA=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,cA=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,uA=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function dA(e,t,n){if(e){let i=tA(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=iA(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function hA(e,t){return e?Object.assign(t||{},e):e}function pA(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=$I(e[3]))):(t=hA(e,{r:0,g:0,b:0,a:1})).a=$I(t.a),t}function fA(e){return"r"===e.charAt(0)?function(e){const t=lA.exec(e);let n,i,r,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?zI(e):UI(255*e,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?zI(n):UI(n,0,255)),i=255&(t[4]?zI(i):UI(i,0,255)),r=255&(t[6]?zI(r):UI(r,0,255)),{r:n,g:i,b:r,a:s}}}(e):function(e){const t=QI.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?zI(+t[5]):$I(+t[5]));const r=rA(+t[2]),s=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return nA(eA,e,t,n)}(r,s,o):"hsv"===t[1]?function(e,t,n){return nA(ZI,e,t,n)}(r,s,o):iA(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}(e)}class gA{constructor(e){if(e instanceof gA)return e;const t=typeof e;let n;var i,r,s;"object"===t?n=pA(e):"string"===t&&(s=(i=e).length,"#"===i[0]&&(4===s||5===s?r={r:255&17*WI[i[1]],g:255&17*WI[i[2]],b:255&17*WI[i[3]],a:5===s?17*WI[i[4]]:255}:7!==s&&9!==s||(r={r:WI[i[1]]<<4|WI[i[2]],g:WI[i[3]]<<4|WI[i[4]],b:WI[i[5]]<<4|WI[i[6]],a:9===s?WI[i[7]]<<4|WI[i[8]]:255})),n=r||function(e){aA||(aA=function(){const e={},t=Object.keys(oA),n=Object.keys(sA);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,sA[s]);s=parseInt(oA[o],16),e[a]=[s>>16&255,s>>8&255,255&s]}return e}(),aA.transparent=[0,0,0,0]);const t=aA[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||fA(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=hA(this._rgb);return e&&(e.a=HI(e.a)),e}set rgb(e){this._rgb=pA(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${HI(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?function(e){var t=(e=>XI(e.r)&&XI(e.g)&&XI(e.b)&&XI(e.a))(e)?GI:KI;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=tA(e),n=t[0],i=YI(t[1]),r=YI(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${HI(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const s=t===r?.5:t,o=2*s-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=uA(HI(e.r)),r=uA(HI(e.g)),s=uA(HI(e.b));return{r:$I(cA(i+n*(uA(HI(t.r))-i))),g:$I(cA(r+n*(uA(HI(t.g))-r))),b:$I(cA(s+n*(uA(HI(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new gA(this.rgb)}alpha(e){return this._rgb.a=$I(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=BI(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return dA(this._rgb,2,e),this}darken(e){return dA(this._rgb,2,-e),this}saturate(e){return dA(this._rgb,1,e),this}desaturate(e){return dA(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=tA(e);n[0]=rA(n[0]+t),n=iA(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function mA(){}const vA=(()=>{let e=0;return()=>e++})();function yA(e){return null==e}function bA(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function wA(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function xA(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function _A(e,t){return xA(e)?e:t}function kA(e,t){return void 0===e?t:e}const EA=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function CA(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function SA(e,t,n,i){let r,s,o;if(bA(e))if(s=e.length,i)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(wA(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function TA(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function DA(e){if(bA(e))return e.map(DA);if(wA(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=DA(e[n[r]]);return t}return e}function IA(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function AA(e,t,n,i){if(!IA(e))return;const r=t[e],s=n[e];wA(r)&&wA(s)?MA(r,s,i):t[e]=DA(s)}function MA(e,t,n){const i=bA(t)?t:[t],r=i.length;if(!wA(e))return e;const s=(n=n||{}).merger||AA;let o;for(let t=0;t<r;++t){if(o=i[t],!wA(o))continue;const r=Object.keys(o);for(let t=0,i=r.length;t<i;++t)s(r[t],e,o,n)}return e}function PA(e,t){return MA(e,t,{merger:OA})}function OA(e,t,n){if(!IA(e))return;const i=t[e],r=n[e];wA(i)&&wA(r)?PA(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=DA(r))}const RA={"":e=>e,x:e=>e.x,y:e=>e.y};function LA(e,t){const n=RA[t]||(RA[t]=function(e){const t=function(e){const t=e.split("."),n=[];let i="";for(const e of t)i+=e,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function NA(e){return e.charAt(0).toUpperCase()+e.slice(1)}const FA=e=>void 0!==e,VA=e=>"function"==typeof e,jA=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},BA=Math.PI,UA=2*BA,zA=UA+BA,$A=Number.POSITIVE_INFINITY,HA=BA/180,YA=BA/2,WA=BA/4,qA=2*BA/3,GA=Math.log10,KA=Math.sign;function XA(e,t,n){return Math.abs(e-t)<n}function QA(e){const t=Math.round(e);e=XA(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(GA(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function JA(e){return!isNaN(parseFloat(e))&&isFinite(e)}function ZA(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function eM(e){return e*(BA/180)}function tM(e){return e*(180/BA)}function nM(e){if(!xA(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function iM(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*BA&&(s+=UA),{angle:s,distance:r}}function rM(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function sM(e,t){return(e-t+zA)%UA-BA}function oM(e){return(e%UA+UA)%UA}function aM(e,t,n,i){const r=oM(e),s=oM(t),o=oM(n),a=oM(s-r),l=oM(o-r),c=oM(r-s),u=oM(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function lM(e,t,n){return Math.max(t,Math.min(n,e))}function cM(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function uM(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,s=0;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const dM=(e,t,n,i)=>uM(e,n,i?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),hM=(e,t,n)=>uM(e,n,(i=>e[i][t]>=n)),pM=["push","pop","shift","splice","unshift"];function fM(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(pM.forEach((t=>{delete e[t]})),delete e._chartjs)}function gM(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const mM="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function vM(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,mM.call(window,(()=>{i=!1,e.apply(t,n)})))}}const yM=e=>"start"===e?"left":"end"===e?"right":"center",bM=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function wM(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(r=lM(Math.min(dM(a,l,c).lo,n?i:dM(t,l,o.getPixelForValue(c)).lo),0,i-1)),s=h?lM(Math.max(dM(a,o.axis,u,!0).hi+1,n?0:dM(t,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function xM(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const _M=e=>0===e||1===e,kM=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*UA/n),EM=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*UA/n)+1,CM={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*YA),easeOutSine:e=>Math.sin(e*YA),easeInOutSine:e=>-.5*(Math.cos(BA*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>_M(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>_M(e)?e:kM(e,.075,.3),easeOutElastic:e=>_M(e)?e:EM(e,.075,.3),easeInOutElastic(e){const t=.1125;return _M(e)?e:e<.5?.5*kM(2*e,t,.45):.5+.5*EM(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-CM.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*CM.easeInBounce(2*e):.5*CM.easeOutBounce(2*e-1)+.5};function SM(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function TM(e){return SM(e)?e:new gA(e)}function DM(e){return SM(e)?e:new gA(e).saturate(.5).darken(.1).hexString()}const IM=["x","y","borderWidth","radius","tension"],AM=["color","borderColor","backgroundColor"],MM=new Map;function PM(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=MM.get(n);return i||(i=new Intl.NumberFormat(e,t),MM.set(n,i)),i}(t,n).format(e)}const OM={values:e=>bA(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}(e,n)}const o=GA(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),PM(e,i,l)},logarithmic(e,t,n){if(0===e)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(GA(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?OM.numeric.call(this,e,t,n):""}};var RM={formatters:OM};const LM=Object.create(null),NM=Object.create(null);function FM(e,t){if(!t)return e;const n=t.split(".");for(let t=0,i=n.length;t<i;++t){const i=n[t];e=e[i]||(e[i]=Object.create(null))}return e}function VM(e,t,n){return"string"==typeof t?MA(FM(e,t),n):MA(FM(e,""),t)}class jM{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>DM(t.backgroundColor),this.hoverBorderColor=(e,t)=>DM(t.borderColor),this.hoverColor=(e,t)=>DM(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return VM(this,e,t)}get(e){return FM(this,e)}describe(e,t){return VM(NM,e,t)}override(e,t){return VM(LM,e,t)}route(e,t,n,i){const r=FM(this,e),s=FM(this,n),o="_"+t;Object.defineProperties(r,{[o]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=s[i];return wA(e)?Object.assign({},t,e):kA(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var BM=new jM({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:AM},numbers:{type:"number",properties:IM}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:RM.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function UM(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function zM(e,t,n,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],null==d||bA(d)){if(bA(d))for(c=0,u=d.length;c<u;c++)h=d[c],null==h||bA(h)||(o=UM(e,r,s,o,h))}else o=UM(e,r,s,o,d);e.restore();const p=s.length/2;if(p>n.length){for(l=0;l<p;l++)delete r[s[l]];s.splice(0,p)}return o}function $M(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function HM(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function YM(e,t,n,i){WM(e,t,n,i,null)}function WM(e,t,n,i,r){let s,o,a,l,c,u,d,h;const p=t.pointStyle,f=t.rotation,g=t.radius;let m=(f||0)*HA;if(p&&"object"==typeof p&&(s=p.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,i),e.rotate(m),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:r?e.ellipse(n,i,r/2,g,0,0,UA):e.arc(n,i,g,0,UA),e.closePath();break;case"triangle":u=r?r/2:g,e.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=qA,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=qA,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+WA)*l,d=Math.cos(m+WA)*(r?r/2-c:l),a=Math.sin(m+WA)*l,h=Math.sin(m+WA)*(r?r/2-c:l),e.arc(n-d,i-a,c,m-BA,m-YA),e.arc(n+h,i-o,c,m-YA,m),e.arc(n+d,i+a,c,m,m+YA),e.arc(n-h,i+o,c,m+YA,m+BA),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*g,u=r?r/2:l,e.rect(n-u,i-l,2*u,2*l);break}m+=WA;case"rectRot":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),e.moveTo(n-d,i-a),e.lineTo(n+h,i-o),e.lineTo(n+d,i+a),e.lineTo(n-h,i+o),e.closePath();break;case"crossRot":m+=WA;case"cross":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),e.moveTo(n-d,i-a),e.lineTo(n+d,i+a),e.moveTo(n+h,i-o),e.lineTo(n-h,i+o);break;case"star":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),e.moveTo(n-d,i-a),e.lineTo(n+d,i+a),e.moveTo(n+h,i-o),e.lineTo(n-h,i+o),m+=WA,d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),e.moveTo(n-d,i-a),e.lineTo(n+d,i+a),e.moveTo(n+h,i-o),e.lineTo(n-h,i+o);break;case"line":o=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function qM(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function GM(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function KM(e){e.restore()}function XM(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function QM(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function JM(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function ZM(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function eP(e,t,n,i,r,s={}){const o=bA(t)?t:[t],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),yA(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&ZM(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),yA(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,i,s.maxWidth)),e.fillText(c,n,i,s.maxWidth),JM(e,n,i,c,s),i+=Number(r.lineHeight);e.restore()}function tP(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*BA,BA,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,BA,YA,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,YA,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-YA,!0),e.lineTo(n+o.topLeft,i)}const nP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,iP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rP(e,t){const n=(""+e).match(nP);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const sP=e=>+e||0;function oP(e,t){const n={},i=wA(t),r=i?Object.keys(t):t,s=wA(e)?i?n=>kA(e[n],e[t[n]]):t=>e[t]:()=>e;for(const e of r)n[e]=sP(s(e));return n}function aP(e){return oP(e,{top:"y",right:"x",bottom:"y",left:"x"})}function lP(e){return oP(e,["topLeft","topRight","bottomLeft","bottomRight"])}function cP(e){const t=aP(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function uP(e,t){e=e||{},t=t||BM.font;let n=kA(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let i=kA(e.style,t.style);i&&!(""+i).match(iP)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:kA(e.family,t.family),lineHeight:rP(kA(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:kA(e.weight,t.weight),string:""};return r.string=function(e){return!e||yA(e.size)||yA(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function dP(e,t,n,i){let r,s,o,a=!0;for(r=0,s=e.length;r<s;++r)if(o=e[r],void 0!==o&&(void 0!==t&&"function"==typeof o&&(o=o(t),a=!1),void 0!==n&&bA(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function hP(e,t){return Object.assign(Object.create(e),t)}function pP(e,t=[""],n,i,r=()=>e[0]){const s=n||e;void 0===i&&(i=EP("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:i,_getTarget:r,override:n=>pP([n,...e],t,s,i)};return new Proxy(o,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>yP(n,i,(()=>function(e,t,n,i){let r;for(const s of t)if(r=EP(mP(s,e),n),void 0!==r)return vP(e,r)?_P(n,i,e,r):r}(i,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>CP(e).includes(t),ownKeys:e=>CP(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function fP(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:gP(e,i),setContext:t=>fP(e,t,n,i),override:r=>fP(e.override(r),t,n,i)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>yP(e,t,(()=>function(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];return VA(a)&&o.isScriptable(t)&&(a=function(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||i);return a.delete(e),vP(e,l)&&(l=_P(r._scopes,r,e,l)),l}(t,a,e,n)),bA(a)&&a.length&&(a=function(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(void 0!==s.index&&i(e))return t[s.index%t.length];if(wA(t[0])){const n=t,i=r._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=_P(i,r,e,l);t.push(fP(n,s,o&&o[e],a))}}return t}(t,a,e,o.isIndexable)),vP(t,a)&&(a=fP(a,r,s&&s[t],o)),a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function gP(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:VA(n)?n:()=>n,isIndexable:VA(i)?i:()=>i}}const mP=(e,t)=>e?e+NA(t):t,vP=(e,t)=>wA(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function yP(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function bP(e,t,n){return VA(e)?e(t,n):e}const wP=(e,t)=>!0===e?t:"string"==typeof e?LA(t,e):void 0;function xP(e,t,n,i,r){for(const s of t){const t=wP(n,s);if(t){e.add(t);const s=bP(t._fallback,n,r);if(void 0!==s&&s!==n&&s!==i)return s}else if(!1===t&&void 0!==i&&n!==i)return null}return!1}function _P(e,t,n,i){const r=t._rootScopes,s=bP(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=kP(a,o,n,s||n,i);return null!==l&&(void 0===s||s===n||(l=kP(a,o,s,l,i),null!==l))&&pP(Array.from(a),[""],r,s,(()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return bA(r)&&wA(n)?n:r||{}}(t,n,i)))}function kP(e,t,n,i,r){for(;n;)n=xP(e,t,n,i,r);return n}function EP(e,t){for(const n of t){if(!n)continue;const t=n[e];if(void 0!==t)return t}}function CP(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function SP(e,t,n,i){const{iScale:r}=e,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:r.parse(LA(u,s),c)};return o}const TP=Number.EPSILON||1e-14,DP=(e,t)=>t<e.length&&!e[t].skip&&e[t],IP=e=>"x"===e?"y":"x";function AP(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=rM(s,r),l=rM(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,h=i*u;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+h*(o.x-r.x),y:s.y+h*(o.y-r.y)}}}function MP(e,t,n){return Math.max(Math.min(e,n),t)}function PP(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){const n=IP(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=DP(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=DP(e,o+1),l){if(c){const e=c[t]-l[t];r[o]=0!==e?(c[n]-l[n])/e:0}s[o]=a?c?KA(r[o-1])!==KA(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(e,t,n){const i=e.length;let r,s,o,a,l,c=DP(e,0);for(let u=0;u<i-1;++u)l=c,c=DP(e,u+1),l&&c&&(XA(t[u],0,TP)?n[u]=n[u+1]=0:(r=n[u]/t[u],s=n[u+1]/t[u],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=r*o*t[u],n[u+1]=s*o*t[u])))}(e,r,s),function(e,t,n="x"){const i=IP(n),r=e.length;let s,o,a,l=DP(e,0);for(let c=0;c<r;++c){if(o=a,a=l,l=DP(e,c+1),!a)continue;const r=a[n],u=a[i];o&&(s=(r-o[n])/3,a[`cp1${n}`]=r-s,a[`cp1${i}`]=u-s*t[c]),l&&(s=(l[n]-r)/3,a[`cp2${n}`]=r+s,a[`cp2${i}`]=u+s*t[c])}}(e,s,t)}(e,r);else{let n=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=AP(n,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,i,r,s,o,a=qM(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&qM(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=MP(r.cp1x,t.left,t.right),r.cp1y=MP(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=MP(r.cp2x,t.left,t.right),r.cp2y=MP(r.cp2y,t.top,t.bottom)))}(e,n)}function OP(){return"undefined"!=typeof window&&"undefined"!=typeof document}function RP(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function LP(e,t,n){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const NP=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),FP=["top","right","bottom","left"];function VP(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=FP[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function jP(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=NP(n),s="border-box"===r.boxSizing,o=VP(r,"padding"),a=VP(r,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(r,s,e.target))o=r,a=s;else{const e=t.getBoundingClientRect();o=i.clientX-e.left,a=i.clientY-e.top,l=!0}return{x:o,y:a,box:l}}(e,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:p,height:f}=t;return s&&(p-=o.width+a.width,f-=o.height+a.height),{x:Math.round((l-d)/p*n.width/i),y:Math.round((c-h)/f*n.height/i)}}const BP=e=>Math.round(10*e)/10;function UP(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0)}const zP=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function $P(e,t){const n=function(e,t){return NP(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function HP(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function YP(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function WP(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=HP(e,r,n),a=HP(r,s,n),l=HP(s,t,n),c=HP(o,a,n),u=HP(a,l,n);return HP(c,u,n)}function qP(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function GP(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function KP(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function XP(e){return"angle"===e?{between:aM,compare:sM,normalize:oM}:{between:cM,compare:(e,t)=>e-t,normalize:e=>e}}function QP({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n==0,style:r}}function JP(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=XP(i),{start:u,end:d,loop:h,style:p}=function(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=XP(i),l=t.length;let c,u,{start:d,end:h,loop:p}=e;if(p){for(d+=l,h+=l,c=0,u=l;c<u&&o(a(t[d%l][i]),r,s);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:p,style:e.style}}(e,t,n),f=[];let g,m,v,y=!1,b=null;for(let e=u,n=u;e<=d;++e)m=t[e%o],m.skip||(g=c(m[i]),g!==v&&(y=l(g,r,s),null===b&&(y||l(r,v,g)&&0!==a(r,v))&&(b=0===a(g,r)?e:n),null!==b&&(!y||0===a(s,g)||l(s,v,g))&&(f.push(QP({start:b,end:e,loop:h,count:o,style:p})),b=null),n=e,v=g));return null!==b&&f.push(QP({start:b,end:d,loop:h,count:o,style:p})),f}function ZP(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=JP(i[r],e.points,t);s.length&&n.push(...s)}return n}function eO(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function tO(e,t){if(!t)return!1;const n=[],i=function(e,t){return SM(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)}class nO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],s=t.duration;r.forEach((i=>i({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=mM.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var iO=new nO;const rO="transparent",sO={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=TM(e||rO),r=i.valid&&TM(t||rO);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class oO{constructor(e,t,n,i){const r=t[n];i=dP([e.to,i,r,e.from]);const s=dP([e.from,r,i]);this._active=!0,this._fn=e.fn||sO[e.type||typeof s],this._easing=CM[e.easing]||CM.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=dP([e.to,t,i,e.from]),this._from=dP([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||t<n),!this._active)return this._target[i]=o,void this._notify(!0);t<0?this._target[i]=r:(a=t/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let e=0;e<n.length;e++)n[e][t]()}}class aO{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!wA(e))return;const t=Object.keys(BM.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((i=>{const r=e[i];if(!wA(r))return;const s={};for(const e of t)s[e]=r[e];(bA(r.properties)&&r.properties||[i]).forEach((e=>{e!==i&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(n)return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;e.options=t}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let t=0;t<i.length;t++){const r=e[i[t]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let u=r[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,o);continue}u.cancel()}d&&d.duration?(r[l]=u=new oO(d,e,l,c),i.push(u)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(iO.add(this._chart,n),!0):void 0}}function lO(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:i?s:r,end:i?r:s}}function cO(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function uO(e,t,n,i={}){const r=e.keys,s="single"===i.mode;let o,a,l,c;if(null!==t){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=e.values[l],xA(c)&&(s||0===t||KA(t)===KA(c))&&(t+=c)}return t}}function dO(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function hO(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function pO(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function fO(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,o,i),d=t.length;let h;for(let e=0;e<d;++e){const n=t[e],{[l]:s,[c]:d}=n;h=(n._stacks||(n._stacks={}))[c]=hO(r,u,s),h[a]=d,h._top=pO(h,o,!0,i.type),h._bottom=pO(h,o,!1,i.type),(h._visualValues||(h._visualValues={}))[a]=d}}function gO(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function mO(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n],void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[n]&&delete t[i]._visualValues[n]}}}const vO=e=>"reset"===e||"none"===e,yO=(e,t)=>t?e:Object.assign({},e);class bO{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=dO(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&mO(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,r=t.xAxisID=kA(n.xAxisID,gO(e,"x")),s=t.yAxisID=kA(n.yAxisID,gO(e,"y")),o=t.rAxisID=kA(n.rAxisID,gO(e,"r")),a=t.indexAxis,l=t.iAxisID=i(a,r,s,o),c=t.vAxisID=i(a,s,r,o);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&fM(this._data,this),e._stacked&&mO(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(wA(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],n[i]={x:s,y:e[s]};return n}(t);else if(n!==t){if(n){fM(n,this);const e=this._cachedMeta;mO(e),e._parsed=[]}t&&Object.isExtensible(t)&&((i=t)._chartjs?i._chartjs.listeners.push(this):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[this]}}),pM.forEach((e=>{const t="_onData"+NA(e),n=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...e){const r=n.apply(this,e);return i._chartjs.listeners.forEach((n=>{"function"==typeof n[t]&&n[t](...e)})),r}})})))),this._syncList=[],this._data=t}var i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=dO(t.vScale,t),t.stack!==n.stack&&(i=!0,mO(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&fO(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,o=r.axis;let a,l,c,u=0===e&&t===i.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=bA(i[e])?this.parseArrayData(n,i,e,t):wA(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const r=()=>null===l[o]||d&&l[o]<d[o];for(a=0;a<t;++a)n._parsed[a+e]=l=c[a],u&&(r()&&(u=!1),d=l);n._sorted=u}s&&fO(this,c)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:s}=e,o=r.axis,a=s.axis,l=r.getLabels(),c=r===s,u=new Array(i);let d,h,p;for(d=0,h=i;d<h;++d)p=d+n,u[d]={[o]:c||r.parse(l[p],p),[a]:s.parse(t[p],p)};return u}parseArrayData(e,t,n,i){const{xScale:r,yScale:s}=e,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={x:r.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(e,t,n,i){const{xScale:r,yScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+n,h=t[d],l[c]={x:r.parse(LA(h,o),d),y:s.parse(LA(h,a),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,s=t[e.axis];return uO({keys:cO(i,!0),values:t._stacks[e.axis]._visualValues},s,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let s=null===r?NaN:r;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,s=uO(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,s=i.length,o=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:cO(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let d,h;function p(){h=i[d];const t=h[o.axis];return!xA(h[e.axis])||c>t||u<t}for(d=0;d<s&&(p()||(this.updateRangeFromParsed(l,e,h,a),!r));++d);if(r)for(d=s-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(l,e,h,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i][e.axis],xA(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,r;return wA(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(kA(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=lO(e,n),r=lO(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,r,o,a),c=o;c<o+a;++c){const t=i[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,r))}for(c=0;c<s.length;++c)s[c].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,n){return hP(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return hP(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i="active"===t,r=this._cachedDataOpts,s=e+"-"+t,o=r[s],a=this.enableOptionSharing&&FA(n);if(o)return yO(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=i?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(BM.elements[e]),p=l.resolveNamedOptions(d,h,(()=>this.getContext(n,i,t)),u);return p.$shared&&(p.$shared=a,r[s]=Object.freeze(yO(p,a))),p}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,s=`animation-${t}`,o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,t),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(e,n,t))}const l=new aO(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||vO(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:s}}updateElement(e,t,n,i){vO(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!vO(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[e,t,n]of this._syncList)this[e](t,n);this._syncList=[];const i=n.length,r=t.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,n=!0){const i=this._cachedMeta,r=i.data,s=e+t;let o;const a=e=>{for(e.length+=t,o=e.length-1;o>=s;o--)e[o]=e[o-t]};for(a(r),o=e;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&mO(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function wO(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=gM(i.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let i,r,s,o,a=t._length;const l=()=>{32767!==s&&-32768!==s&&(FA(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(i=0,r=n.length;i<r;++i)s=t.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=t.ticks.length;i<r;++i)s=t.getPixelForTick(i),l();return a}function xO(e,t,n,i){return bA(e)?function(e,t,n,i){const r=n.parse(e[0],i),s=n.parse(e[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function _O(e,t,n,i){const r=e.iScale,s=e.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,d,h;for(c=n,u=n+i;c<u;++c)h=t[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push(xO(h,d,s,c));return l}function kO(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function EO(e,t,n,i){let r=t.borderSkipped;const s={};if(!r)return void(e.borderSkipped=s);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(e){let t,n,i,r,s;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:t,top:r,bottom:s}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[CO(u,o,a,l)]=!0,r=c)),s[CO(r,o,a,l)]=!0,e.borderSkipped=s}function CO(e,t,n,i){var r,s,o;return i?(o=n,e=SO(e=(r=e)===(s=t)?o:r===o?s:r,n,t)):e=SO(e,t,n),e}function SO(e,t,n){return"start"===e?t:"end"===e?n:e}function TO(e,{inflateAmount:t},n){e.inflateAmount="auto"===t?1===n?.33:0:t}class DO extends bO{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,i){return _O(e,t,n,i)}parseArrayData(e,t,n,i){return _O(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?o:a,c="x"===s.axis?o:a,u=[];let d,h,p,f;for(d=n,h=n+i;d<h;++d)f=t[d],p={},p[r.axis]=r.parse(LA(f,l),d),u.push(xO(LA(f,c),p,s,d));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),s=r._custom,o=kO(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,i);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=r||yA(t[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),f=(t._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!f||kO(t._custom)||s===f._top||s===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};d&&(g.options=u||this.resolveDataElementOptions(h,e[h].active?"active":i));const m=g.options||e[h].options;EO(g,m,f,s),TO(g,m,c.ratio),this.updateElement(e[h],h,g,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),r=n.options.stacked,s=[],o=e=>{const n=e.controller.getParsed(t),i=n&&n[e.vScale.axis];if(yA(i)||isNaN(i))return!0};for(const n of i)if((void 0===t||!o(n))&&((!1===r||-1===s.indexOf(n.stack)||void 0===r&&void 0===n.stack)&&s.push(n.stack),n.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,s;for(r=0,s=t.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=e.barThickness;return{min:o||wO(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(e),l=a._custom,c=kO(l);let u,d,h=a[t.axis],p=0,f=n?this.applyStack(t,a,n):h;f!==h&&(p=f-h,f=h),c&&(h=l.barStart,f=l.barEnd-l.barStart,0!==h&&KA(h)!==KA(l.barEnd)&&(p=0),p+=h);const g=yA(r)||c?p:r;let m=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):m,d=u-m,Math.abs(d)<s){d=function(e,t,n){return 0!==e?KA(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,o)*s,h===o&&(m-=d/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),l=Math.min(e,r),p=Math.max(e,r);m=Math.max(Math.min(m,p),l),u=m+d,n&&!c&&(a._stacks[t.axis]._visualValues[i]=t.getValueForPixel(u)-t.getValueForPixel(m))}if(m===t.getPixelForValue(o)){const e=KA(d)*t.getLineWidthForValue(o)/2;m+=e,d-=e}return{size:d,base:m,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,s=kA(i.maxBarThickness,1/0);let o,a;if(t.grouped){const n=r?this._getStackCount(e):t.stackCount,l="flex"===i.barThickness?function(e,t,n,i){const r=t.pixels,s=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?t.end-t.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}(e,t,i,n):function(e,t,n,i){const r=n.barThickness;let s,o;return yA(r)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[e]-s/2}}(e,t,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(s,t.min*t.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)null!==this.getParsed(r)[t.axis]&&n[r].draw(this._ctx)}}class IO extends bO{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const s=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,s,o=e=>+n[e];if(wA(n[e])){const{key:e="value"}=this._parsing;o=t=>+LA(n[t],e)}for(r=e,s=e+t;r<s;++r)i._parsed[r]=o(r)}}_getRotation(){return eM(this.options.rotation-90)}_getCircumference(){return eM(this.options.circumference)}_getRotationExtents(){let e=UA,t=-UA;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((c=o,"string"==typeof(l=this.options.cutout)&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:g,offsetY:m}=function(e,t,n){let i=1,r=1,s=0,o=0;if(t<UA){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),p=(e,t,i)=>aM(e,a,l,!0)?1:Math.max(t,t*n,i,i*n),f=(e,t,i)=>aM(e,a,l,!0)?-1:Math.min(t,t*n,i,i*n),g=p(0,c,d),m=p(YA,u,h),v=f(BA,c,d),y=f(BA+YA,u,h);i=(g-v)/2,r=(m-y)/2,s=-(g+v)/2,o=-(m+y)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(h,d,a),v=(n.width-s)/p,y=(n.height-s)/f,b=Math.max(Math.min(v,y)/2,0),w=EA(this.options.radius,b),x=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,i.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/UA)}updateElements(e,t,n,i){const r="reset"===i,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=r&&a.animateScale,d=u?0:this.innerRadius,h=u?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,i);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,r);for(g=t;g<t+n;++g){const t=this._circumference(g,r),n=e[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:h,innerRadius:d};f&&(s.options=p||this.resolveDataElementOptions(g,n.active?"active":i)),m+=t,this.updateElement(n,g,s,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?UA*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=PM(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,s,o,a;if(!e)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),e=s.data,o=s.controller;break}if(!e)return 0;for(i=0,r=e.length;i<r;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(kA(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class AO extends bO{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,s=this.chart._animationsDisabled;let{start:o,count:a}=wM(t,i,s);this._drawStart=o,this._drawCount=a,xM(t)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(i,o,a,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),d=s.axis,h=o.axis,{spanGaps:p,segment:f}=this.options,g=JA(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i,v=t+n,y=e.length;let b=t>0&&this.getParsed(t-1);for(let n=0;n<y;++n){const p=e[n],y=m?p:{};if(n<t||n>=v){y.skip=!0;continue}const w=this.getParsed(n),x=yA(w[h]),_=y[d]=s.getPixelForValue(w[d],n),k=y[h]=r||x?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,w,a):w[h],n);y.skip=isNaN(_)||isNaN(k)||x,y.stop=n>0&&Math.abs(w[d]-b[d])>g,f&&(y.parsed=w,y.raw=l.data[n]),u&&(y.options=c||this.resolveDataElementOptions(n,p.active?"active":i)),m||this.updateElement(p,n,y,i),b=w}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class MO extends bO{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const s=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=PM(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,n,i){return SP.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),s=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,i){const r="reset"===i,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*BA;let d,h=u;const p=360/this.countVisibleElements();for(d=0;d<t;++d)h+=this._computeAngle(d,i,p);for(d=t;d<t+n;d++){const t=e[d];let n=h,f=h+this._computeAngle(d,i,p),g=s.getDataVisibility(d)?a.getDistanceFromCenterForValue(this.getParsed(d).r):0;h=f,r&&(o.animateScale&&(g=0),o.animateRotate&&(n=f=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(d,t.active?"active":i)};this.updateElement(t,d,m,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?eM(this.resolveDataElementOptions(e,t).angle||n):0}}class PO extends IO{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}var OO=Object.freeze({__proto__:null,BarController:DO,BubbleController:class extends bO{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const r=super.parsePrimitiveData(e,t,n,i);for(let e=0;e<r.length;e++)r[e]._custom=this.resolveDataElementOptions(e+n).radius;return r}parseArrayData(e,t,n,i){const r=super.parseArrayData(e,t,n,i);for(let e=0;e<r.length;e++){const i=t[n+e];r[e]._custom=kA(i[2],this.resolveDataElementOptions(e+n).radius)}return r}parseObjectData(e,t,n,i){const r=super.parseObjectData(e,t,n,i);for(let e=0;e<r.length;e++){const i=t[n+e];r[e]._custom=kA(i&&i.r&&+i.r,this.resolveDataElementOptions(e+n).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,s=this.getParsed(e),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:n[e]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,i),c=s.axis,u=o.axis;for(let d=t;d<t+n;d++){const t=e[d],n=!r&&this.getParsed(d),h={},p=h[c]=r?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),f=h[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);h.skip=isNaN(p)||isNaN(f),l&&(h.options=a||this.resolveDataElementOptions(d,t.active?"active":i),r&&(h.options.radius=0)),this.updateElement(t,d,h,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==t&&(i.radius=0),i.radius+=kA(n&&n._custom,r),i}},DoughnutController:IO,LineController:AO,PieController:PO,PolarAreaController:MO,RadarController:class extends bO{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return SP.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===i.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":i),a=r.getPointPositionForValue(o,this.getParsed(o).r),l=s?r.xCenter:a.x,c=s?r.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,o,u,i)}}},ScatterController:class extends bO{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,s=this.getParsed(e),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y);return{label:n[e]||"",value:"("+o+", "+a+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:s}=wM(t,n,i);if(this._drawStart=r,this._drawCount=s,xM(t)&&(r=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:s}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,r,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),d=this.includeOptions(i,u),h=s.axis,p=o.axis,{spanGaps:f,segment:g}=this.options,m=JA(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===i;let y=t>0&&this.getParsed(t-1);for(let c=t;c<t+n;++c){const t=e[c],n=this.getParsed(c),f=v?t:{},b=yA(n[p]),w=f[h]=s.getPixelForValue(n[h],c),x=f[p]=r||b?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[p],c);f.skip=isNaN(w)||isNaN(x)||b,f.stop=c>0&&Math.abs(n[h]-y[h])>m,g&&(f.parsed=n,f.raw=l.data[c]),d&&(f.options=u||this.resolveDataElementOptions(c,t.active?"active":i)),v||this.updateElement(t,c,f,i),y=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,s)/2}}});function RO(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class LO{static override(e){Object.assign(LO.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return RO()}parse(){return RO()}format(){return RO()}add(){return RO()}diff(){return RO()}startOf(){return RO()}endOf(){return RO()}}var NO=LO;function FO(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&o&&s.length){const e=a._reversePixels?hM:dM;if(!i)return e(s,t,n);if(r._sharedOptions){const i=s[0],r="function"==typeof i.getRange&&i.getRange(t);if(r){const i=e(s,t,n-r),o=e(s,t,n+r);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function VO(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let e=0,n=s.length;e<n;++e){const{index:n,data:a}=s[e],{lo:l,hi:c}=FO(s[e],t,o,r);for(let e=l;e<=c;++e){const t=a[e];t.skip||i(t,n,e)}}}function jO(e,t,n,i,r){const s=[];return r||e.isPointInArea(t)?(VO(e,n,t,(function(n,o,a){(r||qM(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s):s}function BO(e,t,n,i,r,s){return s||e.isPointInArea(t)?"r"!==n||i?function(e,t,n,i,r,s){let o=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,s=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return VO(e,n,t,(function(n,c,u){const d=n.inRange(t.x,t.y,r);if(i&&!d)return;const h=n.getCenterPoint(r);if(!s&&!e.isPointInArea(h)&&!d)return;const p=a(t,h);p<l?(o=[{element:n,datasetIndex:c,index:u}],l=p):p===l&&o.push({element:n,datasetIndex:c,index:u})})),o}(e,t,n,i,r,s):function(e,t,n,i){let r=[];return VO(e,n,t,(function(e,n,s){const{startAngle:o,endAngle:a}=e.getProps(["startAngle","endAngle"],i),{angle:l}=iM(e,{x:t.x,y:t.y});aM(l,o,a)&&r.push({element:e,datasetIndex:n,index:s})})),r}(e,t,n,r):[]}function UO(e,t,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return VO(e,n,t,((e,i,l)=>{e[o](t[n],r)&&(s.push({element:e,datasetIndex:i,index:l}),a=a||e.inRange(t.x,t.y,r))})),i&&!a?[]:s}var zO={evaluateInteractionItems:VO,modes:{index(e,t,n,i){const r=jP(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?jO(e,r,s,i,o):BO(e,r,s,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,i){const r=jP(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?jO(e,r,s,i,o):BO(e,r,s,!1,i,o);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,i)=>jO(e,jP(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const r=jP(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return BO(e,r,s,n.intersect,i,o)},x:(e,t,n,i)=>UO(e,jP(t,e),"x",n.intersect,i),y:(e,t,n,i)=>UO(e,jP(t,e),"y",n.intersect,i)}};const $O=["left","top","right","bottom"];function HO(e,t){return e.filter((e=>e.pos===t))}function YO(e,t){return e.filter((e=>-1===$O.indexOf(e.pos)&&e.box.axis===t))}function WO(e,t){return e.sort(((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function qO(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function GO(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function KO(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!wA(r)){n.size&&(e[r]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[r]+=n.size}s.getPadding&&GO(o,s.getPadding());const a=Math.max(0,t.outerWidth-qO(o,e,"left","right")),l=Math.max(0,t.outerHeight-qO(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function XO(e,t){const n=t.maxPadding;return function(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{i[e]=Math.max(t[e],n[e])})),i}(e?["left","right"]:["top","bottom"])}function QO(e,t,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,XO(a.horizontal,t));const{same:o,other:d}=KO(t,n,a,i);c|=o&&r.length,u=u||d,l.fullSize||r.push(a)}return c&&QO(r,t,n,i)||u}function JO(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function ZO(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const e=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=t.w*c,s=l.size||e.height;FA(l.start)&&(o=l.start),e.fullSize?JO(e,r.left,o,n.outerWidth-r.right-r.left,s):JO(e,t.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=e.bottom}else{const i=t.h*c,o=l.size||e.width;FA(l.start)&&(s=l.start),e.fullSize?JO(e,s,r.top,o,n.outerHeight-r.bottom-r.top):JO(e,s,t.top+l.placed,o,i),l.start=s,l.placed+=i,s=e.right}}t.x=s,t.y=o}var eR={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=cP(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=function(e){const t=function(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}(e),n=WO(t.filter((e=>e.box.fullSize)),!0),i=WO(HO(t,"left"),!0),r=WO(HO(t,"right")),s=WO(HO(t,"top"),!0),o=WO(HO(t,"bottom")),a=YO(t,"x"),l=YO(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:HO(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;SA(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},r);GO(h,cP(i));const p=Object.assign({maxPadding:h,w:s,h:o,x:r.left,y:r.top},r),f=function(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!$O.includes(i))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:o&&t.availableHeight)}return n}(l.concat(c),d);QO(a.fullSize,p,d,f),QO(l,p,d,f),QO(c,p,d,f)&&QO(l,p,d,f),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),ZO(a.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,ZO(a.rightAndBottom,p,d,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},SA(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class tR{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class nR extends tR{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const iR="$chartjs",rR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sR=e=>null===e||""===e,oR=!!zP&&{passive:!0};function aR(e,t,n){e.canvas.removeEventListener(t,n,oR)}function lR(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function cR(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||lR(n.addedNodes,i),t=t&&!lR(n.removedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function uR(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||lR(n.removedNodes,i),t=t&&!lR(n.addedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const dR=new Map;let hR=0;function pR(){const e=window.devicePixelRatio;e!==hR&&(hR=e,dR.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function fR(e,t,n){const i=e.canvas,r=i&&RP(i);if(!r)return;const s=vM(((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||s(n,i)}));return o.observe(r),function(e,t){dR.size||window.addEventListener("resize",pR),dR.set(e,t)}(e,s),o}function gR(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){dR.delete(e),dR.size||window.removeEventListener("resize",pR)}(e)}function mR(e,t,n){const i=e.canvas,r=vM((t=>{null!==e.ctx&&n(function(e,t){const n=rR[e.type]||e.type,{x:i,y:r}=jP(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))}),e);return function(e,t,n){e.addEventListener(t,n,oR)}(i,t,r),r}class vR extends tR{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[iR]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",sR(r)){const t=$P(e,"width");void 0!==t&&(e.width=t)}if(sR(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=$P(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[iR])return!1;const n=t[iR].initial;["height","width"].forEach((e=>{const i=n[e];yA(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=n.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t[iR],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:cR,detach:uR,resize:fR}[t]||mR;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];i&&(({attach:gR,detach:gR,resize:gR}[t]||aR)(e,t,i),n[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return function(e,t,n,i){const r=NP(e),s=VP(r,"margin"),o=LP(r.maxWidth,e,"clientWidth")||$A,a=LP(r.maxHeight,e,"clientHeight")||$A,l=function(e,t,n){let i,r;if(void 0===t||void 0===n){const s=RP(e);if(s){const e=s.getBoundingClientRect(),o=NP(s),a=VP(o,"border","width"),l=VP(o,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,i=LP(o.maxWidth,s,"clientWidth"),r=LP(o.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||$A,maxHeight:r||$A}}(e,t,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const e=VP(r,"border","width"),t=VP(r,"padding");c-=t.width+e.width,u-=t.height+e.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=BP(Math.min(c,o,l.maxWidth)),u=BP(Math.min(u,a,l.maxHeight)),c&&!u&&(u=BP(c/2)),(void 0!==t||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=BP(Math.floor(u*i))),{width:c,height:u}}(e,t,n,i)}isAttached(e){const t=RP(e);return!(!t||!t.isConnected)}}class yR{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return JA(this.x)&&JA(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach((e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),i}}function bR(e,t,n,i,r){const s=kA(i,0),o=Math.min(kA(r,e.length),e.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(s+u*n))}const wR=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,xR=(e,t)=>Math.min(t||e,e);function _R(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function kR(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-s,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<s-a||c>o+a)))return c}function ER(e){return e.drawTicks?e.tickLength:0}function CR(e,t){if(!e.display)return 0;const n=uP(e.font,t),i=cP(e.padding);return(bA(e.text)?e.text.length:1)*n.lineHeight+i.height}function SR(e,t,n){let i=yM(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class TR extends yR{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=_A(e,Number.POSITIVE_INFINITY),t=_A(t,Number.NEGATIVE_INFINITY),n=_A(n,Number.POSITIVE_INFINITY),i=_A(i,Number.NEGATIVE_INFINITY),{min:_A(e,n),max:_A(t,i),minDefined:xA(e),maxDefined:xA(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)t=o[a].controller.getMinMax(this,e),r||(n=Math.min(n,t.min)),s||(i=Math.max(i,t.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:_A(n,_A(i,n)),max:_A(i,_A(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){CA(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:i,max:r}=e,s=EA(t,(r-i)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?_R(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function(e,t){const n=e.options.ticks,i=function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return function(e,t,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(t.push(e[r]),s++,o=n[s*i])}(t,c,s,o/r),c;const u=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const s=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(i);for(let e=0,t=s.length-1;e<t;e++){const t=s[e];if(t>r)return t}return Math.max(r,1)}(s,t,r);if(o>0){let e,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(bR(t,c,u,yA(i)?0:a-i,a),e=0,n=o-1;e<n;e++)bR(t,c,u,s[e],s[e+1]);return bR(t,c,u,l,yA(i)?t.length:l+i),c}return bR(t,c,u),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){CA(this.options.afterUpdate,[this])}beforeSetDimensions(){CA(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){CA(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),CA(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){CA(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=CA(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){CA(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){CA(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=xR(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=lM(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:h/(n-1),u+6>s&&(s=h/(n-(e.offset?.5:1)),o=this.maxHeight-ER(e.grid)-t.padding-CR(e.title,this.chart.options.font),a=Math.sqrt(u*u+d*d),l=tM(Math.min(Math.asin(lM((c.highest.height+6)/s,-1,1)),Math.asin(lM(o/a,-1,1))-Math.asin(lM(d/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){CA(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){CA(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=CR(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=ER(r)+s):(e.height=this.maxHeight,e.width=ER(r)+s),n.display&&this.ticks.length){const{first:t,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=eM(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*r.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:c*r.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,i,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;a?l?(u=i*e.width,d=n*t.height):(u=n*e.height,d=i*t.width):"start"===r?d=t.width:"end"===r?u=e.width:"inner"!==r&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((d-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,i=e.height/2;"start"===r?(n=0,i=e.height):"end"===r&&(n=t.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){CA(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)yA(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=_R(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[],a=Math.floor(t/xR(t,n));let l,c,u,d,h,p,f,g,m,v,y,b=0,w=0;for(l=0;l<t;l+=a){if(d=e[l].label,h=this._resolveTickFontOptions(l),i.font=p=h.string,f=r[p]=r[p]||{data:{},gc:[]},g=h.lineHeight,m=v=0,yA(d)||bA(d)){if(bA(d))for(c=0,u=d.length;c<u;++c)y=d[c],yA(y)||bA(y)||(m=UM(i,f.data,f.gc,m,y),v+=g)}else m=UM(i,f.data,f.gc,m,d),v=g;s.push(m),o.push(v),b=Math.max(m,b),w=Math.max(v,w)}!function(e,t){SA(e,(e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}}))}(r,t);const x=s.indexOf(b),_=o.indexOf(w),k=e=>({width:s[e]||0,height:o[e]||0});return{first:k(0),last:k(t-1),widest:k(x),highest:k(_),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return lM(this._alignToPixels?$M(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return hP(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=hP(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=eM(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),s=e.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:o}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=ER(r),d=[],h=o.setContext(this.getContext()),p=h.display?h.width:0,f=p/2,g=function(e){return $M(n,e,p)};let m,v,y,b,w,x,_,k,E,C,S,T;if("top"===s)m=g(this.bottom),x=this.bottom-u,k=m-f,C=g(e.top)+f,T=e.bottom;else if("bottom"===s)m=g(this.top),C=e.top,T=g(e.bottom)-f,x=m+f,k=this.top+u;else if("left"===s)m=g(this.right),w=this.right-u,_=m-f,E=g(e.left)+f,S=e.right;else if("right"===s)m=g(this.left),E=e.left,S=g(e.right)-f,w=m+f,_=this.left+u;else if("x"===t){if("center"===s)m=g((e.top+e.bottom)/2+.5);else if(wA(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}C=e.top,T=e.bottom,x=m+f,k=x+u}else if("y"===t){if("center"===s)m=g((e.left+e.right)/2);else if(wA(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}w=m-f,_=w-u,E=e.left,S=e.right}const D=kA(i.ticks.maxTicksLimit,c),I=Math.max(1,Math.ceil(c/D));for(v=0;v<c;v+=I){const e=this.getContext(v),t=r.setContext(e),i=o.setContext(e),s=t.lineWidth,c=t.color,u=i.dash||[],h=i.dashOffset,p=t.tickWidth,f=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;y=kR(this,v,a),void 0!==y&&(b=$M(n,y,s),l?w=_=E=S=b:x=k=C=T=b,d.push({tx1:w,ty1:x,tx2:_,ty2:k,x1:E,y1:C,x2:S,y2:T,width:s,color:c,borderDash:u,borderDashOffset:h,tickWidth:p,tickColor:f,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,d=ER(n.grid),h=d+c,p=u?-c:h,f=-eM(this.labelRotation),g=[];let m,v,y,b,w,x,_,k,E,C,S,T,D="middle";if("top"===i)x=this.bottom-p,_=this._getXAxisLabelAlignment();else if("bottom"===i)x=this.top+p,_=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,w=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,w=e.x}else if("x"===t){if("center"===i)x=(e.top+e.bottom)/2+h;else if(wA(i)){const e=Object.keys(i)[0],t=i[e];x=this.chart.scales[e].getPixelForValue(t)+h}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)w=(e.left+e.right)/2-h;else if(wA(i)){const e=Object.keys(i)[0],t=i[e];w=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===a?D="top":"end"===a&&(D="bottom"));const I=this._getLabelSizes();for(m=0,v=o.length;m<v;++m){y=o[m],b=y.label;const e=r.setContext(this.getContext(m));k=this.getPixelForTick(m)+r.labelOffset,E=this._resolveTickFontOptions(m),C=E.lineHeight,S=bA(b)?b.length:1;const t=S/2,n=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let d,h=_;if(s?(w=k,"inner"===_&&(h=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),T="top"===i?"near"===l||0!==f?-S*C+C/2:"center"===l?-I.highest.height/2-t*C+C:-I.highest.height+C/2:"near"===l||0!==f?C/2:"center"===l?I.highest.height/2-t*C:I.highest.height-S*C,u&&(T*=-1),0===f||e.showLabelBackdrop||(w+=C/2*Math.sin(f))):(x=k,T=(1-S)*C/2),e.showLabelBackdrop){const t=cP(e.backdropPadding),n=I.heights[m],i=I.widths[m];let r=T-t.top,s=0-t.left;switch(D){case"middle":r-=n/2;break;case"bottom":r-=n}switch(_){case"center":s-=i/2;break;case"right":s-=i}d={left:s,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:b,font:E,textOffset:T,options:{rotation:f,color:n,strokeColor:a,strokeWidth:c,textAlign:h,textBaseline:D,translation:[w,x],backdrop:d}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-eM(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=e+r,o=this._getLabelSizes().widest.width;let a,l;return"left"===t?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===t?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,s;const o=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,s=i.length;r<s;++r){const e=i[r];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=$M(e,this.left,s)-s/2,c=$M(e,this.right,o)+o/2,u=d=a):(u=$M(e,this.top,s)-s/2,d=$M(e,this.bottom,o)+o/2,l=c=a),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&GM(t,n);const i=this.getLabelItems(e);for(const e of i){const n=e.options,i=e.font;eP(t,e.label,0,e.textOffset,i,n)}n&&KM(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=uP(n.font),s=cP(n.padding),o=n.align;let a=r.lineHeight/2;"bottom"===t||"center"===t||wA(t)?(a+=s.bottom,bA(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,p,f=0;const g=o-r,m=a-s;if(e.isHorizontal()){if(h=bM(i,s,a),wA(n)){const e=Object.keys(n)[0],i=n[e];p=u[e].getPixelForValue(i)+g-t}else p="center"===n?(c.bottom+c.top)/2+g-t:wR(e,n,t);d=a-s}else{if(wA(n)){const e=Object.keys(n)[0],i=n[e];h=u[e].getPixelForValue(i)-m+t}else h="center"===n?(c.left+c.right)/2-m+t:wR(e,n,t);p=bM(i,o,r),f="left"===n?-YA:YA}return{titleX:h,titleY:p,maxWidth:d,rotation:f}}(this,a,t,o);eP(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:d,textAlign:SR(o,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=kA(e.grid&&e.grid.z,-1),i=kA(e.border&&e.border.z,0);return this._isVisible()&&this.draw===TR.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=t.length;r<s;++r){const s=t[r];s[n]!==this.id||e&&s.type!==e||i.push(s)}return i}_resolveTickFontOptions(e){return uP(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class DR{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,r=e.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){const i=MA(Object.create(null),[n?BM.get(n):{},BM.get(t),e.defaults]);BM.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");BM.route(s,r,l,a)}))}(t,e.defaultRoutes),e.descriptors&&BM.describe(t,e.descriptors)}(e,s,n),this.override&&BM.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in BM[i]&&(delete BM[i][n],this.override&&delete LM[n])}}class IR{constructor(){this.controllers=new DR(bO,"datasets",!0),this.elements=new DR(yR,"elements"),this.plugins=new DR(Object,"plugins"),this.scales=new DR(TR,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach((t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):SA(t,(t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)}))}))}_exec(e,t,n){const i=NA(e);CA(n["before"+i],[],n),t[e](n),CA(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var AR=new IR;class MR{constructor(){this._init=[]}notify(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===CA(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){yA(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=kA(n.options&&n.options.plugins,{}),r=function(e){const t={},n=[],i=Object.keys(AR.plugins.items);for(let e=0;e<i.length;e++)n.push(AR.getPlugin(i[e]));const r=e.plugins||[];for(let e=0;e<r.length;e++){const i=r[e];-1===n.indexOf(i)&&(n.push(i),t[i.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,{plugins:t,localIds:n},i,r){const s=[],o=e.getContext();for(const a of t){const t=a.id,l=PR(i[t],r);null!==l&&s.push({plugin:a,options:OR(e.config,{plugin:a,local:n[t]},l,o)})}return s}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function PR(e,t){return t||!1!==e?!0===e?{}:e:null}function OR(e,{plugin:t,local:n},i,r){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(i,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function RR(e,t){const n=BM.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function LR(e){if("x"===e||"y"===e||"r"===e)return e}function NR(e,...t){if(LR(e))return e;for(const i of t){const t=i.axis||("top"===(n=i.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.length>1&&LR(e[0].toLowerCase());if(t)return t}var n;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function FR(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function VR(e){const t=e.options||(e.options={});t.plugins=kA(t.plugins,{}),t.scales=function(e,t){const n=LM[e.type]||{scales:{}},i=t.scales||{},r=RR(e.type,t),s=Object.create(null);return Object.keys(i).forEach((t=>{const o=i[t];if(!wA(o))return console.error(`Invalid scale configuration for scale: ${t}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=NR(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return FR(e,"x",n[0])||FR(e,"y",n[0])}return{}}(t,e),BM.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,r),c=n.scales||{};s[t]=PA(Object.create(null),[{axis:a},o,c[a],c[l]])})),e.data.datasets.forEach((n=>{const r=n.type||e.type,o=n.indexAxis||RR(r,t),a=(LM[r]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),r=n[t+"AxisID"]||t;s[r]=s[r]||Object.create(null),PA(s[r],[{axis:t},i[r],a[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];PA(t,[BM.scales[t.type],BM.scale])})),s}(e,t)}function jR(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const BR=new Map,UR=new Set;function zR(e,t){let n=BR.get(e);return n||(n=t(),BR.set(e,n),UR.add(n)),n}const $R=(e,t,n)=>{const i=LA(t,n);void 0!==i&&e.add(i)};class HR{constructor(e){this._config=function(e){return(e=e||{}).data=jR(e.data),VR(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=jR(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),VR(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return zR(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return zR(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return zR(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return zR(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,s=this._cachedScopes(e,n),o=s.get(t);if(o)return o;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>$R(a,e,t)))),t.forEach((e=>$R(a,i,e))),t.forEach((e=>$R(a,LM[r]||{},e))),t.forEach((e=>$R(a,BM,e))),t.forEach((e=>$R(a,NM,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),UR.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,LM[t]||{},BM.datasets[t]||{},{type:t},BM,NM]}resolveNamedOptions(e,t,n,i=[""]){const r={$shared:!0},{resolver:s,subPrefixes:o}=YR(this._resolverCache,e,i);let a=s;(function(e,t){const{isScriptable:n,isIndexable:i}=gP(e);for(const r of t){const t=n(r),s=i(r),o=(s||t)&&e[r];if(t&&(VA(o)||WR(o))||s&&bA(o))return!0}return!1})(s,t)&&(r.$shared=!1,a=fP(s,n=VA(n)?n():n,this.createResolver(e,n,o)));for(const e of t)r[e]=a[e];return r}createResolver(e,t,n=[""],i){const{resolver:r}=YR(this._resolverCache,e,n);return wA(t)?fP(r,t,void 0,i):r}}function YR(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);return s||(s={resolver:pP(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},i.set(r,s)),s}const WR=e=>wA(e)&&Object.getOwnPropertyNames(e).reduce(((t,n)=>t||VA(e[n])),!1),qR=["top","bottom","left","right","chartArea"];function GR(e,t){return"top"===e||"bottom"===e||-1===qR.indexOf(e)&&"x"===t}function KR(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function XR(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),CA(n&&n.onComplete,[e],t)}function QR(e){const t=e.chart,n=t.options.animation;CA(n&&n.onProgress,[e],t)}function JR(e){return OP()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ZR={},eL=e=>{const t=JR(e);return Object.values(ZR).filter((e=>e.canvas===t)).pop()};function tL(e,t,n){const i=Object.keys(e);for(const r of i){const i=+r;if(i>=t){const s=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=s)}}}function nL(e,t,n){return e.options.clip?e[n]:t[n]}class iL{static defaults=BM;static instances=ZR;static overrides=LM;static registry=AR;static version="4.4.0";static getChart=eL;static register(...e){AR.add(...e),rL()}static unregister(...e){AR.remove(...e),rL()}constructor(e,t){const n=this.config=new HR(t),i=JR(e),r=eL(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!OP()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?nR:vR}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=vA(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new MR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],ZR[this.id]=this,o&&a?(iO.listen(this,"complete",XR),iO.listen(this,"progress",QR),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return yA(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return AR}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():UP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return HM(this.canvas,this.ctx),this}stop(){return iO.stop(this),this}resize(e,t){iO.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,t,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,UP(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),CA(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){SA(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let r=[];t&&(r=r.concat(Object.keys(t).map((e=>{const n=t[e],i=NR(e,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),SA(r,(t=>{const r=t.options,s=r.id,o=NR(s,r),a=kA(r.type,t.dtype);void 0!==r.position&&GR(r.position,o)===GR(t.dposition)||(r.position=t.dposition),i[s]=!0;let l=null;s in n&&n[s].type===a?l=n[s]:(l=new(AR.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l),l.init(r,e)})),SA(i,((e,t)=>{e||delete n[t]})),SA(n,(e=>{eR.configure(this,e,e.options),eR.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(KR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||RR(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const t=AR.getController(s),{datasetElementType:i,dataElementType:o}=BM.datasets[s];Object.assign(t,{dataElementType:AR.getElement(o),datasetElementType:i&&AR.getElement(i)}),r.controller=new t(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){SA(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),n=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(n),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||SA(r,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(KR("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){SA(this.scales,(e=>{eR.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);jA(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t)tL(e,i,"_removeElements"===n?-r:r)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),i=n(0);for(let e=1;e<t;e++)if(!jA(i,n(e)))return;return Array.from(i).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;eR.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],SA(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,VA(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(iO.has(this)?this.attached&&!iO.running(this)&&iO.start(this):(this.draw(),XR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,r=function(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:nL(n,t,"left"),right:nL(n,t,"right"),top:nL(i,t,"top"),bottom:nL(i,t,"bottom")}:t}(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&GM(t,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&KM(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return qM(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=zO.modes[t];return"function"==typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter((e=>e&&e._dataset===t)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=hP(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),s=r.controller._resolveAnimations(void 0,i);FA(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(r,{visible:n}),this.update((t=>t.datasetIndex===e?i:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),iO.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),HM(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ZR[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};SA(this.options.events,(e=>n(e,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():s()}unbindEvents(){SA(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},SA(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){s=e[o];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}}));!TA(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=r(t,e),o=n?e:r(e,t);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,s=t,o=this._getActiveElements(e,i,n,s),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,CA(r.onHover,[e,o,this],this),a&&CA(r.onClick,[e,o,this],this));const c=!TA(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function rL(){return SA(iL.instances,(e=>e._plugins.invalidate()))}function sL(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function oL(e,t,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+i+n-c,0),h=u>0?u+i+n+c:0;let p=0;const f=r-l;if(i){const e=((u>0?u-i:0)+(d>0?d-i:0))/2;p=(f-(0!==e?f*e/(e+i):f))/2}const g=(f-Math.max(.001,f*d-n/BA)/d)/2,m=l+g+p,v=r-g-p,{outerStart:y,outerEnd:b,innerStart:w,innerEnd:x}=function(e,t,n,i){const r=oP(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),s=(n-t)/2,o=Math.min(s,i*t/2),a=e=>{const t=(n-Math.min(s,e))*i/2;return lM(e,0,Math.min(s,t))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:lM(r.innerStart,0,o),innerEnd:lM(r.innerEnd,0,o)}}(t,h,d,v-m),_=d-y,k=d-b,E=m+y/_,C=v-b/k,S=h+w,T=h+x,D=m+w/S,I=v-x/T;if(e.beginPath(),s){const t=(E+C)/2;if(e.arc(o,a,d,E,t),e.arc(o,a,d,t,C),b>0){const t=sL(k,C,o,a);e.arc(t.x,t.y,b,C,v+YA)}const n=sL(T,v,o,a);if(e.lineTo(n.x,n.y),x>0){const t=sL(T,I,o,a);e.arc(t.x,t.y,x,v+YA,I+Math.PI)}const i=(v-x/h+(m+w/h))/2;if(e.arc(o,a,h,v-x/h,i,!0),e.arc(o,a,h,i,m+w/h,!0),w>0){const t=sL(S,D,o,a);e.arc(t.x,t.y,w,D+Math.PI,m-YA)}const r=sL(_,m,o,a);if(e.lineTo(r.x,r.y),y>0){const t=sL(_,E,o,a);e.arc(t.x,t.y,y,m-YA,E)}}else{e.moveTo(o,a);const t=Math.cos(E)*d+o,n=Math.sin(E)*d+a;e.lineTo(t,n);const i=Math.cos(C)*d+o,r=Math.sin(C)*d+a;e.lineTo(i,r)}e.closePath()}function aL(e,t,n=t){e.lineCap=kA(n.borderCapStyle,t.borderCapStyle),e.setLineDash(kA(n.borderDash,t.borderDash)),e.lineDashOffset=kA(n.borderDashOffset,t.borderDashOffset),e.lineJoin=kA(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=kA(n.borderWidth,t.borderWidth),e.strokeStyle=kA(n.borderColor,t.borderColor)}function lL(e,t,n){e.lineTo(n.x,n.y)}function cL(e,t,n={}){const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function uL(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:c}=cL(r,n,i),u=function(e){return e.stepped?XM:e.tension||"monotone"===e.cubicInterpolationMode?QM:lL}(s);let d,h,p,{move:f=!0,reverse:g}=i||{};for(d=0;d<=c;++d)h=r[(a+(g?c-d:d))%o],h.skip||(f?(e.moveTo(h.x,h.y),f=!1):u(e,p,h,g,s.stepped),p=h);return l&&(h=r[(a+(g?c:0))%o],u(e,p,h,g,s.stepped)),!!l}function dL(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=cL(r,n,i),{move:l=!0,reverse:c}=i||{};let u,d,h,p,f,g,m=0,v=0;const y=e=>(o+(c?a-e:e))%s,b=()=>{p!==f&&(e.lineTo(m,f),e.lineTo(m,p),e.lineTo(m,g))};for(l&&(d=r[y(0)],e.moveTo(d.x,d.y)),u=0;u<=a;++u){if(d=r[y(u)],d.skip)continue;const t=d.x,n=d.y,i=0|t;i===h?(n<p?p=n:n>f&&(f=n),m=(v*m+t)/++v):(b(),e.lineTo(t,n),h=i,v=0,p=f=n),g=n}b()}function hL(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n?uL:dL}const pL="function"==typeof Path2D;class fL extends yR{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;PP(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=function(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}(n,r,s,i);return function(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=e._chart.getContext(),s=eO(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=s,d=t[0].start,h=d;function p(e,t,i,r){const s=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:i,style:r}),u=r,d=t%l)}}for(const e of t){d=a?d:e.start;let t,s=n[d%l];for(h=d+1;h<=e.end;h++){const a=n[h%l];t=eO(i.setContext(hP(r,{type:"segment",p0:s,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),tO(t,u)&&p(d,h-1,e.loop,u),s=a,u=t}d<h-1&&p(d,h-1,e.loop,u)}return c}(e,t,n,i):t}(e,!0===i?[{start:o,end:a,loop:s}]:function(e,t,n,i){const r=e.length,s=[];let o,a=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:t%r,end:(o-1)%r,loop:i}),t=a=n.stop?o:null):(a=o,l.skip&&(t=o)),l=n}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(n,o,a<o?a+r:a,!!e._fullLoop&&0===o&&a===r-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,s=ZP(this,{property:t,start:i,end:i});if(!s.length)return;const o=[],a=function(e){return e.stepped?YP:e.tension||"monotone"===e.cubicInterpolationMode?WP:HP}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],d=r[c],h=r[u];if(d===h){o.push(d);continue}const p=a(d,h,Math.abs((i-d[t])/(h[t]-d[t])),n.stepped);p[t]=e[t],o.push(p)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return hL(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=hL(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)s&=r(e,this,o,{start:t,end:t+n-1});return!!s}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),function(e,t,n,i){pL&&!t.options.segment?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),aL(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:s}=t,o=hL(t);for(const a of r)aL(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function gL(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}function mL(e,t){const{x:n,y:i,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,d;return e.horizontal?(d=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=s/2,a=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function vL(e,t,n,i){return e?0:lM(t,n,i)}function yL(e,t,n,i){const r=null===t,s=null===n,o=e&&!(r&&s)&&mL(e,i);return o&&(r||cM(t,o.left,o.right))&&(s||cM(n,o.top,o.bottom))}function bL(e,t){e.rect(t.x,t.y,t.w,t.h)}function wL(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+s,h:e.h+o,radius:e.radius}}var xL=Object.freeze({__proto__:null,ArcElement:class extends yR{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=iM(i,{x:e,y:t}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,h=kA(u,a-o)>=UA||aM(r,o,a),p=cM(s,l+d,c+d);return h&&p}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(s+o+l+a)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,r=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>UA?Math.floor(n/UA):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*i,Math.sin(o)*i);const a=i*(1-Math.sin(Math.min(BA,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){oL(e,t,n,i,l,r);for(let t=0;t<s;++t)e.fill();isNaN(a)||(l=o+(a%UA||UA))}oL(e,t,n,i,l,r),e.fill()}(e,this,a,r,s),function(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let f=t.endAngle;if(s){oL(e,t,n,i,f,r);for(let t=0;t<s;++t)e.stroke();isNaN(a)||(f=o+(a%UA||UA))}p&&function(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=r/a;e.beginPath(),e.arc(s,o,a,i-c,n+c),l>r?(c=r/l,e.arc(s,o,l,n+c,i-c,!0)):e.arc(s,o,r,n+YA,i-YA),e.closePath(),e.clip()}(e,t,f),s||(oL(e,t,n,i,f,r),e.stroke())}(e,this,a,r,s),e.restore()}},BarElement:class extends yR{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=function(e){const t=mL(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,s=aP(i);return{t:vL(r.top,s.top,0,n),r:vL(r.right,s.right,0,t),b:vL(r.bottom,s.bottom,0,n),l:vL(r.left,s.left,0,t)}}(e,n/2,i/2),s=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=lP(r),o=Math.min(t,n),a=e.borderSkipped,l=i||wA(r);return{topLeft:vL(!l||a.top||a.left,s.topLeft,0,o),topRight:vL(!l||a.top||a.right,s.topRight,0,o),bottomLeft:vL(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:vL(!l||a.bottom||a.right,s.bottomRight,0,o)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?tP:bL;var a;e.save(),s.w===r.w&&s.h===r.h||(e.beginPath(),o(e,wL(s,t,r)),e.clip(),o(e,wL(r,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,wL(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return yL(this,e,t,n)}inXRange(e,t){return yL(this,e,null,t)}inYRange(e,t){return yL(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},LineElement:fL,PointElement:class extends yR{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return gL(this,e,"x",t)}inYRange(e,t){return gL(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!qM(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,YM(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}});const _L=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],kL=_L.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function EL(e){return _L[e%_L.length]}function CL(e){return kL[e%kL.length]}function SL(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var TL={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=e.config,{elements:s}=r;if(!n.forceOverride&&(SL(i)||(o=r)&&(o.borderColor||o.backgroundColor)||s&&SL(s)))return;var o;const a=function(e){let t=0;return(n,i)=>{const r=e.getDatasetMeta(i).controller;r instanceof IO?t=function(e,t){return e.backgroundColor=e.data.map((()=>EL(t++))),t}(n,t):r instanceof MO?t=function(e,t){return e.backgroundColor=e.data.map((()=>CL(t++))),t}(n,t):r&&(t=function(e,t){return e.borderColor=EL(t),e.backgroundColor=CL(t),++t}(n,t))}}(e);i.forEach(a)}};function DL(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function IL(e){e.data.datasets.forEach((e=>{DL(e)}))}var AL={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void IL(e);const i=e.width;e.data.datasets.forEach(((t,r)=>{const{_data:s,indexAxis:o}=t,a=e.getDatasetMeta(r),l=s||t.data;if("y"===dP([o,e.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const c=e.scales[a.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let u,{start:d,count:h}=function(e,t){const n=t.length;let i,r=0;const{iScale:s}=e,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=lM(dM(t,s.axis,o).lo,0,n-1)),i=c?lM(dM(t,s.axis,a).hi+1,r,n)-r:n-r,{start:r,count:i}}(a,l);if(h<=(n.threshold||4*i))DL(t);else{switch(yA(s)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":u=function(e,t,n,i,r){const s=r.samples||i;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let l=0;const c=t+n-1;let u,d,h,p,f,g=t;for(o[l++]=e[g],u=0;u<s-2;u++){let i,r=0,s=0;const c=Math.floor((u+1)*a)+1+t,m=Math.min(Math.floor((u+2)*a)+1,n)+t,v=m-c;for(i=c;i<m;i++)r+=e[i].x,s+=e[i].y;r/=v,s/=v;const y=Math.floor(u*a)+1+t,b=Math.min(Math.floor((u+1)*a)+1,n)+t,{x:w,y:x}=e[g];for(h=p=-1,i=y;i<b;i++)p=.5*Math.abs((w-r)*(e[i].y-x)-(w-e[i].x)*(s-x)),p>h&&(h=p,d=e[i],f=i);o[l++]=d,g=f}return o[l++]=e[c],o}(l,d,h,i,n);break;case"min-max":u=function(e,t,n,i){let r,s,o,a,l,c,u,d,h,p,f=0,g=0;const m=[],v=t+n-1,y=e[t].x,b=e[v].x-y;for(r=t;r<t+n;++r){s=e[r],o=(s.x-y)/b*i,a=s.y;const t=0|o;if(t===l)a<h?(h=a,c=r):a>p&&(p=a,u=r),f=(g*f+s.x)/++g;else{const n=r-1;if(!yA(c)&&!yA(u)){const t=Math.min(c,u),i=Math.max(c,u);t!==d&&t!==n&&m.push({...e[t],x:f}),i!==d&&i!==n&&m.push({...e[i],x:f})}r>0&&n!==d&&m.push(e[n]),m.push(s),l=t,g=0,h=p=a,c=u=d=r}}return m}(l,d,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}t._decimated=u}}))},destroy(e){IL(e)}};function ML(e,t,n,i){if(i)return;let r=t[e],s=n[e];return"angle"===e&&(r=oM(r),s=oM(s)),{property:e,start:r,end:s}}function PL(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function OL(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function RL(e,t){let n=[],i=!1;return bA(e)?(i=!0,n=e):n=function(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,s=[];return t.segments.forEach((({start:e,end:t})=>{t=PL(e,t,r);const o=r[e],a=r[t];null!==i?(s.push({x:o.x,y:i}),s.push({x:a.x,y:i})):null!==n&&(s.push({x:n,y:o.y}),s.push({x:n,y:a.y}))})),s}(e,t),n.length?new fL({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function LL(e){return e&&!1!==e.fill}function NL(e,t,n){let i=e[t].fill;const r=[t];let s;if(!n)return i;for(;!1!==i&&-1===r.indexOf(i);){if(!xA(i))return i;if(s=e[i],!s)return!1;if(s.visible)return i;r.push(i),i=s.fill}return!1}function FL(e,t,n){const i=function(e){const t=e.options,n=t.fill;let i=kA(n&&n.target,n);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(e);if(wA(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return xA(r)&&Math.floor(r)===r?function(e,t,n,i){return"-"!==e&&"+"!==e||(n=t+n),!(n===t||n<0||n>=i)&&n}(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function VL(e,t,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=jL(s,t,"x");if(!(!l||o&&a))if(o)i.unshift(l);else if(e.push(l),!a)break}e.push(...i)}function jL(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let e=0;e<s.length;e++){const t=s[e],i=o[t.start][n],c=o[t.end][n];if(cM(r,i,c)){a=r===i,l=r===c;break}}return{first:a,last:l,point:i}}class BL{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:r,radius:s}=this;return t=t||{start:0,end:UA},e.arc(i,r,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function UL(e,t,n){const i=function(e){const{chart:t,fill:n,line:i}=e;if(xA(n))return function(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:i}=e,r=[],s=i.segments,o=i.points,a=function(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let e=0;e<i.length;e++){const r=i[e];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}(t,n);a.push(RL({x:null,y:t.bottom},i));for(let e=0;e<s.length;e++){const t=s[e];for(let e=t.start;e<=t.end;e++)VL(r,o[e],a)}return new fL({points:r,options:{}})}(e);if("shape"===n)return!0;const r=function(e){return(e.scale||{}).getPointPositionForValue?function(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=function(e,t,n){let i;return i="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:wA(e)?e.value:t.getBaseValue(),i}(n,t,s),a=[];if(i.grid.circular){const e=t.getPointPositionForValue(0,s);return new BL({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let e=0;e<r;++e)a.push(t.getPointPositionForValue(e,o));return a}(e):function(e){const{scale:t={},fill:n}=e,i=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:wA(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(xA(i)){const e=t.isHorizontal();return{x:e?i:null,y:e?null:i}}return null}(e)}(e);return r instanceof BL?r:RL(r,i)}(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&r.points.length&&(GM(e,n),function(e,t){const{line:n,target:i,above:r,below:s,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&s!==r&&(zL(e,i,o.top),$L(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore(),e.save(),zL(e,i,o.bottom)),$L(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore()}(e,{line:r,target:i,above:u,below:d,area:n,scale:s,axis:o}),KM(e))}function zL(e,t,n){const{segments:i,points:r}=t;let s=!0,o=!1;e.beginPath();for(const a of i){const{start:i,end:l}=a,c=r[i],u=r[PL(i,l,r)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function $L(e,t){const{line:n,target:i,property:r,color:s,scale:o}=t,a=function(e,t,n){const i=e.segments,r=e.points,s=t.points,o=[];for(const e of i){let{start:i,end:a}=e;a=PL(i,a,r);const l=ML(n,r[i],r[a],e.loop);if(!t.segments){o.push({source:e,target:l,start:r[i],end:r[a]});continue}const c=ZP(t,l);for(const t of c){const i=ML(n,s[t.start],s[t.end],t.loop),a=JP(e,r,i);for(const e of a)o.push({source:e,target:t,start:{[n]:OL(l,i,"start",Math.max)},end:{[n]:OL(l,i,"end",Math.min)}})}}return o}(n,i,r);for(const{source:t,target:l,start:c,end:u}of a){const{style:{backgroundColor:a=s}={}}=t,d=!0!==i;e.save(),e.fillStyle=a,HL(e,o,d&&ML(r,c,u)),e.beginPath();const h=!!n.pathSegment(e,t);let p;if(d){h?e.closePath():YL(e,i,u,r);const t=!!i.pathSegment(e,l,{move:h,reverse:!0});p=h&&t,p||YL(e,i,c,r)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function HL(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(e.beginPath(),e.rect(o,i,a-o,r-i),e.clip())}function YL(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var WL={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof fL&&(l={visible:e.isDatasetVisible(o),index:o,fill:FL(a,o,i),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],l&&!1!==l.fill&&(l.fill=NL(r,o,n.propagate))},beforeDraw(e,t,n){const i="beforeDraw"===n.drawTime,r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let t=r.length-1;t>=0;--t){const n=r[t].$filler;n&&(n.line.updateControlPoints(s,n.axis),i&&n.fill&&UL(e.ctx,n,s))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let t=i.length-1;t>=0;--t){const n=i[t].$filler;LL(n)&&UL(e.ctx,n,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;LL(i)&&"beforeDatasetDraw"===n.drawTime&&UL(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qL=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class GL extends yR{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=CA(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=uP(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=qL(n,r);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,r,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,i,o,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=e;r.textAlign="left",r.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach(((e,p)=>{const f=n+t/2+r.measureText(e.text).width;(0===p||l[l.length-1]+f+2*o>s)&&(u+=c,l[l.length-(p>0?0:1)]=0,h+=c,d++),a[p]={left:0,top:h,row:d,width:f,height:i},l[l.length-1]+=f+o})),u}_fitCols(e,t,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let u=o,d=0,h=0,p=0,f=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:g,itemHeight:m}=function(e,t,n,i,r){const s=function(e,t,n,i){let r=e.text;return r&&"string"!=typeof r&&(r=r.reduce(((e,t)=>e.length>t.length?e:t))),t+n.size/2+i.measureText(r).width}(i,e,t,n),o=function(e,t,n){let i=e;return"string"!=typeof t.text&&(i=KL(t,n)),i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}(n,t,r,e,i);s>0&&h+m+2*o>c&&(u+=d+o,l.push({width:d,height:h}),p+=d+o,f++,d=h=0),a[s]={left:p,top:h,col:f,width:g,height:m},d=Math.max(d,g),h+=m+o})),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,s=qP(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=bM(n,this.left+i,this.right-this.lineWidths[r]);for(const a of t)r!==a.row&&(r=a.row,o=bM(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+e+i,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+i}else{let r=0,o=bM(n,this.top+e+i,this.bottom-this.columnSizes[r].height);for(const a of t)a.col!==r&&(r=a.col,o=bM(n,this.top+e+i,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+i,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;GM(e,this),this._draw(),KM(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:s}=e,o=BM.color,a=qP(e.rtl,this.left,this.width),l=uP(s.font),{padding:c}=s,u=l.size,d=u/2;let h;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:g}=qL(s,u),m=this.isHorizontal(),v=this._computeTitleHeight();h=m?{x:bM(r,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:bM(r,this.top+v+c,this.bottom-t[0].height),line:0},GP(this.ctx,e.textDirection);const y=g+c;this.legendItems.forEach(((b,w)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;const x=i.measureText(b.text).width,_=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),k=p+d+x;let E=h.x,C=h.y;if(a.setWidth(this.width),m?w>0&&E+k+c>this.right&&(C=h.y+=y,h.line++,E=h.x=bM(r,this.left+c,this.right-n[h.line])):w>0&&C+y>this.bottom&&(E=h.x=E+t[h.line].width+c,h.line++,C=h.y=bM(r,this.top+v+c,this.bottom-t[h.line].height)),function(e,t,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;i.save();const r=kA(n.lineWidth,1);if(i.fillStyle=kA(n.fillStyle,o),i.lineCap=kA(n.lineCap,"butt"),i.lineDashOffset=kA(n.lineDashOffset,0),i.lineJoin=kA(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=kA(n.strokeStyle,o),i.setLineDash(kA(n.lineDash,[])),s.usePointStyle){const o={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(e,p/2);WM(i,o,l,t+d,s.pointStyleWidth&&p)}else{const s=t+Math.max((u-f)/2,0),o=a.leftForLtr(e,p),l=lP(n.borderRadius);i.beginPath(),Object.values(l).some((e=>0!==e))?tP(i,{x:o,y:s,w:p,h:f,radius:l}):i.rect(o,s,p,f),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(E),C,b),E=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(_,E+p+d,m?E+k:this.right,e.rtl),function(e,t,n){eP(i,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(E),C,b),m)h.x+=k+c;else if("string"!=typeof b.text){const e=l.lineHeight;h.y+=KL(b,e)+c}else h.y+=y})),KP(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=uP(t.font),i=cP(t.padding);if(!t.display)return;const r=qP(e.rtl,this.left,this.width),s=this.ctx,o=t.position,a=n.size/2,l=i.top+a;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=bM(e.align,u,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+bM(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=bM(o,u,u+d);s.textAlign=r.textAlign(yM(o)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,eP(s,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=uP(e.font),n=cP(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(cM(e,this.left,this.right)&&cM(t,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],cM(e,i.left,i.left+i.width)&&cM(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,r=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(i,n);i&&!r&&CA(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&CA(t.onHover,[e,n,this],this)}else n&&CA(t.onClick,[e,n,this],this)}}function KL(e,t){return t*(e.text?e.text.length:0)}var XL={id:"legend",_element:GL,start(e,t,n){const i=e.legend=new GL({ctx:e.ctx,options:n,chart:e});eR.configure(e,i,n),eR.addBox(e,i)},stop(e){eR.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;eR.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=cP(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class QL extends yR{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=bA(n.text)?n.text.length:1;this._padding=cP(n.padding);const r=i*uP(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:i,right:r,options:s}=this,o=s.align;let a,l,c,u=0;return this.isHorizontal()?(l=bM(o,n,r),c=t+e,a=r-n):("left"===s.position?(l=n+e,c=bM(o,i,t),u=-.5*BA):(l=r-e,c=bM(o,t,i),u=.5*BA),a=i-t),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=uP(t.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(i);eP(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:a,textAlign:yM(t.align),textBaseline:"middle",translation:[r,s]})}}var JL={id:"title",_element:QL,start(e,t,n){!function(e,t){const n=new QL({ctx:e.ctx,options:t,chart:e});eR.configure(e,n,t),eR.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;eR.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;eR.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ZL=new WeakMap;var eN={id:"subtitle",start(e,t,n){const i=new QL({ctx:e.ctx,options:n,chart:e});eR.configure(e,i,n),eR.addBox(e,i),ZL.set(e,i)},stop(e){eR.removeBox(e,ZL.get(e)),ZL.delete(e)},beforeUpdate(e,t,n){const i=ZL.get(e);eR.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const tN={average(e){if(!e.length)return!1;let t,n,i=0,r=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i+=e.x,r+=e.y,++s}}return{x:i/s,y:r/s}},nearest(e,t){if(!e.length)return!1;let n,i,r,s=t.x,o=t.y,a=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=rM(t,i.getCenterPoint());e<a&&(a=e,r=i)}}if(r){const e=r.tooltipPosition();s=e.x,o=e.y}return{x:s,y:o}}};function nN(e,t){return t&&(bA(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function iN(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function rN(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function sN(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=uP(t.bodyFont),c=uP(t.titleFont),u=uP(t.footerFont),d=s.length,h=r.length,p=i.length,f=cP(t.padding);let g=f.height,m=0,v=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);v+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v&&(g+=p*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-p)*l.lineHeight+(v-1)*t.bodySpacing),h&&(g+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let y=0;const b=function(e){m=Math.max(m,n.measureText(e).width+y)};return n.save(),n.font=c.string,SA(e.title,b),n.font=l.string,SA(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?o+2+t.boxPadding:0,SA(i,(e=>{SA(e.before,b),SA(e.lines,b),SA(e.after,b)})),y=0,n.font=u.string,SA(e.footer,b),n.restore(),m+=f.width,{width:m,height:g}}function oN(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),function(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===e&&r+s+o>t.width||"right"===e&&r-s-o<0||void 0}(c,e,t,n)&&(c="center"),c}function aN(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||oN(e,t,n,i),yAlign:i}}function lN(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=lP(o);let f=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,a);const g=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,c);return"center"===l?"left"===a?f+=c:"right"===a&&(f-=c):"left"===a?f-=Math.max(u,h)+r:"right"===a&&(f+=Math.max(d,p)+r),{x:lM(f,0,i.width-t.width),y:lM(g,0,i.height-t.height)}}function cN(e,t,n){const i=cP(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function uN(e){return nN([],iN(e))}function dN(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const hN={beforeTitle:mA,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:mA,beforeBody:mA,beforeLabel:mA,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return yA(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:mA,afterBody:mA,beforeFooter:mA,footer:mA,afterFooter:mA};function pN(e,t,n,i){const r=e[t].call(n,i);return void 0===r?hN[t].call(n,i):r}class fN extends yR{static positioners=tN;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new aO(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=hP(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(e,t){const{callbacks:n}=t,i=pN(n,"beforeTitle",this,e),r=pN(n,"title",this,e),s=pN(n,"afterTitle",this,e);let o=[];return o=nN(o,iN(i)),o=nN(o,iN(r)),o=nN(o,iN(s)),o}getBeforeBody(e,t){return uN(pN(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return SA(e,(e=>{const t={before:[],lines:[],after:[]},r=dN(n,e);nN(t.before,iN(pN(r,"beforeLabel",this,e))),nN(t.lines,pN(r,"label",this,e)),nN(t.after,iN(pN(r,"afterLabel",this,e))),i.push(t)})),i}getAfterBody(e,t){return uN(pN(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=pN(n,"beforeFooter",this,e),r=pN(n,"footer",this,e),s=pN(n,"afterFooter",this,e);let o=[];return o=nN(o,iN(i)),o=nN(o,iN(r)),o=nN(o,iN(s)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=t.length;o<a;++o)l.push(rN(this.chart,t[o]));return e.filter&&(l=l.filter(((t,i,r)=>e.filter(t,i,r,n)))),e.itemSort&&(l=l.sort(((t,i)=>e.itemSort(t,i,n)))),SA(l,(t=>{const n=dN(e.callbacks,t);i.push(pN(n,"labelColor",this,t)),r.push(pN(n,"labelPointStyle",this,t)),s.push(pN(n,"labelTextColor",this,t))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const e=tN[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=sN(this,n),o=Object.assign({},e,t),a=aN(this.chart,n,o),l=lN(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=lP(o),{x:d,y:h}=e,{width:p,height:f}=t;let g,m,v,y,b,w;return"center"===r?(b=h+f/2,"left"===i?(g=d,m=g-s,y=b+s,w=b-s):(g=d+p,m=g+s,y=b-s,w=b+s),v=g):(m="left"===i?d+Math.max(a,c)+s:"right"===i?d+p-Math.max(l,u)-s:this.caretX,"top"===r?(y=h,b=y-s,g=m-s,v=m+s):(y=h+f,b=y+s,g=m+s,v=m-s),w=y),{x1:g,x2:m,x3:v,y1:y,y2:b,y3:w}}drawTitle(e,t,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=qP(n.rtl,this.x,this.width);for(e.x=cN(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=uP(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,a=0;a<r;++a)t.fillText(i[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,a+1===r&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,c=uP(r.bodyFont),u=cN(this,"left",r),d=i.x(u),h=a<c.lineHeight?(c.lineHeight-a)/2:0,p=t.y+h;if(r.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(d,l)+l/2,c=p+a/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,YM(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,YM(e,t,n,c)}else{e.lineWidth=wA(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=i.leftForLtr(d,l),n=i.leftForLtr(i.xPlus(d,1),l-2),o=lP(s.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,tP(e,{x:t,y:p,w:l,h:a,radius:o}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),tP(e,{x:n,y:p+1,w:l-2,h:a-2,radius:o}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,p,l,a),e.strokeRect(t,p,l,a),e.fillStyle=s.backgroundColor,e.fillRect(n,p+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=uP(n.bodyFont);let d=u.lineHeight,h=0;const p=qP(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+h),e.y+d/2),e.y+=d+r},g=p.textAlign(s);let m,v,y,b,w,x,_;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=cN(this,g,n),t.fillStyle=n.bodyColor,SA(this.beforeBody,f),h=o&&"right"!==g?"center"===s?l/2+c:l+2+c:0,b=0,x=i.length;b<x;++b){for(m=i[b],v=this.labelTextColors[b],t.fillStyle=v,SA(m.before,f),y=m.lines,o&&y.length&&(this._drawColorBox(t,e,b,p,n),d=Math.max(u.lineHeight,a)),w=0,_=y.length;w<_;++w)f(y[w]),d=u.lineHeight;SA(m.after,f)}h=0,d=u.lineHeight,SA(this.afterBody,f),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let s,o;if(r){const a=qP(n.rtl,this.x,this.width);for(e.x=cN(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",s=uP(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,o=0;o<r;++o)t.fillText(i[o],a.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=lP(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+u,a),"top"===s&&this.drawCaret(e,t,n,i),t.lineTo(o+l-d,a),t.quadraticCurveTo(o+l,a,o+l,a+d),"center"===s&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(o+l,a+c-p),t.quadraticCurveTo(o+l,a+c,o+l-p,a+c),"bottom"===s&&this.drawCaret(e,t,n,i),t.lineTo(o+h,a+c),t.quadraticCurveTo(o,a+c,o,a+c-h),"center"===s&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(o,a+u),t.quadraticCurveTo(o,a,o+u,a),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=tN[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=sN(this,e),o=Object.assign({},n,this._size),a=aN(t,e,o),l=lN(e,o,a,t);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=cP(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),GP(e,t.textDirection),r.y+=s.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),KP(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map((({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}})),r=!TA(n,i),s=this._positionChanged(i,t);(r||s)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(e,r,t,n),o=this._positionChanged(s,e),a=t||!TA(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,i){const r=this.options;if("mouseout"===e.type)return[];if(!i)return t;const s=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,s=tN[r.position].call(this,e,t);return!1!==s&&(n!==s.x||i!==s.y)}}var gN={id:"tooltip",_element:fN,positioners:tN,afterInit(e,t,n){n&&(e.tooltip=new fN({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:hN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},mN=Object.freeze({__proto__:null,Colors:TL,Decimation:AL,Filler:WL,Legend:XL,SubTitle:eN,Title:JL,Tooltip:gN});function vN(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}function yN(e,t,{horizontal:n,minRotation:i}){const r=eM(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class bN extends TR{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return yA(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=e=>i=t?i:e,o=e=>r=n?r:e;if(e){const e=KA(i),t=KA(r);e<0&&t<0?o(0):e>0&&t>0&&s(0)}if(i===r){let t=0===r?1:Math.abs(.05*r);o(r+t),e||s(i-t)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=function(e,t){const n=[],{bounds:i,step:r,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=r||1,p=c-1,{min:f,max:g}=t,m=!yA(s),v=!yA(o),y=!yA(l),b=(g-f)/(u+1);let w,x,_,k,E=QA((g-f)/p/h)*h;if(E<1e-14&&!m&&!v)return[{value:f},{value:g}];k=Math.ceil(g/E)-Math.floor(f/E),k>p&&(E=QA(k*E/p/h)*h),yA(a)||(w=Math.pow(10,a),E=Math.ceil(E*w)/w),"ticks"===i?(x=Math.floor(f/E)*E,_=Math.ceil(g/E)*E):(x=f,_=g),m&&v&&r&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-s)/r,E/1e3)?(k=Math.round(Math.min((o-s)/E,c)),E=(o-s)/k,x=s,_=o):y?(x=m?s:x,_=v?o:_,k=l-1,E=(_-x)/k):(k=(_-x)/E,k=XA(k,Math.round(k),E/1e3)?Math.round(k):Math.ceil(k));const C=Math.max(nM(E),nM(x));w=Math.pow(10,yA(a)?C:a),x=Math.round(x*w)/w,_=Math.round(_*w)/w;let S=0;for(m&&(d&&x!==s?(n.push({value:s}),x<s&&S++,XA(Math.round((x+S*E)*w)/w,s,yN(s,b,e))&&S++):x<s&&S++);S<k;++S){const e=Math.round((x+S*E)*w)/w;if(v&&e>o)break;n.push({value:e})}return v&&d&&_!==o?n.length&&XA(n[n.length-1].value,o,yN(o,b,e))?n[n.length-1].value=o:n.push({value:o}):v&&_!==o||n.push({value:_}),n}({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&ZA(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return PM(e,this.chart.options.locale,this.options.ticks.format)}}class wN extends bN{static id="linear";static defaults={ticks:{callback:RM.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=xA(e)?e:0,this.max=xA(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=eM(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const xN=e=>Math.floor(GA(e)),_N=(e,t)=>Math.pow(10,xN(e)+t);function kN(e){return 1===e/Math.pow(10,xN(e))}function EN(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}class CN extends TR{static id="logarithmic";static defaults={ticks:{callback:RM.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=bN.prototype.parse.apply(this,[e,t]);if(0!==n)return xA(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=xA(e)?Math.max(0,e):null,this.max=xA(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xA(this._userMin)&&(this.min=e===_N(this.min,0)?_N(this.min,-1):_N(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=t=>n=e?n:t,s=e=>i=t?i:e;n===i&&(n<=0?(r(1),s(10)):(r(_N(n,-1)),s(_N(i,1)))),n<=0&&r(_N(i,-1)),i<=0&&s(_N(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t=function(e,{min:t,max:n}){t=_A(e.min,t);const i=[],r=xN(t);let s=function(e,t){let n=xN(t-e);for(;EN(e,t,n)>10;)n++;for(;EN(e,t,n)<10;)n--;return Math.min(n,xN(e))}(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,s)),h=_A(e.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;h<n;)i.push({value:h,major:kN(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),h=Math.round((l+u+d*Math.pow(10,s))*o)/o;const p=_A(e.max,h);return i.push({value:p,major:kN(p),significand:d}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&ZA(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":PM(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=GA(e),this._valueRange=GA(this.max)-GA(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(GA(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function SN(e){const t=e.ticks;if(t.display&&e.display){const e=cP(t.backdropPadding);return kA(t.font&&t.font.size,BM.font.size)+e.height}return 0}function TN(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function DN(e,t,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function IN(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,i+r+o,s),c=Math.round(tM(oM(l.angle+YA))),u=function(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}(l.y,a.h,c),d=function(e){return 0===e||180===e?"center":e<180?"left":"right"}(c),h=function(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function AN(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:s}=e;return!(qM({x:n,y:i},t)||qM({x:n,y:s},t)||qM({x:r,y:i},t)||qM({x:r,y:s},t))}function MN(e,t,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=t;if(!yA(a)){const n=lP(t.borderRadius),l=cP(t.backdropPadding);e.fillStyle=a;const c=i-l.left,u=r-l.top,d=s-i+l.width,h=o-r+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),tP(e,{x:c,y:u,w:d,h,radius:n}),e.fill()):e.fillRect(c,u,d,h)}}function PN(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,UA);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=e.getPointPosition(s,t),r.lineTo(n.x,n.y)}}class ON extends bN{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:RM.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=cP(SN(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=xA(e)&&!isNaN(e)?e:0,this.max=xA(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/SN(this.options))}generateTickLabels(e){bN.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=CA(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?function(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?BA/s:0;for(let d=0;d<s;d++){const s=o.setContext(e.getPointLabelContext(d));r[d]=s.padding;const h=e.getPointPosition(d,e.drawingArea+r[d],a),p=uP(s.font),f=(l=e.ctx,c=p,u=bA(u=e._pointLabels[d])?u:[u],{w:zM(l,c.string,u),h:u.length*c.lineHeight});i[d]=f;const g=oM(e.getIndexAngle(d)+a),m=Math.round(tM(g));DN(n,t,g,TN(m,h.x,f.w,0,180),TN(m,h.y,f.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:SN(s)/2,additionalAngle:o?BA/r:0};let c;for(let s=0;s<r;s++){l.padding=n[s],l.size=t[s];const r=IN(e,s,l);i.push(r),"auto"===a&&(r.visible=AN(r,c),r.visible&&(c=r))}return i}(e,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){return oM(e*(UA/(this._pointLabels.length||1))+eM(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(yA(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(yA(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return hP(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-YA+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),PN(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:r}=t,s=this._pointLabels.length;let o,a,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const t=e._pointLabelItems[r];if(!t.visible)continue;const s=i.setContext(e.getPointLabelContext(r));MN(n,s,t);const o=uP(s.font),{x:a,y:l,textAlign:c}=t;eP(n,e._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach(((e,t)=>{if(0!==t){a=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=i.setContext(n),l=r.setContext(n);!function(e,t,n,i,r){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),PN(e,n,o,i),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,l)}})),n.display){for(e.save(),o=s-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:s}=i;s&&r&&(e.lineWidth=s,e.strokeStyle=r,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&!t.reverse)return;const a=n.setContext(this.getContext(o)),l=uP(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){e.font=l.string,s=e.measureText(i.label).width,e.fillStyle=a.backdropColor;const t=cP(a.backdropPadding);e.fillRect(-s/2-t.left,-r-l.size/2-t.top,s+t.width,l.size+t.height)}eP(e,i.label,0,-r,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),e.restore()}drawTitle(){}}const RN={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},LN=Object.keys(RN);function NN(e,t){return e-t}function FN(e,t){if(yA(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return"function"==typeof i&&(o=i(o)),xA(o)||(o="string"==typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!JA(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function VN(e,t,n,i){const r=LN.length;for(let s=LN.indexOf(e);s<r-1;++s){const e=RN[LN[s]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return LN[s]}return LN[r-1]}function jN(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=uM(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function BN(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?function(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}(e,i,r,n):i}class UN extends TR{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new NO(e.adapters.date);i.init(t),PA(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:FN(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(e){s||isNaN(e.min)||(i=Math.min(i,e.min)),o||isNaN(e.max)||(r=Math.max(r,e.max))}s&&o||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),i=xA(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=xA(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=function(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?VN(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(let s=LN.length-1;s>=LN.indexOf(n);s--){const n=LN[s];if(RN[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return LN[n?LN.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=LN.indexOf(e)+1,n=LN.length;t<n;++t)if(RN[LN[t]].common)return LN[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&s.reverse(),BN(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e=[]){let t,n,i=0,r=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),r=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;i=lM(i,0,s),r=lM(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||VN(r.minUnit,t,n,this._getLabelCapacity(t)),o=kA(i.ticks.stepSize,1),a="week"===s&&r.isoWeekday,l=JA(a)||!0===a,c={};let u,d,h=t;if(l&&(h=+e.startOf(h,"isoWeek",a)),h=+e.startOf(h,l?"day":s),e.diff(n,t,s)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+s);const p="data"===i.ticks.source&&this.getDataTimestamps();for(u=h,d=0;u<n;u=+e.add(u,o,s),d++)jN(c,u,p);return u!==n&&"ticks"!==i.bounds&&1!==d||jN(c,u,p),Object.keys(c).sort(NN).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,r=t||n[i];return this._adapter.format(e,r)}_tickFormatFunction(e,t,n,i){const r=this.options,s=r.ticks.callback;if(s)return CA(s,[e,t,n],this);const o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],d=n[t],h=l&&u&&d&&d.major;return this._adapter.format(e,i||(h?u:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=eM(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,BN(this,[e],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(FN(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return gM(e.sort(NN))}}function zN(e,t,n){let i,r,s,o,a=0,l=e.length-1;n?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=dM(e,"pos",t)),({pos:i,time:s}=e[a]),({pos:r,time:o}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=dM(e,"time",t)),({time:i,pos:s}=e[a]),({time:r,pos:o}=e[l]));const c=r-i;return c?s+(o-s)*(t-i)/c:s}var $N=Object.freeze({__proto__:null,CategoryScale:class extends TR{static id="category";static defaults={ticks:{callback:vN}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(yA(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:lM(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:function(e,t,n,i){const r=e.indexOf(t);return-1===r?((e,t,n,i)=>("string"==typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i):r!==e.lastIndexOf(t)?n:r}(n,e,kA(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let n=e;n<=t;n++)i.push({value:n});return i}getLabelForValue(e){return vN.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:wN,LogarithmicScale:CN,RadialLinearScale:ON,TimeScale:UN,TimeSeriesScale:class extends UN{static id="timeseries";static defaults=UN.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=zN(t,this.min),this._tableRange=zN(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;++s)l=e[s],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)c=i[s+1],a=i[s-1],l=i[s],Math.round((c+a)/2)!==l&&r.push({time:l,pos:s/(o-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(zN(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return zN(this._table,n*this._tableRange+this._minPos,!0)}}});const HN=[OO,xL,mN,$N],YN={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},WN={ariaLabel:{type:String},ariaDescribedby:{type:String}},qN={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...YN,...WN},GN="2"===ss[0]?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function KN(e){return ft(e)?gt(e):e}function XN(e,t){e.labels=t}function QN(e,t,n){const i=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[n]===t[n]));return r&&t.data&&!i.includes(r)?(i.push(r),Object.assign(r,t),r):{...t}}))}const JN=Mn({props:qN,setup(e,t){let{expose:n,slots:i}=t;const r=bt(null),s=wt(null);return n({chart:s}),$n((()=>{if(!r.value)return;const{type:t,data:n,options:i,plugins:o,datasetIdKey:a}=e,l=function(e,t){const n={labels:[],datasets:[]};return XN(n,e.labels),QN(n,e.datasets,t),n}(n,a),c=function(e){return ft(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e)?new Proxy(e,{}):e}(l,n);s.value=new iL(r.value,{type:t,data:c,options:{...i},plugins:o})})),qn((()=>{const t=gt(s.value);t&&(e.destroyDelay>0?setTimeout((()=>{t.destroy(),s.value=null}),e.destroyDelay):(t.destroy(),s.value=null))})),er([()=>e.options,()=>e.data],((t,n)=>{let[i,r]=t,[o,a]=n;const l=gt(s.value);if(!l)return;let c=!1;if(i){const e=KN(i),t=KN(o);e&&e!==t&&(function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(l,e),c=!0)}if(r){const t=KN(r.labels),n=KN(a.labels),i=KN(r.datasets),s=KN(a.datasets);t!==n&&(XN(l.config.data,t),c=!0),i&&i!==s&&(QN(l.config.data,i,e.datasetIdKey),c=!0)}c&&Wt((()=>{(t=>{t.update(e.updateMode)})(l)}))}),{deep:!0}),()=>rs("canvas",{role:"img",ariaLabel:e.ariaLabel,ariaDescribedby:e.ariaDescribedby,ref:r},[rs("p",{},[i.default?i.default():""])])}});function ZN(e,t){return iL.register(t),Mn({props:YN,setup(t,n){let{expose:i}=n;const r=wt(null),s=e=>{r.value=e?.chart};return i({chart:r}),()=>rs(JN,GN({ref:s},{type:e,...t}))}})}const eF=ZN("bar",DO),tF=ZN("line",AO),nF=ZN("pie",PO),iF={__name:"LineChart",props:{expenses:Array,month:Number,year:Number},setup(e){iL.register(...HN);const t=e,n=is((()=>{const e=new Date,n=e.getFullYear(),i=e.getMonth()+1;return t.month===i&&t.year===n?e.getDate():new Date(t.year,t.month,0).getDate()})),{expenses:i}=St(t),r=is((()=>{const e=Array(n.value).fill(0);return i.value.forEach((t=>{if("expense"===t.type){const n=parseInt(t.date.split("-")[2]);e[n-1]+=Number(t.value)}})),e})),s=is((()=>{const e=Array(n.value).fill(0);return i.value.forEach((t=>{if("income"===t.type){const n=parseInt(t.date.split("-")[2]);e[n-1]+=Number(t.value)}})),e})),o=is((()=>({labels:Array.from({length:n.value},((e,t)=>(t+1).toString())),datasets:[{label:"Gastos",data:r.value,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.2)",tension:.3},{label:"Receitas",data:s.value,borderColor:"rgb(34,197,94)",backgroundColor:"rgba(34,197,94,0.2)",tension:.3}]}))),a=e=>e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,"."),l={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Gastos e Receitas por Dia"},tooltip:{callbacks:{title:function(e){return`Dia ${e[0].label}`},label:function(e){const t=e.dataset.label||"",n=e.parsed.y;return n>0?`${t}: R$ ${n.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")}`:`${t}: R$ 0,00`},afterLabel:function(e){const n=parseInt(e.label),i={Gastos:"expense",Receitas:"income"}[e.dataset.label],r=t.expenses.filter((e=>{if(!e.date)return!1;const t=parseInt(e.date.split("-")[2])===n,r=e.type===i;return t&&r}));return r.length>0?r.map((e=>`• ${e.description}: R$ ${a(Number(e.value))}`)):[]}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return`R$ ${a(e)}`}}}}};return(e,t)=>(br(),kr("div",null,[Ar(kt(tF),{data:o.value,options:l},null,8,["data"])]))}},rF=iF,sF={__name:"BarChart",props:{expenses:Array,month:Number,year:Number},setup(e){iL.register(...HN);const t=e,{expenses:n}=St(t),i=is((()=>n.value.filter((e=>"expense"===e.type)).reduce(((e,t)=>e+Number(t.value)),0))),r=is((()=>n.value.filter((e=>"income"===e.type)).reduce(((e,t)=>e+Number(t.value)),0))),s=is((()=>r.value-i.value)),o=is((()=>({labels:["Gastos","Receitas","Diferença"],datasets:[{label:"Valor (R$)",data:[i.value,r.value,s.value],backgroundColor:["rgba(239, 68, 68, 0.8)","rgba(34, 197, 94, 0.8)",s.value>=0?"rgba(34, 197, 94, 0.5)":"rgba(239, 68, 68, 0.5)"],borderColor:["rgb(239, 68, 68)","rgb(34, 197, 94)",s.value>=0?"rgb(34, 197, 94)":"rgb(239, 68, 68)"],borderWidth:2}]}))),a={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Gastos vs Receitas do Mês",font:{size:16}},tooltip:{callbacks:{label:function(e){return`R$ ${e.parsed.y.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return`R$ ${e.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")}`}}}}};return(e,t)=>(br(),kr("div",null,[Ar(kt(eF),{data:o.value,options:a},null,8,["data"])]))}},oF={__name:"PieChart",props:{expenses:Array,categories:Array,type:String,title:String},setup(e){iL.register(...HN);const t=e,{expenses:n,categories:i}=St(t),r=is((()=>n.value.filter((e=>e.type===t.type)))),s=is((()=>{const e={};return r.value.forEach((t=>{const n=t.category;e[n]||(e[n]=0),e[n]+=Number(t.value)})),e})),o=is((()=>{const e=Object.keys(s.value),t=e.map((e=>{const t=i.value.find((t=>t.id===e));return t?t.description:"Categoria não encontrada"})),n=e.map((e=>{const t=i.value.find((t=>t.id===e));return t?t.color:"#CCCCCC"}));return{labels:t,datasets:[{data:Object.values(s.value),backgroundColor:n,borderColor:n.map((e=>e.replace("0.8","1"))),borderWidth:2}]}})),a={responsive:!0,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:20,generateLabels:function(e){const t=e.data;if(t.labels.length&&t.datasets.length){const e=t.datasets[0],n=e.data.reduce(((e,t)=>e+t),0);return t.labels.map(((t,i)=>{const r=e.data[i],s=(r/n*100).toFixed(1).replace(".",",");return{text:`${t}: R$ ${r.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")} (${s}%)`,fillStyle:e.backgroundColor[i],strokeStyle:e.borderColor[i],lineWidth:e.borderWidth,hidden:!1,index:i}}))}return[]}}},title:{display:!0,text:t.title,font:{size:16}},tooltip:{callbacks:{label:function(e){const t=e.label||"",n=e.parsed,i=(n/e.dataset.data.reduce(((e,t)=>e+t),0)*100).toFixed(1);return`${t}: R$ ${n.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")} (${i}%)`},afterLabel:function(e){const n=e.label,i=t.categories.find((e=>e.description===n));if(!i)return[];const r=i.id,s=t.expenses.filter((e=>e.category===r&&e.type===t.type));return s.length>0?s.map((e=>{return`• ${e.description}: R$ ${t=Number(e.value),t.toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")}`;var t})):[]}}}}};return(e,t)=>(br(),kr("div",null,[Ar(kt(nF),{data:o.value,options:a},null,8,["data"])]))}},aF={name:"Dashboard",components:{LineChart:rF,BarChart:sF,PieChart:oF},setup(){const e=Ii("selectedGroup"),t=bt(0),n=bt(0),i=bt({poupança:0,débito:0}),r=bt({}),s=bt({}),o=bt({});let a=bt(!1),l=bt(!0);const c=bt(0),u=bt((new Date).getFullYear()),d=bt(0),h=bt(0),p=bt(0),f=bt([]),g=bt([]),m=bt([]),v=[(new Date).getFullYear(),(new Date).getFullYear()-1,(new Date).getFullYear()-2],y=bt(null),b=bt({}),w=bt(0),x=e=>parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),_=(e,t)=>({startDate:new Date(t,e-1,1),endDate:new Date(t,e,1)}),k=e=>{const[t,n,i]=e.split("-").map(Number);return new Date(t,n-1,i)},E=()=>{EC(rC(bE(EE(),"eventos"),oC("groupId","==",e.value)),(e=>{const t=new Date,n=e.docs.map((e=>({id:e.id,...e.data()}))).filter((e=>!!e.date&&new Date(`${e.date}T${e.startTime||"00:00"}`)>=t)).sort(((e,t)=>new Date(`${e.date}T${e.startTime||"00:00"}`)-new Date(`${t.date}T${t.startTime||"00:00"}`)));y.value=n.length?n[0]:null}))},C=()=>{EC(rC(bE(EE(),"locais"),oC("groupId","==",e.value)),(e=>{const t={};e.forEach((e=>{t[e.id]=e.data()})),b.value=t}))},S=()=>{EC(rC(bE(EE(),"listaCompras"),oC("groupId","==",e.value)),(e=>{w.value=e.docs.map((e=>e.data())).filter((e=>!e.completed)).length}))},T=is((()=>{const e=new Date,t=e.getFullYear(),n=e.getMonth();return[{key:"today",dates:e,highlight:{color:"blue",fillMode:"solid"},popover:{label:"Hoje"}},...f.value.filter((e=>e.dueDay)).map((e=>({key:e.id,dates:new Date(t,n,Number(e.dueDay)),popover:{label:`${e.description} - ${x(e.value)}`},dot:{color:"income"===e.type?"green":"red"}})))]})),D=async()=>{const a=ap(),l=EE();if(a.currentUser){const a=bE(l,"accounts"),v=await bC(rC(a,oC("groupId","==",e.value))),y={};v.forEach((e=>{const t=e.data();!1!==t.active&&(y[e.id]=t)})),window.accountsMap=y,EC(rC(bE(l,"expenses"),oC("groupId","==",e.value)),(e=>{let a=0,l=0,d={poupança:0,débito:0},h={},p={},f={};const m=[];e.forEach((e=>{const t=e.data();m.push({id:e.id,...t});const n=parseFloat(t.value),i=y[t.account],r=new Date,s=r.getMonth()+1,{startDate:o,endDate:g}=0===c.value?_(s,r.getFullYear()):_(c.value,u.value);let v=k(t.date);if(v.setHours(0),v.setMinutes(0),v.setMinutes(0),i){let e=!0;if(null!==i.fechamento){e=!1;const t=r.getDate()<i.fechamento?r.getMonth()-1:r.getMonth(),n=new Date(r.getFullYear(),t,i.fechamento);let s=new Date(r.getFullYear(),t+1,i.fechamento);s.setDate(s.getDate()+1),v>=n&&v<s&&(e=!0)}"income"===t.type&&"poupança"===i.type?(a+=n,p[i.name]||(p[i.name]=0),p[i.name]+=n):"expense"===t.type&&"poupança"===i.type?(a-=n,l+=n,p[i.name]||(p[i.name]=0),p[i.name]-=n):"income"===t.type&&"caixinha"===i.type?(f[i.name]||(f[i.name]=0),f[i.name]+=n):"expense"===t.type&&"caixinha"===i.type?(f[i.name]||(f[i.name]=0),f[i.name]-=n,v>=o&&v<g&&"poupança"===i.type&&(d["poupança"]+=n)):"expense"===t.type&&("débito"===i.type&&v>=o&&v<g?d["débito"]+=n:"crédito"===i.type&&e&&(h[i.name]||(h[i.name]=0),h[i.name]+=n))}}));for(let e in h)h[e]=h[e].toFixed(2);for(let e in p)p[e]=p[e].toFixed(2);for(let e in f)f[e]=f[e].toFixed(2);t.value=a.toFixed(2),n.value=l.toFixed(2),i.value={poupança:d["poupança"].toFixed(2),débito:d["débito"].toFixed(2)},r.value=h,s.value=p,o.value=f,g.value=m,console.log(g.value)})),EC(rC(bE(l,"predictedExpenses"),oC("groupId","==",e.value)),(e=>{let t=0,n=0;const i=[];e.forEach((e=>{const r=e.data();i.push({id:e.id,...r});const s=parseFloat(r.value);"income"===r.type?n+=s:"expense"===r.type&&(t+=s)})),f.value=i,h.value=n.toFixed(2),d.value=t.toFixed(2),p.value=h.value-d.value})),EC(rC(bE(l,"categories"),oC("groupId","==",e.value)),(e=>{const t=[];e.forEach((e=>{t.push({id:e.id,...e.data()})})),m.value=t}))}};$n((()=>{D(),E(),C(),S()})),er(e,(t=>{console.log("selectedGroup mudou para:",t),e.value=t,D(),E(),C(),S()})),er([c,u],(()=>{D()}));const I=is((()=>{const e=window.accountsMap||{};return g.value.filter((t=>{if(!t.date)return!1;const n=e[t.account];if(n&&"caixinha"===n.type)return!1;const i=k(t.date);return i.getMonth()+1===(0===c.value?(new Date).getMonth()+1:c.value)&&i.getFullYear()===(0===c.value?(new Date).getFullYear():u.value)}))})),A=is((()=>{let e=0;for(let t in r.value){const n=parseFloat(r.value[t]);isNaN(n)||(e+=n)}return e.toFixed(2)}));return{totalPoupanca:t,totalGastosPoupanca:n,totalGastosPorTipo:i,totalFatura:r,totalPoupancaConta:s,totalCaixinhaConta:o,totalReceitasPrevistos:h,totalGastosPrevistos:d,diferencaPrevisao:p,showValues:a,showCharts:l,months:[{label:"Atual",value:0},{label:"Janeiro",value:1},{label:"Fevereiro",value:2},{label:"Março",value:3},{label:"Abril",value:4},{label:"Maio",value:5},{label:"Junho",value:6},{label:"Julho",value:7},{label:"Agosto",value:8},{label:"Setembro",value:9},{label:"Outubro",value:10},{label:"Novembro",value:11},{label:"Dezembro",value:12}],availableYears:v,selectedMonth:c,selectedYear:u,formatCurrency:x,toggleShowValues:()=>{a.value=!a.value},getStartAndEndDatesOfMonth:_,calendarAttributes:T,expensesDoMes:I,categories:m,getFaturaPeriod:e=>{const t=window.accountsMap||{},n=Object.values(t).find((t=>t.name===e));if(!n||null===n.fechamento||void 0===n.fechamento)return null;const i=new Date,r=parseInt(n.fechamento);if(isNaN(r)||r<1||r>31)return null;let s=i.getMonth();i.getDate()<r&&(s=i.getMonth()-1);let o=i.getFullYear();s<0&&(s=11,o-=1);const a=new Date(o,s,r),l=new Date(o,s+1,r),c=a.toLocaleDateString("pt-BR"),u=l.toLocaleDateString("pt-BR");return{fechamento:r,periodo:"Mensal",dataInicio:c,dataFim:u,periodoCompleto:`${c} a ${u}`}},totalFaturasMes:A,nextEvento:y,loadNextEvento:E,getLocalName:e=>b.value[e]?.name||"",locais:b,itensListaPendentes:w}}};var lF=n(629),cF={};cF.styleTagTransform=Do(),cF.setAttributes=Eo(),cF.insert=_o().bind(null,"head"),cF.domAPI=wo(),cF.insertStyleElement=So(),yo()(lF.A,cF),lF.A&&lF.A.locals&&lF.A.locals;const uF=(0,Mo.A)(aF,[["render",function(e,t,n,i,r,s){const o=Zn("LineChart"),a=Zn("BarChart"),l=Zn("PieChart"),c=Zn("v-calendar");return br(),kr("div",BD,[i.itensListaPendentes>0?(br(),kr("div",UD,[t[7]||(t[7]=Ir("h2",{class:"text-lg font-semibold text-green-700 mb-1"}," Lista de Compras ",-1)),Ir("p",zD,[t[5]||(t[5]=Or(" 🛒 Você tem ")),Ir("strong",null,Q(i.itensListaPendentes),1),t[6]||(t[6]=Or(" item(ns) pendente(s) na lista. "))]),Ir("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/lista-compras")),class:"mt-2 text-sm text-green-700 font-semibold hover:underline"}," Abrir lista → ")])):Lr("v-if",!0),i.nextEvento?(br(),kr("div",$D,[t[8]||(t[8]=Ir("h2",{class:"text-lg font-semibold text-blue-700 mb-2"}," Próximo Evento ",-1)),Ir("h3",HD,Q(i.nextEvento.title),1),Ir("p",YD," 📅 "+Q(new Date(i.nextEvento.date+"T00:00").toLocaleDateString("pt-BR"))+" • ⏰ "+Q(i.nextEvento.startTime)+" → "+Q(i.nextEvento.endTime),1),Ir("p",WD," 📍 "+Q(i.getLocalName(i.nextEvento.localId)),1)])):Lr("v-if",!0),Ir("div",qD,[t[9]||(t[9]=Ir("h2",{class:"text-2xl font-semibold"},"Finanças",-1)),Ir("button",{onClick:t[1]||(t[1]=(...e)=>i.toggleShowValues&&i.toggleShowValues(...e)),class:"p-2 text-gray-500 hover:text-gray-700 rounded hover:bg-gray-200 transition",title:"Mostrar / ocultar valores"},[Ir("i",{class:H(i.showValues?"fa fa-eye":"fa fa-eye-slash")},null,2)])]),t[20]||(t[20]=Ir("h3",{class:"font-semibold mt-4 mb-4"},"de tudo",-1)),Ir("div",GD,[Lr(" Card Saldo "),Ir("div",KD,[t[10]||(t[10]=Ir("h2",{class:"text-xl font-semibold mb-2"},"Total Carteira",-1)),i.showValues?(br(),kr("p",XD,Q(i.formatCurrency(i.totalPoupanca)),1)):(br(),kr("p",QD,"***"))]),(br(!0),kr(pr,null,ri(i.totalPoupancaConta,((e,t)=>(br(),kr("div",{key:t,class:"bg-white p-4 rounded shadow-md"},[Ir("h2",JD,"Carteira - "+Q(t),1),i.showValues?(br(),kr("p",ZD,Q(i.formatCurrency(e)),1)):(br(),kr("p",eI,"***"))])))),128)),(br(!0),kr(pr,null,ri(i.totalCaixinhaConta,((e,t)=>(br(),kr("div",{key:t,class:"bg-white p-4 rounded shadow-md"},[Ir("h2",tI,"Saldo Cofrinho - "+Q(t),1),i.showValues?(br(),kr("p",nI,Q(i.formatCurrency(e)),1)):(br(),kr("p",iI,"***"))])))),128))]),t[21]||(t[21]=Ir("h3",{class:"font-semibold mt-4 mb-4"},"do mês/ano",-1)),Ir("div",rI,[pn(Ir("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.selectedMonth=e),class:"p-2 border rounded"},[(br(!0),kr(pr,null,ri(i.months,(e=>(br(),kr("option",{key:e.value,value:e.value},Q(e.label),9,sI)))),128))],512),[[to,i.selectedMonth]]),pn(Ir("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedYear=e),class:"p-2 border rounded",disabled:0==i.selectedMonth},[(br(!0),kr(pr,null,ri(i.availableYears,(e=>(br(),kr("option",{key:e,value:e},Q(e),9,aI)))),128))],8,oI),[[to,i.selectedYear]]),Ir("label",lI,[pn(Ir("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.showCharts=e),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[Js,i.showCharts]]),t[11]||(t[11]=Ir("span",{class:"text-sm font-medium text-gray-700"},"Mostrar Gráficos",-1))])]),Ir("div",cI,[Lr(" Card Gastos por Tipo de Conta "),(br(!0),kr(pr,null,ri(i.totalGastosPorTipo,((e,t)=>(br(),kr("div",{key:t,class:"bg-white p-4 rounded shadow-md"},[Ir("h2",uI,"Gastos - "+Q(t),1),i.showValues?(br(),kr("p",dI,Q(i.formatCurrency(e)),1)):(br(),kr("p",hI,"***"))])))),128)),Lr(" Card Total das Faturas "),Ir("div",pI,[t[12]||(t[12]=Ir("h2",{class:"text-xl font-semibold mb-2 text-blue-800"},"Total das Faturas",-1)),i.showValues?(br(),kr("p",fI,Q(i.formatCurrency(i.totalFaturasMes)),1)):(br(),kr("p",gI,"***")),Ir("p",mI,Q(Object.keys(i.totalFatura).length)+" cartão(s)",1)]),Lr(" Card Faturas "),(br(!0),kr(pr,null,ri(i.totalFatura,((e,n)=>(br(),kr("div",{key:n,class:"bg-white p-4 rounded shadow-md"},[Ir("h2",vI,"Fatura - "+Q(n),1),i.showValues?(br(),kr("p",yI,Q(i.formatCurrency(e)),1)):(br(),kr("p",bI,"***")),Lr(" Informações do período da fatura "),i.showValues?(br(),kr("div",wI,[i.getFaturaPeriod(n)?(br(),kr("div",xI,[Ir("p",null,[t[13]||(t[13]=Ir("strong",null,"Fechamento:",-1)),Or(" "+Q(i.getFaturaPeriod(n).fechamento)+"º do mês",1)]),Ir("p",null,[t[14]||(t[14]=Ir("strong",null,"Período:",-1)),Or(" "+Q(i.getFaturaPeriod(n).periodoCompleto),1)])])):(br(),kr("div",_I,t[15]||(t[15]=[Ir("p",null,"Período não configurado",-1)])))])):Lr("v-if",!0)])))),128))]),i.showCharts?(br(),kr("div",kI,[Ir("div",EI,[Ar(o,{expenses:i.expensesDoMes,month:0===i.selectedMonth?(new Date).getMonth()+1:i.selectedMonth,year:i.selectedYear},null,8,["expenses","month","year"])]),Ir("div",CI,[Ar(a,{expenses:i.expensesDoMes,month:0===i.selectedMonth?(new Date).getMonth()+1:i.selectedMonth,year:i.selectedYear},null,8,["expenses","month","year"])])])):Lr("v-if",!0),i.showCharts?(br(),kr("div",SI,[Ir("div",TI,[Ar(l,{expenses:i.expensesDoMes,categories:i.categories,type:"expense",title:"Gastos por Categoria"},null,8,["expenses","categories"])]),Ir("div",DI,[Ar(l,{expenses:i.expensesDoMes,categories:i.categories,type:"income",title:"Receitas por Categoria"},null,8,["expenses","categories"])])])):Lr("v-if",!0),t[22]||(t[22]=Ir("h2",{class:"text-2xl font-semibold mt-4 mb-4"},"Previsão",-1)),Ir("div",II,[Ir("div",AI,[t[16]||(t[16]=Ir("h2",{class:"text-xl font-semibold mb-2"},"Receitas",-1)),i.showValues?(br(),kr("p",MI,Q(i.formatCurrency(i.totalReceitasPrevistos)),1)):(br(),kr("p",PI,"***"))]),Ir("div",OI,[t[17]||(t[17]=Ir("h2",{class:"text-xl font-semibold mb-2"},"Gastos",-1)),i.showValues?(br(),kr("p",RI,Q(i.formatCurrency(i.totalGastosPrevistos)),1)):(br(),kr("p",LI,"***"))]),Ir("div",NI,[t[18]||(t[18]=Ir("h2",{class:"text-xl font-semibold mb-2"},"Diferença",-1)),i.showValues?(br(),kr("p",FI,Q(i.formatCurrency(i.diferencaPrevisao)),1)):(br(),kr("p",VI,"***"))])]),Ir("div",jI,[t[19]||(t[19]=Ir("h2",{class:"text-xl font-semibold mb-4"},"Calendário de Gastos Previstos",-1)),Ar(c,{attributes:i.calendarAttributes,"is-expanded":"",locale:"pt-BR",class:"w-full"},null,8,["attributes"])])])}],["__scopeId","data-v-270d09e9"]]),dF={class:"flex flex-col bg-gray-100"},hF={class:"bg-white p-8 rounded shadow-md w-100 lg:mx-4 sm:mx-auto mt-8"},pF=["value"],fF=["disabled"],gF={key:0},mF={key:1},vF={class:"mt-6 w-full"},yF={class:"flex items-center space-x-2"},bF=["onClick"],wF=["onClick"],xF={key:0,class:"mt-6 bg-gray-200 p-4 rounded"},_F=["value"],kF=["disabled"],EF={key:0},CF={key:1},SF={name:"Groups",setup(){const e=bt({name:"",description:"",users:[]}),t=bt([]),n=bt([]),i=bt(!1),r=bt(null),s=Ii("selectedGroup",null),o=Pl();return $n((()=>{(()=>{const e=ap(),n=EE(),i=e.currentUser;i&&EC(rC(bE(n,"groups"),oC("createdBy","==",i.uid)),(e=>{t.value=e.docs.map((e=>({id:e.id,...e.data()})))}),(e=>{console.error("Erro ao ouvir mudanças nos grupos:",e)}))})(),EC(bE(EE(),"users"),(e=>{n.value=e.docs.map((e=>({id:e.id,...e.data()})))}),(e=>{console.error("Erro ao ouvir mudanças nos usuários:",e)}))})),{newGroup:e,groups:t,users:n,loading:i,editingGroup:r,addGroup:async()=>{i.value=!0;try{const t=ap(),n=EE(),i=t.currentUser;await kC(bE(n,"groups"),{...e.value,createdBy:i.uid,createdAt:new Date}),e.value={name:"",description:"",users:[]}}catch(e){console.error("Erro ao adicionar grupo:",e)}finally{i.value=!1}},deleteGroup:async e=>{try{const t=EE();await _C(wE(t,"groups",e))}catch(e){console.error("Erro ao excluir grupo:",e)}},updateGroup:async()=>{i.value=!0;try{const e=wE(EE(),"groups",r.value.id);await xC(e,{...r.value}),r.value=null}catch(e){console.error("Erro ao atualizar grupo:",e)}finally{i.value=!1}},editGroup:e=>{r.value={...e}},cancelEdit:()=>{r.value=null},getUserNames:e=>n.value.filter((t=>e.includes(t.id))).map((e=>e.name)),goBack:()=>{o.push("/dashboard")},selectedGroup:s}}};var TF=n(962),DF={};DF.styleTagTransform=Do(),DF.setAttributes=Eo(),DF.insert=_o().bind(null,"head"),DF.domAPI=wo(),DF.insertStyleElement=So(),yo()(TF.A,DF),TF.A&&TF.A.locals&&TF.A.locals;const IF=(0,Mo.A)(SF,[["render",function(e,t,n,i,r,s){return br(),kr("div",dF,[Ir("div",hF,[Ir("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"mb-4 text-blue-500 hover:text-blue-700"},t[10]||(t[10]=[Ir("i",{class:"fa fa-arrow-left"},null,-1),Or(" Voltar ")])),t[14]||(t[14]=Ir("h1",{class:"text-2xl font-bold mb-6 text-center"},"Grupos",-1)),Lr(" Formulário de Adição "),Ir("form",{onSubmit:t[4]||(t[4]=co(((...e)=>i.addGroup&&i.addGroup(...e)),["prevent"]))},[pn(Ir("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.newGroup.name=e),placeholder:"Nome do Grupo",class:"w-full p-2 mb-4 border rounded",required:""},null,512),[[Qs,i.newGroup.name]]),pn(Ir("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.newGroup.description=e),placeholder:"Descrição do Grupo",class:"w-full p-2 mb-4 border rounded"},null,512),[[Qs,i.newGroup.description]]),pn(Ir("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.newGroup.users=e),multiple:"",class:"w-full p-2 mb-4 border rounded"},[(br(!0),kr(pr,null,ri(i.users,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.name),9,pF)))),128))],512),[[to,i.newGroup.users]]),Ir("button",{type:"submit",disabled:i.loading,class:H(["w-full py-2 rounded text-white",{"bg-blue-500":!i.loading,"bg-gray-500":i.loading}])},[i.loading?(br(),kr("span",gF,"Adicionando...")):(br(),kr("span",mF,"Adicionar Grupo"))],10,fF)],32),Lr(" Lista de Grupos "),Ir("ul",vF,[(br(!0),kr(pr,null,ri(i.groups,(e=>(br(),kr("li",{key:e.id,class:"flex justify-between items-center p-2 border-b"},[Ir("div",null,[Ir("strong",null,Q(e.name),1),Or(" - "+Q(e.description)+" ",1),Ir("div",null,"Usuários: "+Q(i.getUserNames(e.users).join(", ")),1)]),Lr(" Botões de Editar e Excluir "),Ir("div",yF,[Ir("button",{onClick:t=>i.editGroup(e),class:"text-yellow-500 hover:text-yellow-700"},t[11]||(t[11]=[Ir("i",{class:"fa fa-edit"},null,-1)]),8,bF),Ir("button",{onClick:t=>i.deleteGroup(e.id),class:"text-red-500 hover:text-red-700"},t[12]||(t[12]=[Ir("i",{class:"fa fa-trash"},null,-1)]),8,wF)])])))),128))]),Lr(" Formulário de Edição "),i.editingGroup?(br(),kr("div",xF,[t[13]||(t[13]=Ir("h2",{class:"text-xl font-semibold mb-4 text-center"},"Editar Grupo",-1)),Ir("form",{onSubmit:t[9]||(t[9]=co(((...e)=>i.updateGroup&&i.updateGroup(...e)),["prevent"]))},[pn(Ir("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.editingGroup.name=e),placeholder:"Nome do Grupo",class:"w-full p-2 mb-4 border rounded",required:""},null,512),[[Qs,i.editingGroup.name]]),pn(Ir("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.editingGroup.description=e),placeholder:"Descrição do Grupo",class:"w-full p-2 mb-4 border rounded"},null,512),[[Qs,i.editingGroup.description]]),pn(Ir("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>i.editingGroup.users=e),multiple:"",class:"w-full p-2 mb-4 border rounded"},[(br(!0),kr(pr,null,ri(i.users,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.name),9,_F)))),128))],512),[[to,i.editingGroup.users]]),Ir("button",{type:"submit",disabled:i.loading,class:H(["w-full py-2 rounded text-white",{"bg-green-500":!i.loading,"bg-gray-500":i.loading}])},[i.loading?(br(),kr("span",EF,"Salvando...")):(br(),kr("span",CF,"Salvar Alterações"))],10,kF),Ir("button",{onClick:t[8]||(t[8]=(...e)=>i.cancelEdit&&i.cancelEdit(...e)),class:"w-full bg-gray-500 text-white py-2 rounded hover:bg-gray-700 mt-4"}," Cancelar ")],32)])):Lr("v-if",!0)])])}],["__scopeId","data-v-9ba56288"]]),AF={style:{"margin-bottom":"12px",display:"flex",gap:"8px","align-items":"center"}},MF={id:"drawflow",ref:"drawflow",style:{width:"100%",height:"80vh",border:"1px solid #ccc"}};var PF=n(278),OF={};OF.styleTagTransform=Do(),OF.setAttributes=Eo(),OF.insert=_o().bind(null,"head"),OF.domAPI=wo(),OF.insertStyleElement=So(),yo()(PF.A,OF),PF.A&&PF.A.locals&&PF.A.locals;var RF=n(782),LF=n.n(RF);const NF={name:"MindMap",setup:()=>({selectedGroup:Ii("selectedGroup")}),mounted(){this.editor=new(LF())(this.$refs.drawflow),this.editor.start(),this.editor.zoom_out(),this.editor.clear(),this.$watch((()=>this.selectedGroup),(e=>{if(!e)return;this.editor.clear();const t=EE();EC(rC(bE(t,"predictedExpenses"),oC("groupId","==",e)),(async n=>{this.editor.clear();const i=[],r=[];n.docs.forEach((e=>{const t=e.data();"expense"===t.type?i.push({nome:t.description,valor:parseFloat(t.value)}):"income"===t.type&&r.push({nome:t.description,valor:parseFloat(t.value)})}));const s=this.editor.addNode("PrincipalGasto",0,1,100,40,"principal",{},'\n            <div style="background: #f3f4f6; border-radius: 10px; box-shadow: 0 2px 8px #0001; padding: 18px 24px; font-weight: 600; color: #111827; font-size: 1.1rem; border: 1.5px solid #6366f1; text-align: center;">\n              Gastos previstos\n            </div>\n          '),o=[];i.forEach(((e,t)=>{const n=200+t%3*250,i=150+120*Math.floor(t/3),r=`\n              <div style="background: #fff; border-radius: 10px; box-shadow: 0 2px 8px #0001; padding: 14px 20px; border: 1.5px solid #a5b4fc; color: #1e293b; font-size: 1rem; margin-bottom: 2px;">\n                <div style="font-weight: 600; color: #6366f1;">${e.nome}</div>\n                <div style="color: #16a34a; font-weight: 500; font-size: 1.1em;">R$ ${e.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>\n              </div>\n            `,s=this.editor.addNode("Gasto",1,1,n,i,"gasto",{},r);o.push(s)})),o.length>0&&this.editor.addConnection(s,o[0],"output_1","input_1");for(let e=1;e<o.length;e++)this.editor.addConnection(o[e-1],o[e],"output_1","input_1");const a=`\n            <div style="background: #f1f5f9; border-radius: 10px; box-shadow: 0 2px 8px #0001; padding: 18px 24px; font-weight: 700; color: #0f172a; font-size: 1.1rem; border: 2px solid #16a34a; text-align: center;">\n              Total Gastos<br>\n              <span style="color: #16a34a; font-size: 1.2em;">R$ ${i.reduce(((e,t)=>e+t.valor),0).toLocaleString("pt-BR",{minimumFractionDigits:2})}</span>\n            </div>\n          `,l=this.editor.addNode("TotalGasto",1,0,450,150+120*Math.ceil(i.length/3)+60,"total",{},a);o.length>0&&this.editor.addConnection(o[o.length-1],l,"output_1","input_1");const c=this.editor.addNode("PrincipalReceita",0,1,1350,40,"principal",{},'\n            <div style="background: #f3f4f6; border-radius: 10px; box-shadow: 0 2px 8px #0001; padding: 18px 24px; font-weight: 600; color: #111827; font-size: 1.1rem; border: 1.5px solid #22c55e; text-align: center;">\n              Receitas previstas\n            </div>\n          '),u=[];r.forEach(((e,t)=>{const n=1400+t%3*250,i=150+120*Math.floor(t/3),r=`\n              <div style="background: #fff; border-radius: 10px; box-shadow: 0 2px 8px #0001; padding: 14px 20px; border: 1.5px solid #86efac; color: #1e293b; font-size: 1rem; margin-bottom: 2px;">\n                <div style="font-weight: 600; color: #22c55e;">${e.nome}</div>\n                <div style="color: #16a34a; font-weight: 500; font-size: 1.1em;">R$ ${e.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})}</div>\n              </div>\n            `,s=this.editor.addNode("Receita",1,1,n,i,"receita",{},r);u.push(s)})),u.length>0&&this.editor.addConnection(c,u[0],"output_1","input_1");for(let e=1;e<u.length;e++)this.editor.addConnection(u[e-1],u[e],"output_1","input_1");const d=`\n            <div style="background: #f1f5f9; border-radius: 10px; box-shadow: 0 2px 8px #0001; padding: 18px 24px; font-weight: 700; color: #0f172a; font-size: 1.1rem; border: 2px solid #22c55e; text-align: center;">\n              Total Receitas<br>\n              <span style="color: #16a34a; font-size: 1.2em;">R$ ${r.reduce(((e,t)=>e+t.valor),0).toLocaleString("pt-BR",{minimumFractionDigits:2})}</span>\n            </div>\n          `,h=150+120*Math.ceil(r.length/3)+60,p=this.editor.addNode("TotalReceita",1,0,1650,h,"total",{},d);u.length>0&&this.editor.addConnection(u[u.length-1],p,"output_1","input_1");const f=await function(e){e=pE(e,mE);const t=pE(e.firestore,kE);return function(e,t,n={}){const i=new ny;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new tE({next:s=>{t.enqueueAndForget((()=>Ek(e,o)));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new ty(ey.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new ty(ey.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:e=>r.reject(e)}),o=new Dk(Hb(n.path),s,{includeMetadataChanges:!0,Ku:!0});return kk(e,o)}(await oE(e),e.asyncQueue,t,n,i))),i.promise}(CE(t),e._key).then((n=>SC(t,e,n)))}(wE(t,"mindmaps",e));f.exists()&&this.editor.import(f.data().drawflow)}))}),{immediate:!0})},methods:{async salvarAlteracoes(){const e=EE(),t=this.selectedGroup;if(!t)return alert("Selecione um grupo.");const n=this.editor.export();try{await wC(wE(e,"mindmaps",t),{drawflow:n}),alert("Alterações salvas com sucesso!")}catch(e){alert("Erro ao salvar: "+e.message)}},zoomIn(){this.editor.zoom_in(),console.log(this.editor.zoom_value,this.editor.zoom_min)},zoomOut(){this.editor.zoom_out(),console.log(this.editor.zoom_value,this.editor.zoom_max)}}};var FF=n(80),VF={};VF.styleTagTransform=Do(),VF.setAttributes=Eo(),VF.insert=_o().bind(null,"head"),VF.domAPI=wo(),VF.insertStyleElement=So(),yo()(FF.A,VF),FF.A&&FF.A.locals&&FF.A.locals;const jF=(0,Mo.A)(NF,[["render",function(e,t,n,i,r,s){return br(),kr(pr,null,[Ir("div",AF,[Ir("button",{onClick:t[0]||(t[0]=(...e)=>s.zoomOut&&s.zoomOut(...e)),style:{background:"#e5e7eb",color:"#111827",border:"none","border-radius":"6px",padding:"6px 14px","font-weight":"600",cursor:"pointer","touch-action":"manipulation"},title:"Diminuir zoom"},t[3]||(t[3]=[Ir("i",{class:"fas fa-search-minus"},null,-1)])),Ir("button",{onClick:t[1]||(t[1]=(...e)=>s.zoomIn&&s.zoomIn(...e)),style:{background:"#e5e7eb",color:"#111827",border:"none","border-radius":"6px",padding:"6px 14px","font-weight":"600",cursor:"pointer","touch-action":"manipulation"},title:"Aumentar zoom"},t[4]||(t[4]=[Ir("i",{class:"fas fa-search-plus"},null,-1)])),Ir("button",{onClick:t[2]||(t[2]=(...e)=>s.salvarAlteracoes&&s.salvarAlteracoes(...e)),style:{background:"#6366f1",color:"#fff",border:"none","border-radius":"6px",padding:"8px 18px","font-weight":"600",cursor:"pointer",display:"flex","align-items":"center",gap:"6px"},title:"Salvar alterações"},t[5]||(t[5]=[Ir("i",{class:"fas fa-save"},null,-1),Or(" Salvar ")]))]),Ir("div",MF,null,512)],64)}]]),BF={class:"flex flex-col bg-gray-100"},UF={class:"bg-white p-4 md:p-8 rounded shadow-md w-100 mx-auto lg:mx-4 mt-0 md:mt-8"},zF={class:"flex items-center gap-4 mb-6"},$F=["value"],HF=["disabled"],YF=["value"],WF={class:"flex border-b mb-4"},qF={key:0,class:"mb-[6rem]"},GF={class:"mb-8"},KF={key:0,class:"text-gray-500 italic"},XF={key:1,class:"space-y-2"},QF={class:"flex justify-between items-start"},JF={class:"flex-1"},ZF={class:"flex items-center gap-2 flex-wrap"},eV={class:"font-semibold"},tV={class:"text-sm text-gray-600"},nV={key:0,class:"text-sm text-gray-600"},iV={key:1,class:"text-sm text-gray-600"},rV={key:0,class:"text-sm text-gray-600 mt-1"},sV={class:"text-right"},oV={class:"mt-4 p-4 bg-gray-100 rounded"},aV={class:"flex justify-between"},lV={class:"text-green-600 font-bold"},cV={class:"flex justify-between mt-2"},uV={class:"text-red-600 font-bold"},dV={class:"flex justify-between mt-2 pt-2 border-t"},hV={class:"mb-8"},pV={key:0,class:"text-gray-500 italic"},fV={key:1,class:"space-y-2"},gV={class:"flex justify-between items-start"},mV={class:"flex-1"},vV={class:"flex items-center gap-2 flex-wrap"},yV={class:"font-semibold"},bV={class:"text-sm text-gray-600"},wV={key:0,class:"text-sm text-gray-600"},xV={key:1,class:"text-sm text-gray-600"},_V={key:0,class:"text-sm text-gray-600 mt-1"},kV={class:"text-right"},EV={class:"text-xl font-bold text-red-600"},CV={class:"mt-4 p-4 bg-gray-100 rounded"},SV={class:"flex justify-between"},TV={class:"text-red-600 font-bold text-lg"},DV={class:"mb-8"},IV={key:0,class:"text-gray-500 italic"},AV={key:1,class:"space-y-2"},MV={class:"flex justify-between items-start"},PV={class:"flex-1"},OV={class:"flex items-center gap-2 flex-wrap"},RV={class:"font-semibold"},LV={class:"text-sm text-gray-600"},NV={key:0,class:"text-sm text-gray-600"},FV={key:1,class:"text-sm text-gray-600"},VV={key:0,class:"text-sm text-gray-600 mt-1"},jV={class:"text-right"},BV={class:"text-xl font-bold text-green-600"},UV={class:"mt-4 p-4 bg-gray-100 rounded"},zV={class:"flex justify-between"},$V={class:"text-green-600 font-bold text-lg"},HV={key:1,class:"mb-[6rem]"},YV={class:"flex flex-wrap gap-4"},WV={class:"flex-1 min-w-0 rounded-l-md py-4 pr-2"},qV={class:"mb-6"},GV={class:"space-y-2 sm:space-y-4"},KV={class:"flex-1"},XV={class:"flex items-center gap-2 flex-wrap"},QV={class:"font-semibold"},JV={class:"text-sm text-gray-600"},ZV={key:0,class:"text-sm text-gray-600"},ej={key:1,class:"text-sm text-gray-600"},tj={class:"text-right"},nj={class:"text-lg font-semibold text-green-600"},ij={key:0,class:"text-gray-400 text-center py-2 text-sm"},rj={class:"mb-6"},sj={class:"space-y-2 sm:space-y-4"},oj={class:"flex-1"},aj={class:"flex items-center gap-2 flex-wrap"},lj={class:"font-semibold"},cj={class:"text-sm text-gray-600"},uj={key:0,class:"text-sm text-gray-600"},dj={key:1,class:"text-sm text-gray-600"},hj={class:"text-right"},pj={class:"text-lg font-semibold text-green-600"},fj={key:0,class:"text-gray-400 text-center py-2 text-sm"},gj={class:"flex-1 min-w-0 rounded-r-md py-4 pl-2"},mj={class:"mb-6"},vj={class:"space-y-2 sm:space-y-4"},yj={class:"flex-1"},bj={class:"flex items-center gap-2 flex-wrap"},wj={class:"font-semibold"},xj={class:"text-sm text-gray-600"},_j={key:0,class:"text-sm text-gray-600"},kj={key:1,class:"text-sm text-gray-600"},Ej={class:"text-right"},Cj={class:"text-lg font-semibold text-red-600"},Sj={key:0,class:"text-gray-400 text-center py-2 text-sm"},Tj={class:"mb-6"},Dj={class:"space-y-2 sm:space-y-4"},Ij={class:"flex-1"},Aj={class:"flex items-center gap-2 flex-wrap"},Mj={class:"font-semibold"},Pj={class:"text-sm text-gray-600"},Oj={key:0,class:"text-sm text-gray-600"},Rj={key:1,class:"text-sm text-gray-600"},Lj={class:"text-right"},Nj={class:"text-lg font-semibold text-red-600"},Fj={key:0,class:"text-gray-400 text-center py-2 text-sm"},Vj={name:"ConsultaGastosMes",setup(){const e=Ii("selectedGroup"),t=Pl(),n=bt(0),i=bt((new Date).getFullYear()),r=bt([]),s=bt({}),o=bt({}),a=bt("date"),l=[(new Date).getFullYear(),(new Date).getFullYear()-1,(new Date).getFullYear()-2],c=e=>{const[t,n,i]=e.split("-").map(Number);return new Date(t,n-1,i)},u=(e,t)=>({startDate:new Date(t,e-1,1),endDate:new Date(t,e,1)}),d=is((()=>{const e=new Date,t=e.getMonth()+1,{startDate:s,endDate:o}=0===n.value?u(t,e.getFullYear()):u(n.value,i.value);return r.value.filter((e=>{if(!e.date)return!1;const t=c(e.date);return t>=s&&t<o}))})),h=is((()=>d.value.filter((e=>{const t=s.value[e.account];return t&&"poupança"===t.type})).sort(((e,t)=>c(t.date)-c(e.date))))),p=is((()=>h.value.filter((e=>"income"===e.type)).reduce(((e,t)=>e+parseFloat(t.value)),0))),f=is((()=>h.value.filter((e=>"expense"===e.type)).reduce(((e,t)=>e+parseFloat(t.value)),0))),g=is((()=>p.value-f.value)),m=is((()=>d.value.filter((e=>{const t=s.value[e.account];return t&&"crédito"===t.type&&"expense"===e.type})).sort(((e,t)=>c(t.date)-c(e.date))))),v=is((()=>m.value.reduce(((e,t)=>e+parseFloat(t.value)),0))),y=is((()=>d.value.filter((e=>{const t=s.value[e.account];return t&&"caixinha"===t.type&&"income"===e.type})).sort(((e,t)=>c(t.date)-c(e.date))))),b=is((()=>y.value.reduce(((e,t)=>e+parseFloat(t.value)),0))),w=is((()=>h.value.filter((e=>"income"===e.type)).sort(((e,t)=>c(t.date)-c(e.date))))),x=is((()=>h.value.filter((e=>"expense"===e.type)).sort(((e,t)=>c(t.date)-c(e.date))))),_=is((()=>y.value.sort(((e,t)=>c(t.date)-c(e.date))))),k=is((()=>m.value.sort(((e,t)=>c(t.date)-c(e.date))))),E=async()=>{if(!e.value)return;const t=ap(),n=EE();if(t.currentUser){const t=bE(n,"accounts"),i=await bC(rC(t,oC("groupId","==",e.value))),a={};i.forEach((e=>{const t=e.data();!1!==t.active&&(a[e.id]=t)})),s.value=a;const l=bE(n,"categories"),c=await bC(rC(l,oC("groupId","==",e.value))),u={};c.forEach((e=>{u[e.id]=e.data()})),o.value=u,EC(rC(bE(n,"expenses"),oC("groupId","==",e.value)),(e=>{r.value=e.docs.map((e=>({id:e.id,...e.data()})))}))}};return $n((()=>{E()})),er(e,(()=>{E()})),er([n,i],(()=>{})),{selectedMonth:n,selectedYear:i,months:[{label:"Atual",value:0},{label:"Janeiro",value:1},{label:"Fevereiro",value:2},{label:"Março",value:3},{label:"Abril",value:4},{label:"Maio",value:5},{label:"Junho",value:6},{label:"Julho",value:7},{label:"Agosto",value:8},{label:"Setembro",value:9},{label:"Outubro",value:10},{label:"Novembro",value:11},{label:"Dezembro",value:12}],availableYears:l,gastosPoupanca:h,gastosCartao:m,receitasCaixinha:y,totalReceitasPoupanca:p,totalGastosPoupanca:f,saldoPoupanca:g,totalGastosCartao:v,totalReceitasCaixinha:b,formatCurrency:e=>parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),formatDate:e=>{if(!e)return"";const[t,n,i]=e.split("-");return`${i}/${n}/${t}`},getAccountName:e=>s.value[e]?.name||"",getCategoryName:e=>o.value[e]?.name||"",goBack:()=>{t.push("/dashboard")},viewMode:a,entradasPoupanca:w,saidasPoupanca:x,entradasCaixinha:_,saidasCartao:k}}},jj=(0,Mo.A)(Vj,[["render",function(e,t,n,i,r,s){return br(),kr("div",BF,[Ir("div",UF,[Ir("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"mb-4 text-blue-500 hover:text-blue-700 flex items-center"},t[5]||(t[5]=[Ir("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Ir("path",{d:"M19 12H5"}),Ir("path",{d:"M12 5l-7 7 7 7"})],-1),Or(" Voltar ")])),t[27]||(t[27]=Ir("h1",{class:"text-2xl font-bold mb-6 text-center"},"Consulta dos Gastos por Mês",-1)),Lr(" Seletor de Mês/Ano "),Ir("div",zF,[pn(Ir("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.selectedMonth=e),class:"p-2 border rounded"},[(br(!0),kr(pr,null,ri(i.months,(e=>(br(),kr("option",{key:e.value,value:e.value},Q(e.label),9,$F)))),128))],512),[[to,i.selectedMonth]]),pn(Ir("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.selectedYear=e),class:"p-2 border rounded",disabled:0==i.selectedMonth},[(br(!0),kr(pr,null,ri(i.availableYears,(e=>(br(),kr("option",{key:e,value:e},Q(e),9,YF)))),128))],8,HF),[[to,i.selectedYear]])]),Lr(" Abas "),Ir("div",WF,[Ir("button",{onClick:t[3]||(t[3]=e=>i.viewMode="date"),class:H(["px-4 py-2 text-sm font-medium rounded-t-md focus:outline-none focus:ring-2 focus:ring-blue-500","date"===i.viewMode?"text-white bg-blue-500":"text-white bg-gray-500"])}," Por Data ",2),Ir("button",{onClick:t[4]||(t[4]=e=>i.viewMode="type"),class:H(["px-4 py-2 text-sm font-medium rounded-t-md focus:outline-none focus:ring-2 focus:ring-blue-500","type"===i.viewMode?"text-white bg-blue-500":"text-white bg-gray-500"])}," Por Tipo (Entrada/Saída) ",2)]),Lr(" Layout Por Data "),"date"===i.viewMode?(br(),kr("div",qF,[Lr(" Seção 1: Gastos/Receitas de Poupança "),Ir("div",GF,[t[10]||(t[10]=Ir("h2",{class:"text-xl font-semibold mb-4 text-green-600"},"Gastos/Receitas de Poupança",-1)),0===i.gastosPoupanca.length?(br(),kr("div",KF," Nenhum registro encontrado ")):(br(),kr("div",XF,[(br(!0),kr(pr,null,ri(i.gastosPoupanca,(e=>(br(),kr("div",{key:e.id,class:H(["p-4 rounded shadow","income"===e.type?"bg-green-50 border-l-4 border-green-500":"bg-red-50 border-l-4 border-red-500"])},[Ir("div",QF,[Ir("div",JF,[Ir("div",ZF,[Ir("p",eV,Q(e.description),1),t[6]||(t[6]=Ir("span",{class:"text-sm text-gray-600"},"•",-1)),Ir("p",tV,Q(i.formatDate(e.date)),1),i.getAccountName(e.account)?(br(),kr("span",nV,"•")):Lr("v-if",!0),i.getAccountName(e.account)?(br(),kr("p",iV,Q(i.getAccountName(e.account)),1)):Lr("v-if",!0)]),i.getCategoryName(e.category)?(br(),kr("p",rV," Categoria: "+Q(i.getCategoryName(e.category)),1)):Lr("v-if",!0)]),Ir("div",sV,[Ir("p",{class:H(["text-xl font-bold","income"===e.type?"text-green-600":"text-red-600"])},Q("income"===e.type?"+":"-")+Q(i.formatCurrency(e.value)),3)])])],2)))),128)),Ir("div",oV,[Ir("div",aV,[t[7]||(t[7]=Ir("span",{class:"font-semibold"},"Total Receitas:",-1)),Ir("span",lV,Q(i.formatCurrency(i.totalReceitasPoupanca)),1)]),Ir("div",cV,[t[8]||(t[8]=Ir("span",{class:"font-semibold"},"Total Gastos:",-1)),Ir("span",uV,Q(i.formatCurrency(i.totalGastosPoupanca)),1)]),Ir("div",dV,[t[9]||(t[9]=Ir("span",{class:"font-semibold text-lg"},"Saldo:",-1)),Ir("span",{class:H(["font-bold text-lg",i.saldoPoupanca>=0?"text-green-600":"text-red-600"])},Q(i.formatCurrency(i.saldoPoupanca)),3)])])]))]),Lr(" Seção 2: Gastos no Cartão "),Ir("div",hV,[t[13]||(t[13]=Ir("h2",{class:"text-xl font-semibold mb-4 text-blue-600"},"Gastos no Cartão",-1)),0===i.gastosCartao.length?(br(),kr("div",pV," Nenhum registro encontrado ")):(br(),kr("div",fV,[(br(!0),kr(pr,null,ri(i.gastosCartao,(e=>(br(),kr("div",{key:e.id,class:"p-4 rounded shadow bg-blue-50 border-l-4 border-blue-500"},[Ir("div",gV,[Ir("div",mV,[Ir("div",vV,[Ir("p",yV,Q(e.description),1),t[11]||(t[11]=Ir("span",{class:"text-sm text-gray-600"},"•",-1)),Ir("p",bV,Q(i.formatDate(e.date)),1),i.getAccountName(e.account)?(br(),kr("span",wV,"•")):Lr("v-if",!0),i.getAccountName(e.account)?(br(),kr("p",xV,Q(i.getAccountName(e.account)),1)):Lr("v-if",!0)]),i.getCategoryName(e.category)?(br(),kr("p",_V," Categoria: "+Q(i.getCategoryName(e.category)),1)):Lr("v-if",!0)]),Ir("div",kV,[Ir("p",EV," -"+Q(i.formatCurrency(e.value)),1)])])])))),128)),Ir("div",CV,[Ir("div",SV,[t[12]||(t[12]=Ir("span",{class:"font-semibold text-lg"},"Total Gastos no Cartão:",-1)),Ir("span",TV,Q(i.formatCurrency(i.totalGastosCartao)),1)])])]))]),Lr(" Seção 3: Receitas dos Cofrinhos (Caixinha) "),Ir("div",DV,[t[16]||(t[16]=Ir("h2",{class:"text-xl font-semibold mb-4 text-purple-600"},"Receitas dos Cofrinhos",-1)),0===i.receitasCaixinha.length?(br(),kr("div",IV," Nenhum registro encontrado ")):(br(),kr("div",AV,[(br(!0),kr(pr,null,ri(i.receitasCaixinha,(e=>(br(),kr("div",{key:e.id,class:"p-4 rounded shadow bg-purple-50 border-l-4 border-purple-500"},[Ir("div",MV,[Ir("div",PV,[Ir("div",OV,[Ir("p",RV,Q(e.description),1),t[14]||(t[14]=Ir("span",{class:"text-sm text-gray-600"},"•",-1)),Ir("p",LV,Q(i.formatDate(e.date)),1),i.getAccountName(e.account)?(br(),kr("span",NV,"•")):Lr("v-if",!0),i.getAccountName(e.account)?(br(),kr("p",FV,Q(i.getAccountName(e.account)),1)):Lr("v-if",!0)]),i.getCategoryName(e.category)?(br(),kr("p",VV," Categoria: "+Q(i.getCategoryName(e.category)),1)):Lr("v-if",!0)]),Ir("div",jV,[Ir("p",BV," +"+Q(i.formatCurrency(e.value)),1)])])])))),128)),Ir("div",UV,[Ir("div",zV,[t[15]||(t[15]=Ir("span",{class:"font-semibold text-lg"},"Total Receitas dos Cofrinhos:",-1)),Ir("span",$V,Q(i.formatCurrency(i.totalReceitasCaixinha)),1)])])]))])])):Lr("v-if",!0),Lr(" Layout Por Tipo (Entrada/Saída) "),"type"===i.viewMode?(br(),kr("div",HV,[Ir("div",YV,[Lr(" Coluna Entradas "),Ir("div",WV,[t[21]||(t[21]=Ir("h3",{class:"text-lg font-medium text-green-500 mb-4"},"Entradas",-1)),Lr(" Seção: Receitas de Poupança "),Ir("div",qV,[t[18]||(t[18]=Ir("h4",{class:"text-md font-semibold text-green-600 mb-2"},"Receitas de Poupança",-1)),Ir("ul",GV,[(br(!0),kr(pr,null,ri(i.entradasPoupanca,(e=>(br(),kr("li",{key:e.id,class:"p-4 bg-green-50 border border-green-200 rounded-md flex justify-between items-center"},[Ir("div",KV,[Ir("div",XV,[Ir("p",QV,Q(e.description),1),t[17]||(t[17]=Ir("span",{class:"text-sm text-gray-600"},"•",-1)),Ir("p",JV,Q(i.formatDate(e.date)),1),i.getAccountName(e.account)?(br(),kr("span",ZV,"•")):Lr("v-if",!0),i.getAccountName(e.account)?(br(),kr("p",ej,Q(i.getAccountName(e.account)),1)):Lr("v-if",!0)])]),Ir("div",tj,[Ir("p",nj," +"+Q(i.formatCurrency(e.value)),1)])])))),128)),0===i.entradasPoupanca.length?(br(),kr("li",ij," Nenhuma receita encontrada ")):Lr("v-if",!0)])]),Lr(" Seção: Receitas dos Cofrinhos "),Ir("div",rj,[t[20]||(t[20]=Ir("h4",{class:"text-md font-semibold text-purple-600 mb-2"},"Receitas dos Cofrinhos",-1)),Ir("ul",sj,[(br(!0),kr(pr,null,ri(i.entradasCaixinha,(e=>(br(),kr("li",{key:e.id,class:"p-4 bg-purple-50 border border-purple-200 rounded-md flex justify-between items-center"},[Ir("div",oj,[Ir("div",aj,[Ir("p",lj,Q(e.description),1),t[19]||(t[19]=Ir("span",{class:"text-sm text-gray-600"},"•",-1)),Ir("p",cj,Q(i.formatDate(e.date)),1),i.getAccountName(e.account)?(br(),kr("span",uj,"•")):Lr("v-if",!0),i.getAccountName(e.account)?(br(),kr("p",dj,Q(i.getAccountName(e.account)),1)):Lr("v-if",!0)])]),Ir("div",hj,[Ir("p",pj," +"+Q(i.formatCurrency(e.value)),1)])])))),128)),0===i.entradasCaixinha.length?(br(),kr("li",fj," Nenhuma receita encontrada ")):Lr("v-if",!0)])])]),Lr(" Coluna Saídas "),Ir("div",gj,[t[26]||(t[26]=Ir("h3",{class:"text-lg font-medium text-red-500 mb-4"},"Saídas",-1)),Lr(" Seção: Gastos de Poupança "),Ir("div",mj,[t[23]||(t[23]=Ir("h4",{class:"text-md font-semibold text-red-600 mb-2"},"Gastos de Poupança",-1)),Ir("ul",vj,[(br(!0),kr(pr,null,ri(i.saidasPoupanca,(e=>(br(),kr("li",{key:e.id,class:"p-4 bg-red-50 border border-red-200 rounded-md flex justify-between items-center"},[Ir("div",yj,[Ir("div",bj,[Ir("p",wj,Q(e.description),1),t[22]||(t[22]=Ir("span",{class:"text-sm text-gray-600"},"•",-1)),Ir("p",xj,Q(i.formatDate(e.date)),1),i.getAccountName(e.account)?(br(),kr("span",_j,"•")):Lr("v-if",!0),i.getAccountName(e.account)?(br(),kr("p",kj,Q(i.getAccountName(e.account)),1)):Lr("v-if",!0)])]),Ir("div",Ej,[Ir("p",Cj," -"+Q(i.formatCurrency(e.value)),1)])])))),128)),0===i.saidasPoupanca.length?(br(),kr("li",Sj," Nenhum gasto encontrado ")):Lr("v-if",!0)])]),Lr(" Seção: Gastos no Cartão "),Ir("div",Tj,[t[25]||(t[25]=Ir("h4",{class:"text-md font-semibold text-blue-600 mb-2"},"Gastos no Cartão",-1)),Ir("ul",Dj,[(br(!0),kr(pr,null,ri(i.saidasCartao,(e=>(br(),kr("li",{key:e.id,class:"p-4 bg-blue-50 border border-blue-200 rounded-md flex justify-between items-center"},[Ir("div",Ij,[Ir("div",Aj,[Ir("p",Mj,Q(e.description),1),t[24]||(t[24]=Ir("span",{class:"text-sm text-gray-600"},"•",-1)),Ir("p",Pj,Q(i.formatDate(e.date)),1),i.getAccountName(e.account)?(br(),kr("span",Oj,"•")):Lr("v-if",!0),i.getAccountName(e.account)?(br(),kr("p",Rj,Q(i.getAccountName(e.account)),1)):Lr("v-if",!0)])]),Ir("div",Lj,[Ir("p",Nj," -"+Q(i.formatCurrency(e.value)),1)])])))),128)),0===i.saidasCartao.length?(br(),kr("li",Fj," Nenhum gasto encontrado ")):Lr("v-if",!0)])])])])])):Lr("v-if",!0)])])}]]),Bj={class:"flex flex-col bg-gray-100"},Uj={class:"bg-white p-4 md:p-8 rounded shadow-md w-full mx-auto lg:mx-4 mt-0 md:mt-8"},zj={class:"flex items-center justify-center gap-2 mb-6"},$j=["disabled"],Hj={class:"flex items-center gap-2"},Yj=["value"],Wj=["disabled"],qj=["value"],Gj={class:"flex items-center gap-2 mb-4 cursor-pointer"},Kj={class:"border rounded-lg overflow-hidden bg-white shadow-sm"},Xj={class:"bg-gray-50 px-2 md:px-4 py-2 border-b"},Qj={class:"text-sm font-medium text-gray-600"},Jj={class:"divide-y divide-gray-100"},Zj={class:"flex-1 min-w-0 overflow-hidden"},eB={class:"font-medium text-gray-800 line-clamp-2"},tB={class:"flex items-center gap-2 mt-1"},nB={key:0,class:"text-sm text-gray-500"},iB=["checked","onChange"],rB={class:"flex flex-col items-end justify-start flex-shrink-0 w-[120px] md:w-[140px] pt-0"},sB={class:"text-sm font-medium text-gray-600 mt-0.5 text-right whitespace-nowrap"},oB={key:0,class:"flex justify-between items-center px-2 md:px-4 py-4 bg-blue-50 border-t-2 border-blue-200"},aB={key:0,class:"px-2 md:px-4 py-6 text-center text-gray-500"},lB={class:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto"},cB={class:"sticky top-0 bg-white border-b px-4 py-3 flex justify-between items-center"},uB={class:"p-4"},dB={class:"space-y-4"},hB={class:"border-b pb-3"},pB={key:0,class:"border-b pb-3"},fB={key:1,class:"border-b pb-3"},gB={class:"space-y-2"},mB={class:"text-gray-600"},vB={class:"pt-2"},yB={class:"mt-4 p-3 bg-blue-50 rounded text-sm text-gray-600"},bB={key:0},wB={key:1},xB={name:"Previsao",setup(){const e=Ii("selectedGroup"),t=Pl(),n=bt(0),i=bt((new Date).getFullYear()),r=bt(!1),s=bt([]),o=bt([]),a=bt({}),l=bt(!1),c=[{label:"Atual",value:0},{label:"Janeiro",value:1},{label:"Fevereiro",value:2},{label:"Março",value:3},{label:"Abril",value:4},{label:"Maio",value:5},{label:"Junho",value:6},{label:"Julho",value:7},{label:"Agosto",value:8},{label:"Setembro",value:9},{label:"Outubro",value:10},{label:"Novembro",value:11},{label:"Dezembro",value:12}],u=new Date,d=u.getFullYear(),h=u.getMonth()+1,p=is((()=>{const e=[d,d+1],t=0===n.value?d:i.value;return t>d&&!e.includes(t)&&e.push(t),e.sort(((e,t)=>e-t))})),f=is((()=>(0===n.value?d:i.value)>d?c.filter((e=>e.value>=1)):c.filter((e=>0===e.value||e.value>=h)))),g=is((()=>{const e=0===n.value?h:n.value,t=0===n.value?d:i.value;return t>d||t===d&&e>h})),m=e=>{if(!e)return"";const[t,n,i]=e.split("-").map(Number);return`${String(i).padStart(2,"0")}/${String(n).padStart(2,"0")}/${t}`},v=e=>{if(!e)return null;const[t,n,i]=e.split("-").map(Number);return new Date(t,n-1,i)},y=(e,t)=>({startDate:new Date(t,e-1,1),endDate:new Date(t,e,1)}),b=is((()=>0===n.value?(new Date).getMonth()+1:n.value)),w=is((()=>0===n.value?(new Date).getFullYear():i.value)),x=is((()=>{const e=new Date;return e.setHours(0,0,0,0),e})),_=is((()=>{const e=new Date;return b.value===e.getMonth()+1&&w.value===e.getFullYear()})),k=is((()=>{const e=0===n.value?"Mês atual":`${c.find((e=>e.value===n.value))?.label||""} de ${w.value}`;return _.value?`${e} (a partir de hoje)`:e})),E=is((()=>{let e=0;return s.value.forEach((t=>{const n=a.value[t.account];if(!n)return;const i="poupança"===n.type,s="caixinha"===n.type;if(!(i||r.value&&s))return;const o=parseFloat(t.value);"income"===t.type?e+=o:"expense"===t.type&&(e-=o)})),e})),C=is((()=>{let e=0,t=0;s.value.forEach((n=>{const i=a.value[n.account];if(!i)return;const s="poupança"===i.type,o="caixinha"===i.type,l=parseFloat(n.value),c="income"===n.type?l:-l;s?e+=c:o&&r.value&&(t+=c)}));const n=[],i=b.value,o=w.value;if(i!==h||o!==d){let s=e+(r.value?t:0),a=h,l=d;for(;a!==i||l!==o;){const e=S(a,l);let t=0;if(e.forEach((e=>{e.isPaid||("income"===e.type?t+=e.value:t-=e.value)})),0!==t){const e=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];n.push({periodo:`${e[a-1]} de ${l}`,saldo:t})}s+=t,12===a?(a=1,l+=1):a+=1}}return{poupanca:e,caixinhas:t,ajustesPeriodosAnteriores:n}}));function S(e,t){const n=[],i=e===h&&t===d,r=x.value.getTime(),l=(new Date).getDate(),{startDate:c,endDate:u}=y(e,t);s.value.forEach((e=>{const t=a.value[e.account];if(!t||"poupança"!==t.type)return;const s=v(e.date);!s||s<c||s>=u||i&&s.getTime()<r||n.push({id:`exp-${e.id}`,type:e.type,description:e.description||"Sem descrição",value:parseFloat(e.value),dateForSort:s.getTime(),dateLabel:m(e.date)})}));const p=12*(t-d)+(e-h);return o.value.forEach((r=>{const s=r.startDate;let o=0;if(s&&"string"==typeof s&&s.match(/^\d{4}-\d{2}$/)){const[e,t]=s.split("-").map(Number);o=12*(e-d)+(t-h)}if(p<o)return;const a=r.parcelas,c=null==a||0===a,u=c?null:Math.max(1,parseInt(a,10)||1);if(!c&&p>=o+u)return;const f=Math.min(31,Math.max(1,parseInt(r.dueDay,10)||1));if(i&&f<l)return;const g=new Date(t,e-1,f).getTime(),m=c?"":u>1?` (${p-o+1}/${u})`:"",v=(r.paidMonths||[]).includes(p.toString());n.push({id:`pred-${r.id}-${p}`,type:r.type,description:(r.description||"Sem descrição")+m,value:parseFloat(r.value),dateForSort:g,dateLabel:`Venc. dia ${f}`,predictedExpenseId:r.id,mesIndex:p.toString(),isPaid:v})})),n.sort(((e,t)=>e.dateForSort-t.dateForSort)),n}const T=is((()=>{const e=b.value,t=w.value;if(e===h&&t===d)return E.value;let n=E.value,i=h,r=d;for(;i!==e||r!==t;)S(i,r).forEach((e=>{e.isPaid||("income"===e.type?n+=e.value:n-=e.value)})),12===i?(i=1,r+=1):i+=1;return n})),D=(is((()=>{const{startDate:e,endDate:t}=y(b.value,w.value);return s.value.filter((n=>{const i=a.value[n.account];if(!i||"poupança"!==i.type)return!1;const r=v(n.date);return r&&r>=e&&r<t}))})),is((()=>S(b.value,w.value)))),I=is((()=>{let e=T.value;return D.value.map((t=>(t.isPaid||("income"===t.type?e+=t.value:e-=t.value),{...t,saldo:e})))})),A=is((()=>{let e=T.value;return D.value.forEach((t=>{t.isPaid||("income"===t.type?e+=t.value:e-=t.value)})),e})),M=async()=>{if(!e.value)return;const t=ap(),n=EE();if(!t.currentUser)return;const i=bE(n,"accounts"),r=await bC(rC(i,oC("groupId","==",e.value))),l={};r.forEach((e=>{const t=e.data();!1!==t.active&&(l[e.id]=t)})),a.value=l,EC(rC(bE(n,"expenses"),oC("groupId","==",e.value)),(e=>{s.value=e.docs.map((e=>({id:e.id,...e.data()})))})),EC(rC(bE(n,"predictedExpenses"),oC("groupId","==",e.value)),(e=>{o.value=e.docs.map((e=>({id:e.id,...e.data()})))}))};return $n((()=>M())),er(e,(()=>M())),er([n,i],(()=>{i.value<d&&(i.value=d),0!==n.value&&i.value===d&&n.value<h&&(n.value=0)})),{selectedMonth:n,selectedYear:i,incluirCaixinhasNoSaldo:r,months:c,monthsOptions:f,availableYears:p,canGoPrevPeriod:g,periodoLabel:k,saldoAtual:E,saldoInicioDoPeriodo:T,extratoLinhas:I,saldoQueFicaria:A,formatCurrency:e=>parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),goBack:()=>t.push("/dashboard"),goPrevPeriod:()=>{const e=new Date,t=0===n.value?e.getMonth()+1:n.value,r=0===n.value?e.getFullYear():i.value;1===t?(n.value=12,i.value=r-1):(n.value=t-1,i.value=r)},goNextPeriod:()=>{const e=new Date,t=0===n.value?e.getMonth()+1:n.value,r=0===n.value?e.getFullYear():i.value;12===t?(n.value=1,i.value=r+1):(n.value=t+1,i.value=r)},togglePaidStatus:async e=>{if(e.predictedExpenseId&&e.mesIndex)try{const t=wE(EE(),"predictedExpenses",e.predictedExpenseId),n=e.mesIndex.toString(),i=o.value.find((t=>t.id===e.predictedExpenseId));(i?.paidMonths||[]).includes(n)?await xC(t,{paidMonths:DC(n)}):await xC(t,{paidMonths:TC(n)})}catch(e){console.error("Erro ao atualizar status de pagamento:",e)}},mostrarModalSaldo:l,detalhesSaldo:C,isMesAtual:_}}},_B=(0,Mo.A)(xB,[["render",function(e,t,n,i,r,s){return br(),kr("div",Bj,[Ir("div",Uj,[Ir("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"mb-4 text-blue-500 hover:text-blue-700 flex items-center"},t[10]||(t[10]=[Ir("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[Ir("path",{d:"M19 12H5"}),Ir("path",{d:"M12 5l-7 7 7 7"})],-1),Or(" Voltar ")])),t[17]||(t[17]=Ir("h1",{class:"text-2xl font-bold mb-2 text-center"},"Previsão",-1)),t[18]||(t[18]=Ir("p",{class:"text-gray-600 text-center mb-6"},"Extrato previsto do mês",-1)),Lr(" Seletor de Mês/Ano com setas "),Ir("div",zj,[Ir("button",{type:"button",onClick:t[1]||(t[1]=(...e)=>i.goPrevPeriod&&i.goPrevPeriod(...e)),disabled:!i.canGoPrevPeriod,class:H(["p-2 rounded-full border transition-colors",i.canGoPrevPeriod?"border-gray-300 hover:bg-gray-100 text-gray-700":"border-gray-200 text-gray-400 cursor-not-allowed"]),title:"Período anterior"},t[11]||(t[11]=[Ir("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[Ir("path",{d:"M15 18l-6-6 6-6"})],-1)]),10,$j),Ir("div",Hj,[pn(Ir("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.selectedMonth=e),class:"p-2 border rounded"},[(br(!0),kr(pr,null,ri(i.monthsOptions,(e=>(br(),kr("option",{key:e.value,value:e.value},Q(e.label),9,Yj)))),128))],512),[[to,i.selectedMonth]]),pn(Ir("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedYear=e),class:"p-2 border rounded",disabled:0===i.selectedMonth},[(br(!0),kr(pr,null,ri(i.availableYears,(e=>(br(),kr("option",{key:e,value:e},Q(e),9,qj)))),128))],8,Wj),[[to,i.selectedYear]])]),Ir("button",{type:"button",onClick:t[4]||(t[4]=(...e)=>i.goNextPeriod&&i.goNextPeriod(...e)),class:"p-2 rounded-full border border-gray-300 hover:bg-gray-100 text-gray-700 transition-colors",title:"Próximo período"},t[12]||(t[12]=[Ir("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[Ir("path",{d:"M9 18l6-6-6-6"})],-1)]))]),Ir("label",Gj,[pn(Ir("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.incluirCaixinhasNoSaldo=e),type:"checkbox",class:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"},null,512),[[Js,i.incluirCaixinhasNoSaldo]]),t[13]||(t[13]=Ir("span",{class:"text-sm text-gray-700"},"Considerar caixinhas no saldo inicial",-1))]),Lr(" Extrato transação por transação "),Ir("div",Kj,[Ir("div",Xj,[Ir("p",Qj,"Período: "+Q(i.periodoLabel),1)]),Ir("div",Jj,[Lr(" Saldo inicial (acumulado do período anterior quando for mês futuro) "),Ir("div",{class:"flex justify-between items-center px-2 md:px-4 py-3 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:t[6]||(t[6]=e=>i.mostrarModalSaldo=!0)},[t[14]||(t[14]=Ir("p",{class:"font-semibold text-gray-800"},"Saldo",-1)),Ir("p",{class:H(["text-lg font-bold tabular-nums",i.saldoInicioDoPeriodo>=0?"text-green-600":"text-red-600"])},Q(i.formatCurrency(i.saldoInicioDoPeriodo)),3)]),Lr(" Cada transação com saldo após "),(br(!0),kr(pr,null,ri(i.extratoLinhas,((e,n)=>(br(),kr("div",{key:e.id||n,class:H(["flex items-start px-2 md:px-4 py-3 gap-2 max-w-full overflow-hidden",["income"===e.type?"bg-green-50/40":"expense"===e.type?"bg-red-50/40":"",e.isPaid?"opacity-60":""]])},[Ir("div",Zj,[Lr(" Descrição: pode ocupar até 2 linhas "),Ir("p",eB,Q(e.description),1),Lr(" Vencimento e Checkbox na mesma linha "),Ir("div",tB,[e.dateLabel?(br(),kr("p",nB,Q(e.dateLabel),1)):Lr("v-if",!0),Lr(" Checkbox para marcar como pago (apenas para gastos previstos) "),"expense"===e.type&&e.predictedExpenseId?(br(),kr("label",{key:1,class:"flex items-center gap-1 cursor-pointer",onClick:t[7]||(t[7]=co((()=>{}),["stop"]))},[Ir("input",{type:"checkbox",checked:e.isPaid,onChange:t=>i.togglePaidStatus(e),class:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"},null,40,iB),t[15]||(t[15]=Ir("span",{class:"text-xs text-gray-600 whitespace-nowrap"},"Pago",-1))])):Lr("v-if",!0)])]),Ir("div",rB,[Ir("p",{class:H(["font-semibold tabular-nums text-right","income"===e.type?"text-green-600":"text-red-600"])},Q("income"===e.type?"+":"-")+Q(i.formatCurrency(e.value)),3),Ir("p",sB,"saldo: "+Q(i.formatCurrency(e.saldo)),1)])],2)))),128)),Lr(" Saldo final (se houve transações) "),i.extratoLinhas.length>0?(br(),kr("div",oB,[t[16]||(t[16]=Ir("p",{class:"font-semibold text-gray-800"},"Saldo que ficaria",-1)),Ir("p",{class:H(["text-xl font-bold tabular-nums",i.saldoQueFicaria>=0?"text-green-600":"text-red-600"])},Q(i.formatCurrency(i.saldoQueFicaria)),3)])):Lr("v-if",!0)]),0===i.extratoLinhas.length?(br(),kr("div",aB," Nenhuma transação prevista neste mês. ")):Lr("v-if",!0)])]),Lr(" Modal de Detalhes do Saldo "),i.mostrarModalSaldo?(br(),kr("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t[9]||(t[9]=co((e=>i.mostrarModalSaldo=!1),["self"]))},[Ir("div",lB,[Ir("div",cB,[t[19]||(t[19]=Ir("h2",{class:"text-xl font-bold text-gray-800"},"Detalhes do Saldo",-1)),Ir("button",{onClick:t[8]||(t[8]=e=>i.mostrarModalSaldo=!1),class:"text-gray-500 hover:text-gray-700 text-2xl leading-none"}," × ")]),Ir("div",uB,[Ir("div",dB,[Lr(" Saldo da Poupança "),Ir("div",hB,[t[20]||(t[20]=Ir("p",{class:"text-sm font-medium text-gray-600 mb-2"},"Saldo da Poupança",-1)),Ir("p",{class:H(["text-lg font-semibold",i.detalhesSaldo.poupanca>=0?"text-green-600":"text-red-600"])},Q(i.formatCurrency(i.detalhesSaldo.poupanca)),3)]),Lr(" Saldo das Caixinhas "),i.incluirCaixinhasNoSaldo?(br(),kr("div",pB,[t[21]||(t[21]=Ir("p",{class:"text-sm font-medium text-gray-600 mb-2"},"Saldo das Caixinhas",-1)),Ir("p",{class:H(["text-lg font-semibold",i.detalhesSaldo.caixinhas>=0?"text-green-600":"text-red-600"])},Q(i.formatCurrency(i.detalhesSaldo.caixinhas)),3)])):Lr("v-if",!0),Lr(" Ajustes de Períodos Anteriores (se for período futuro) "),i.detalhesSaldo.ajustesPeriodosAnteriores.length>0?(br(),kr("div",fB,[t[22]||(t[22]=Ir("p",{class:"text-sm font-medium text-gray-600 mb-2"},"Ajustes de Períodos Anteriores",-1)),Ir("div",gB,[(br(!0),kr(pr,null,ri(i.detalhesSaldo.ajustesPeriodosAnteriores,((e,t)=>(br(),kr("div",{key:t,class:"flex justify-between items-center text-sm"},[Ir("span",mB,Q(e.periodo),1),Ir("span",{class:H(e.saldo>=0?"text-green-600":"text-red-600")},Q(i.formatCurrency(e.saldo)),3)])))),128))])])):Lr("v-if",!0),Lr(" Total "),Ir("div",vB,[t[23]||(t[23]=Ir("p",{class:"text-sm font-medium text-gray-600 mb-2"},"Total",-1)),Ir("p",{class:H(["text-xl font-bold",i.saldoInicioDoPeriodo>=0?"text-green-600":"text-red-600"])},Q(i.formatCurrency(i.saldoInicioDoPeriodo)),3)]),Lr(" Informação adicional "),Ir("div",yB,[i.isMesAtual?(br(),kr("p",bB," Este saldo considera todas as transações realizadas até hoje na poupança"+Q(i.incluirCaixinhasNoSaldo?" e nas caixinhas":"")+". ",1)):(br(),kr("p",wB," Este saldo é calculado acumulando o saldo atual com todas as transações previstas dos meses anteriores ao período selecionado. "))])])])])])):Lr("v-if",!0)])}]]),kB=_B,EB={class:"flex flex-col bg-gray-100 min-h-screen"},CB={class:"bg-white p-4 md:p-8 rounded shadow-md w-full max-w-full overflow-hidden mx-auto lg:mx-4 mt-4 md:mt-8"},SB={class:"mb-4"},TB={class:"mb-4"},DB={class:"mb-4"},IB=["value"],AB={class:"mb-4"},MB={class:"mb-4"},PB=["disabled"],OB={key:0},RB={key:1},LB={class:"mt-6 md:mt-8"},NB={key:0,class:"text-gray-500 italic text-center py-8"},FB={key:1,class:"space-y-4"},VB={class:"flex flex-col md:flex-row md:justify-between md:items-start gap-3 mb-4"},jB={class:"flex-1 min-w-0"},BB={class:"text-base md:text-lg font-semibold mb-2 break-words"},UB={key:0,class:"text-sm text-gray-600 mb-2 whitespace-pre-wrap break-all",style:{"word-break":"break-all","overflow-wrap":"anywhere"}},zB={class:"text-sm text-gray-500"},$B={class:"font-medium"},HB={class:"flex items-center gap-2 flex-shrink-0"},YB=["onClick"],WB=["onClick"],qB={class:"mb-4"},GB={class:"flex flex-col md:flex-row md:justify-between md:items-center gap-1 md:gap-0 mb-2"},KB={class:"text-xs md:text-sm font-semibold"},XB={class:"w-full bg-gray-200 rounded-full h-3 md:h-4"},QB={class:"flex flex-col md:flex-row md:justify-between gap-1 md:gap-0 text-xs text-gray-500 mt-1"},JB={key:0,class:"break-words"},ZB={key:1,class:"text-green-600 font-semibold"},eU={class:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4 text-sm"},tU={class:"font-semibold"},nU={class:"font-semibold"},iU={key:0,class:"mt-4 pt-4 border-t"},rU={class:"text-sm text-gray-600 break-words"},sU={class:"block md:inline md:ml-2 text-blue-600 font-semibold mt-1 md:mt-0"},oU={key:0,class:"mt-6 md:mt-8 bg-gray-200 p-4 md:p-6 rounded"},aU={class:"mb-4"},lU={class:"mb-4"},cU={class:"mb-4"},uU=["value"],dU={class:"mb-4"},hU={class:"mb-4"},pU=["disabled"],fU={key:0},gU={key:1},mU={name:"Metas",setup(){const e=Ii("selectedGroup"),t=Pl(),n=bt({name:"",description:"",accountId:"",monthlyAmount:0,totalAmount:0}),i=bt([]),r=bt([]),s=bt([]),o=bt(!1),a=bt(null),l=is((()=>r.value.filter((e=>"caixinha"===e.type&&!1!==e.active)))),c=e=>s.value.filter((t=>t.account===e.accountId&&"income"===t.type)).reduce(((e,t)=>e+parseFloat(t.value||0)),0);function u(){e.value?EC(rC(bE(EE(),"accounts"),oC("groupId","==",e.value)),(e=>{r.value=e.docs.filter((e=>!1!==e.data().active)).map((e=>({id:e.id,...e.data()})))}),(e=>{console.error("Erro ao ouvir mudanças nas contas:",e)})):console.error("Nenhum grupo selecionado")}function d(){e.value&&EC(rC(bE(EE(),"expenses"),oC("groupId","==",e.value)),(e=>{s.value=e.docs.map((e=>({id:e.id,...e.data()}))),i.value.forEach((e=>{e.currentAmount=c(e)}))}),(e=>{console.error("Erro ao ouvir mudanças nos expenses:",e)}))}function h(){e.value?EC(rC(bE(EE(),"metas"),oC("groupId","==",e.value)),(e=>{i.value=e.docs.map((e=>{const t={id:e.id,...e.data()};return t.currentAmount=c(t),t}))}),(e=>{console.error("Erro ao ouvir mudanças nas metas:",e)})):console.error("Nenhum grupo selecionado")}return $n((()=>{u(),d(),h()})),er(e,((e,t)=>{u(),d(),h()})),{newMeta:n,metas:i,accounts:r,caixinhaAccounts:l,loading:o,editingMeta:a,addMeta:async function(){o.value=!0;try{const t=ap(),i=EE(),r=t.currentUser;await kC(bE(i,"metas"),{name:n.value.name,description:n.value.description||"",accountId:n.value.accountId,monthlyAmount:parseFloat(n.value.monthlyAmount),totalAmount:parseFloat(n.value.totalAmount),createdBy:r.uid,createdAt:new Date,groupId:e.value}),n.value={name:"",description:"",accountId:"",monthlyAmount:0,totalAmount:0}}catch(e){console.error("Erro ao adicionar meta:",e)}finally{o.value=!1}},deleteMeta:async function(e){if(confirm("Tem certeza que deseja excluir esta meta?"))try{const t=EE();await _C(wE(t,"metas",e))}catch(e){console.error("Erro ao excluir meta:",e)}},updateMeta:async function(){o.value=!0;try{const e=wE(EE(),"metas",a.value.id);await xC(e,{name:a.value.name,description:a.value.description||"",accountId:a.value.accountId,monthlyAmount:parseFloat(a.value.monthlyAmount),totalAmount:parseFloat(a.value.totalAmount)}),a.value=null}catch(e){console.error("Erro ao atualizar meta:",e)}finally{o.value=!1}},editMeta:function(e){a.value={...e}},cancelEdit:function(){a.value=null},goBack:function(){t.push("/dashboard")},formatCurrency:e=>parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),getAccountName:e=>{const t=r.value.find((t=>t.id===e));return t?t.name:"Conta não encontrada"},getProgressPercentage:e=>e.totalAmount&&0!==e.totalAmount?e.currentAmount/e.totalAmount*100:0,getEstimatedEndDate:e=>{if(!e.monthlyAmount||e.monthlyAmount<=0)return"Não calculável";const t=e.totalAmount-e.currentAmount;if(t<=0)return"Meta já alcançada";const n=Math.ceil(t/e.monthlyAmount),i=new Date,r=new Date(i);return r.setMonth(i.getMonth()+n),r.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}}}},vU=(0,Mo.A)(mU,[["render",function(e,t,n,i,r,s){return br(),kr("div",EB,[Ir("div",CB,[Ir("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"mb-4 text-blue-500 hover:text-blue-700 flex items-center"},t[14]||(t[14]=[Ir("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Ir("path",{d:"M19 12H5"}),Ir("path",{d:"M12 5l-7 7 7 7"})],-1),Or(" Voltar ")])),t[36]||(t[36]=Ir("h1",{class:"text-xl md:text-2xl font-bold mb-4 md:mb-6 text-center"},"Metas",-1)),Lr(" Formulário de Adição "),Ir("form",{onSubmit:t[6]||(t[6]=co(((...e)=>i.addMeta&&i.addMeta(...e)),["prevent"]))},[Ir("div",SB,[t[15]||(t[15]=Ir("label",{for:"metaName",class:"block text-sm font-medium text-gray-700 mb-1"},"Nome da Meta",-1)),pn(Ir("input",{id:"metaName","onUpdate:modelValue":t[1]||(t[1]=e=>i.newMeta.name=e),placeholder:"Nome da Meta",class:"w-full p-2 border rounded",required:""},null,512),[[Qs,i.newMeta.name]])]),Ir("div",TB,[t[16]||(t[16]=Ir("label",{for:"metaDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Descrição (opcional)",-1)),pn(Ir("textarea",{id:"metaDescription","onUpdate:modelValue":t[2]||(t[2]=e=>i.newMeta.description=e),placeholder:"Descrição (opcional)",class:"w-full p-2 border rounded",rows:"3"},null,512),[[Qs,i.newMeta.description]])]),Ir("div",DB,[t[18]||(t[18]=Ir("label",{for:"metaAccount",class:"block text-sm font-medium text-gray-700 mb-1"},"Conta Caixinha",-1)),pn(Ir("select",{id:"metaAccount","onUpdate:modelValue":t[3]||(t[3]=e=>i.newMeta.accountId=e),class:"w-full p-2 border rounded",required:""},[t[17]||(t[17]=Ir("option",{value:""},"Selecione uma Conta Caixinha",-1)),(br(!0),kr(pr,null,ri(i.caixinhaAccounts,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.name),9,IB)))),128))],512),[[to,i.newMeta.accountId]])]),Ir("div",AB,[t[19]||(t[19]=Ir("label",{for:"metaMonthlyAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Valor a guardar por mês",-1)),pn(Ir("input",{id:"metaMonthlyAmount","onUpdate:modelValue":t[4]||(t[4]=e=>i.newMeta.monthlyAmount=e),type:"number",step:"0.01",min:"0",placeholder:"Valor a guardar por mês",class:"w-full p-2 border rounded",required:""},null,512),[[Qs,i.newMeta.monthlyAmount,void 0,{number:!0}]])]),Ir("div",MB,[t[20]||(t[20]=Ir("label",{for:"metaTotalAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Valor total a guardar",-1)),pn(Ir("input",{id:"metaTotalAmount","onUpdate:modelValue":t[5]||(t[5]=e=>i.newMeta.totalAmount=e),type:"number",step:"0.01",min:"0",placeholder:"Valor total a guardar",class:"w-full p-2 border rounded",required:""},null,512),[[Qs,i.newMeta.totalAmount,void 0,{number:!0}]])]),Ir("button",{type:"submit",disabled:i.loading,class:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-700"},[i.loading?(br(),kr("span",OB,"Adicionando...")):(br(),kr("span",RB,"Adicionar Meta"))],8,PB)],32),Lr(" Lista de Metas "),Ir("div",LB,[t[28]||(t[28]=Ir("h2",{class:"text-lg md:text-xl font-semibold mb-4"},"Minhas Metas",-1)),0===i.metas.length?(br(),kr("div",NB," Nenhuma meta cadastrada ")):(br(),kr("div",FB,[(br(!0),kr(pr,null,ri(i.metas,(e=>(br(),kr("div",{key:e.id,class:"p-4 md:p-6 bg-white border rounded-lg shadow-md overflow-hidden"},[Ir("div",VB,[Ir("div",jB,[Ir("h3",BB,Q(e.name),1),e.description?(br(),kr("p",UB,Q(e.description),1)):Lr("v-if",!0),Ir("p",zB,[t[21]||(t[21]=Or(" Conta: ")),Ir("span",$B,Q(i.getAccountName(e.accountId)),1)])]),Ir("div",HB,[Ir("button",{onClick:t=>i.editMeta(e),class:"bg-yellow-500 text-white py-2 px-3 rounded hover:bg-yellow-600 transition-colors",title:"Editar"},t[22]||(t[22]=[Ir("i",{class:"fas fa-edit"},null,-1)]),8,YB),Ir("button",{onClick:t=>i.deleteMeta(e.id),class:"bg-red-500 text-white py-2 px-3 rounded hover:bg-red-600 transition-colors",title:"Excluir"},t[23]||(t[23]=[Ir("i",{class:"fas fa-trash"},null,-1)]),8,WB)])]),Lr(" Progresso "),Ir("div",qB,[Ir("div",GB,[t[24]||(t[24]=Ir("span",{class:"text-sm text-gray-600"},"Progresso",-1)),Ir("span",KB,Q(i.formatCurrency(e.currentAmount))+" / "+Q(i.formatCurrency(e.totalAmount)),1)]),Ir("div",XB,[Ir("div",{class:H(["h-3 md:h-4 rounded-full transition-all",i.getProgressPercentage(e)>=100?"bg-green-500":"bg-blue-500"]),style:j({width:Math.min(i.getProgressPercentage(e),100)+"%"})},null,6)]),Ir("div",QB,[Ir("span",null,Q(i.getProgressPercentage(e).toFixed(1))+"%",1),i.getProgressPercentage(e)<100?(br(),kr("span",JB," Faltam "+Q(i.formatCurrency(e.totalAmount-e.currentAmount)),1)):(br(),kr("span",ZB,"Meta alcançada! 🎉"))])]),Lr(" Informações "),Ir("div",eU,[Ir("div",null,[t[25]||(t[25]=Ir("p",{class:"text-gray-600"},"Por mês:",-1)),Ir("p",tU,Q(i.formatCurrency(e.monthlyAmount)),1)]),Ir("div",null,[t[26]||(t[26]=Ir("p",{class:"text-gray-600"},"Total:",-1)),Ir("p",nU,Q(i.formatCurrency(e.totalAmount)),1)])]),Lr(" Data de Término "),i.getProgressPercentage(e)<100&&e.monthlyAmount>0?(br(),kr("div",iU,[Ir("p",rU,[t[27]||(t[27]=Ir("span",{class:"font-medium"},"Previsão de término:",-1)),Ir("span",sU,Q(i.getEstimatedEndDate(e)),1)])])):Lr("v-if",!0)])))),128))]))]),Lr(" Formulário de Edição "),i.editingMeta?(br(),kr("div",oU,[t[35]||(t[35]=Ir("h2",{class:"text-lg md:text-xl font-semibold mb-4 text-center"},"Editar Meta",-1)),Ir("form",{onSubmit:t[13]||(t[13]=co(((...e)=>i.updateMeta&&i.updateMeta(...e)),["prevent"]))},[Ir("div",aU,[t[29]||(t[29]=Ir("label",{for:"editMetaName",class:"block text-sm font-medium text-gray-700 mb-1"},"Nome da Meta",-1)),pn(Ir("input",{id:"editMetaName","onUpdate:modelValue":t[7]||(t[7]=e=>i.editingMeta.name=e),placeholder:"Nome da Meta",class:"w-full p-2 border rounded",required:""},null,512),[[Qs,i.editingMeta.name]])]),Ir("div",lU,[t[30]||(t[30]=Ir("label",{for:"editMetaDescription",class:"block text-sm font-medium text-gray-700 mb-1"},"Descrição (opcional)",-1)),pn(Ir("textarea",{id:"editMetaDescription","onUpdate:modelValue":t[8]||(t[8]=e=>i.editingMeta.description=e),placeholder:"Descrição (opcional)",class:"w-full p-2 border rounded",rows:"3"},null,512),[[Qs,i.editingMeta.description]])]),Ir("div",cU,[t[32]||(t[32]=Ir("label",{for:"editMetaAccount",class:"block text-sm font-medium text-gray-700 mb-1"},"Conta Caixinha",-1)),pn(Ir("select",{id:"editMetaAccount","onUpdate:modelValue":t[9]||(t[9]=e=>i.editingMeta.accountId=e),class:"w-full p-2 border rounded",required:""},[t[31]||(t[31]=Ir("option",{value:""},"Selecione uma Conta Caixinha",-1)),(br(!0),kr(pr,null,ri(i.caixinhaAccounts,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.name),9,uU)))),128))],512),[[to,i.editingMeta.accountId]])]),Ir("div",dU,[t[33]||(t[33]=Ir("label",{for:"editMetaMonthlyAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Valor a guardar por mês",-1)),pn(Ir("input",{id:"editMetaMonthlyAmount","onUpdate:modelValue":t[10]||(t[10]=e=>i.editingMeta.monthlyAmount=e),type:"number",step:"0.01",min:"0",placeholder:"Valor a guardar por mês",class:"w-full p-2 border rounded",required:""},null,512),[[Qs,i.editingMeta.monthlyAmount,void 0,{number:!0}]])]),Ir("div",hU,[t[34]||(t[34]=Ir("label",{for:"editMetaTotalAmount",class:"block text-sm font-medium text-gray-700 mb-1"},"Valor total a guardar",-1)),pn(Ir("input",{id:"editMetaTotalAmount","onUpdate:modelValue":t[11]||(t[11]=e=>i.editingMeta.totalAmount=e),type:"number",step:"0.01",min:"0",placeholder:"Valor total a guardar",class:"w-full p-2 border rounded",required:""},null,512),[[Qs,i.editingMeta.totalAmount,void 0,{number:!0}]])]),Ir("button",{type:"submit",disabled:i.loading,class:"w-full bg-green-500 text-white py-2 rounded hover:bg-green-700"},[i.loading?(br(),kr("span",fU,"Salvando...")):(br(),kr("span",gU,"Salvar Alterações"))],8,pU),Ir("button",{onClick:t[12]||(t[12]=(...e)=>i.cancelEdit&&i.cancelEdit(...e)),type:"button",class:"w-full bg-gray-500 text-white py-2 rounded hover:bg-gray-700 mt-4"}," Cancelar ")],32)])):Lr("v-if",!0)])])}]]),yU={class:"flex flex-col bg-gray-100"},bU={class:"bg-white p-8 rounded shadow-md w-100 mx-auto lg:mx-4 mt-8"},wU=["disabled"],xU={key:0},_U={key:1},kU={class:"mt-6 mb-4 flex items-center gap-4"},EU={class:"flex items-center gap-2 cursor-pointer"},CU={class:"mt-6"},SU={key:0,class:"text-gray-500 italic text-center py-8"},TU={key:1,class:"space-y-2"},DU=["checked","onChange"],IU={class:"flex-1"},AU={class:"flex items-center gap-2 flex-wrap"},MU={key:0,class:"text-sm text-gray-600"},PU={key:0,class:"text-sm text-gray-600 mt-1 whitespace-pre-wrap"},OU={key:1,class:"text-xs text-gray-400 mt-1"},RU={class:"flex items-center space-x-2"},LU=["onClick"],NU=["onClick"],FU={key:0,class:"mt-8 bg-gray-200 p-6 rounded"},VU=["disabled"],jU={key:0},BU={key:1},UU={name:"ListaCompras",setup(){const e=Ii("selectedGroup"),t=Pl(),n=bt({name:"",quantity:null,notes:""}),i=bt([]),r=bt(!1),s=bt(null),o=bt(!1),a=is((()=>o.value?i.value:i.value.filter((e=>!e.completed))));function l(){e.value?EC(rC(bE(EE(),"listaCompras"),oC("groupId","==",e.value)),(e=>{i.value=e.docs.map((e=>({id:e.id,...e.data()}))).sort(((e,t)=>{if(e.completed!==t.completed)return e.completed?1:-1;const n=e.createdAt?.toDate?e.createdAt.toDate():new Date(e.createdAt);return(t.createdAt?.toDate?t.createdAt.toDate():new Date(t.createdAt))-n}))}),(e=>{console.error("Erro ao ouvir mudanças nos itens:",e)})):console.error("Nenhum grupo selecionado")}return $n((()=>{l()})),er(e,((e,t)=>{l()})),{newItem:n,items:i,filteredItems:a,loading:r,editingItem:s,showCompleted:o,addItem:async function(){r.value=!0;try{const t=ap(),i=EE(),r=t.currentUser;await kC(bE(i,"listaCompras"),{name:n.value.name,quantity:n.value.quantity||null,notes:n.value.notes||"",completed:!1,createdBy:r.uid,createdAt:new Date,groupId:e.value}),n.value={name:"",quantity:null,notes:""}}catch(e){console.error("Erro ao adicionar item:",e)}finally{r.value=!1}},deleteItem:async function(e){if(confirm("Tem certeza que deseja excluir este item?"))try{const t=EE();await _C(wE(t,"listaCompras",e))}catch(e){console.error("Erro ao excluir item:",e)}},updateItem:async function(){r.value=!0;try{const e=wE(EE(),"listaCompras",s.value.id);await xC(e,{name:s.value.name,quantity:s.value.quantity||null,notes:s.value.notes||""}),s.value=null}catch(e){console.error("Erro ao atualizar item:",e)}finally{r.value=!1}},toggleItem:async function(e){try{const t=wE(EE(),"listaCompras",e.id);await xC(t,{completed:!e.completed,completedAt:e.completed?null:new Date})}catch(e){console.error("Erro ao atualizar status do item:",e)}},editItem:function(e){s.value={...e}},cancelEdit:function(){s.value=null},goBack:function(){t.push("/dashboard")},formatDate:e=>e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}}},zU=(0,Mo.A)(UU,[["render",function(e,t,n,i,r,s){return br(),kr("div",yU,[Ir("div",bU,[Ir("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"mb-4 text-blue-500 hover:text-blue-700 flex items-center"},t[11]||(t[11]=[Ir("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Ir("path",{d:"M19 12H5"}),Ir("path",{d:"M12 5l-7 7 7 7"})],-1),Or(" Voltar ")])),t[17]||(t[17]=Ir("h1",{class:"text-2xl font-bold mb-6 text-center"},"Lista de Compras",-1)),Lr(" Formulário de Adição "),Ir("form",{onSubmit:t[4]||(t[4]=co(((...e)=>i.addItem&&i.addItem(...e)),["prevent"]))},[pn(Ir("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.newItem.name=e),placeholder:"Nome do item",class:"w-full p-2 mb-4 border rounded",required:""},null,512),[[Qs,i.newItem.name]]),pn(Ir("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.newItem.quantity=e),type:"number",min:"1",step:"1",placeholder:"Quantidade (opcional)",class:"w-full p-2 mb-4 border rounded"},null,512),[[Qs,i.newItem.quantity,void 0,{number:!0}]]),pn(Ir("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.newItem.notes=e),placeholder:"Observações (opcional)",class:"w-full p-2 mb-4 border rounded",rows:"2"},null,512),[[Qs,i.newItem.notes]]),Ir("button",{type:"submit",disabled:i.loading,class:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-700"},[i.loading?(br(),kr("span",xU,"Adicionando...")):(br(),kr("span",_U,"Adicionar Item"))],8,wU)],32),Lr(" Filtros "),Ir("div",kU,[Ir("label",EU,[pn(Ir("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.showCompleted=e),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[Js,i.showCompleted]]),t[12]||(t[12]=Ir("span",{class:"text-sm font-medium text-gray-700"},"Mostrar itens comprados",-1))])]),Lr(" Lista de Itens "),Ir("div",CU,[t[15]||(t[15]=Ir("h2",{class:"text-xl font-semibold mb-4"},"Itens da Lista",-1)),0===i.filteredItems.length?(br(),kr("div",SU," Nenhum item na lista ")):(br(),kr("div",TU,[(br(!0),kr(pr,null,ri(i.filteredItems,(e=>(br(),kr("div",{key:e.id,class:H(["p-4 border rounded-lg flex items-start gap-3",e.completed?"bg-gray-100 opacity-75":"bg-white"])},[Ir("input",{type:"checkbox",checked:e.completed,onChange:t=>i.toggleItem(e),class:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,40,DU),Ir("div",IU,[Ir("div",AU,[Ir("p",{class:H(["font-semibold",e.completed?"line-through text-gray-500":"text-gray-800"])},Q(e.name),3),e.quantity?(br(),kr("span",MU," ("+Q(e.quantity)+") ",1)):Lr("v-if",!0)]),e.notes?(br(),kr("p",PU,Q(e.notes),1)):Lr("v-if",!0),e.completed&&e.completedAt?(br(),kr("p",OU," Comprado em: "+Q(i.formatDate(e.completedAt)),1)):Lr("v-if",!0)]),Ir("div",RU,[Ir("button",{onClick:t=>i.editItem(e),class:"bg-yellow-500 text-white py-1 px-3 rounded hover:bg-yellow-700",title:"Editar"},t[13]||(t[13]=[Ir("i",{class:"fas fa-edit"},null,-1)]),8,LU),Ir("button",{onClick:t=>i.deleteItem(e.id),class:"bg-red-500 text-white py-1 px-3 rounded hover:bg-red-700",title:"Excluir"},t[14]||(t[14]=[Ir("i",{class:"fas fa-trash"},null,-1)]),8,NU)])],2)))),128))]))]),Lr(" Formulário de Edição "),i.editingItem?(br(),kr("div",FU,[t[16]||(t[16]=Ir("h2",{class:"text-xl font-semibold mb-4 text-center"},"Editar Item",-1)),Ir("form",{onSubmit:t[10]||(t[10]=co(((...e)=>i.updateItem&&i.updateItem(...e)),["prevent"]))},[pn(Ir("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.editingItem.name=e),placeholder:"Nome do item",class:"w-full p-2 mb-4 border rounded",required:""},null,512),[[Qs,i.editingItem.name]]),pn(Ir("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>i.editingItem.quantity=e),type:"number",min:"1",step:"1",placeholder:"Quantidade (opcional)",class:"w-full p-2 mb-4 border rounded"},null,512),[[Qs,i.editingItem.quantity,void 0,{number:!0}]]),pn(Ir("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>i.editingItem.notes=e),placeholder:"Observações (opcional)",class:"w-full p-2 mb-4 border rounded",rows:"2"},null,512),[[Qs,i.editingItem.notes]]),Ir("button",{type:"submit",disabled:i.loading,class:"w-full bg-green-500 text-white py-2 rounded hover:bg-green-700"},[i.loading?(br(),kr("span",jU,"Salvando...")):(br(),kr("span",BU,"Salvar Alterações"))],8,VU),Ir("button",{onClick:t[9]||(t[9]=(...e)=>i.cancelEdit&&i.cancelEdit(...e)),type:"button",class:"w-full bg-gray-500 text-white py-2 rounded hover:bg-gray-700 mt-4"}," Cancelar ")],32)])):Lr("v-if",!0)])])}]]),$U={class:"flex flex-col bg-gray-100 min-h-screen"},HU={class:"bg-white p-4 md:p-8 rounded shadow-md w-full max-w-full overflow-hidden mx-auto lg:mx-4 mt-4 md:mt-8"},YU={class:"mb-6"},WU={class:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors"},qU={key:1,class:"mt-4"},GU=["src"],KU={key:1,disabled:"",class:"w-full mt-4 bg-gray-400 text-white py-3 rounded cursor-not-allowed font-semibold"},XU={key:0,class:"mt-6 border-t pt-6"},QU={class:"bg-gray-50 rounded-lg p-4 mb-4"},JU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ZU={key:0},ez={class:"font-semibold text-gray-800"},tz={key:1},nz={class:"font-semibold text-gray-800"},iz={key:2},rz={class:"font-semibold text-gray-800"},sz={key:3},oz={class:"font-semibold text-gray-800"},az={key:4,class:"md:col-span-2"},lz={class:"text-2xl font-bold text-green-600"},cz={key:0,class:"bg-blue-50 rounded-lg p-4 mb-4"},uz={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},dz={class:"bg-white rounded p-3 shadow-sm"},hz={class:"text-lg font-bold text-blue-600"},pz={class:"bg-white rounded p-3 shadow-sm"},fz={class:"text-lg font-bold text-purple-600"},gz={class:"bg-white rounded p-3 shadow-sm"},mz={class:"text-lg font-bold text-green-600"},vz={key:1,class:"mb-4"},yz={class:"overflow-x-auto"},bz={class:"w-full border-collapse border border-gray-300"},wz={class:"border border-gray-300 px-3 py-2 text-sm break-words"},xz={class:"border border-gray-300 px-3 py-2 text-center text-sm"},_z={class:"border border-gray-300 px-3 py-2 text-right text-sm tabular-nums"},kz={class:"border border-gray-300 px-3 py-2 text-right text-sm font-semibold tabular-nums"},Ez={key:2,class:"mt-6"},Cz={key:1,class:"mt-6 bg-red-50 border border-red-200 rounded-lg p-4"},Sz={class:"text-red-600 mt-2"},Tz={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Dz={class:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto"},Iz={class:"p-6"},Az={class:"mb-4"},Mz=["value"],Pz={class:"mb-4"},Oz=["value"],Rz={class:"flex gap-2 mt-6"},Lz=["disabled"],Nz={name:"ReceiptUpload",setup(){const e=Pl(),t=Ii("selectedGroup"),n=bt(null),i=bt(null),r=bt(!1),s=bt(null),o=bt(null),a=bt(""),l=bt(!1),c=bt(""),u=bt(""),d=bt([]),h=bt([]),p=bt(null);return $n((()=>{EC(rC(bE(EE(),"accounts"),oC("groupId","==",t.value)),(e=>{d.value=e.docs.filter((e=>!1!==e.data().active)).map((e=>{const t=e.data();return{id:e.id,...t}}))}),(e=>{console.error("Erro ao carregar contas:",e)})),EC(rC(bE(EE(),"categories"),oC("groupId","==",t.value)),(e=>{h.value=e.docs.map((e=>{const t=e.data();return{id:e.id,...t}}))}),(e=>{console.error("Erro ao carregar categorias:",e)}))})),{selectedFile:n,previewImage:i,loading:r,receiptData:s,error:o,progressMessage:a,showSaveModal:l,selectedAccount:c,selectedCategory:u,accounts:d,categories:h,fileInput:p,triggerFileInput:()=>{p.value&&p.value.click()},handleFileSelect:e=>{const t=e.target.files[0];if(t){n.value=t,o.value=null,s.value=null;const e=new FileReader;e.onload=e=>{i.value=e.target.result},e.readAsDataURL(t)}},clearFile:()=>{n.value=null,i.value=null,s.value=null,o.value=null,p.value&&(p.value.value="")},uploadReceipt:async()=>{if(n.value){r.value=!0,o.value=null,s.value=null,a.value="Enviando imagem...";try{const e=new FormData;e.append("file",n.value);const t="http://172.27.57.56:3333/receipt/upload",i=await fetch(t,{method:"POST",body:e});if(!i.ok)throw new Error(`Erro ao processar recibo: ${i.statusText}`);const r=i.body.getReader(),o=new TextDecoder;let l="",c="",u="";for(;;){const{done:e,value:t}=await r.read();if(e)break;l+=o.decode(t,{stream:!0});const n=l.split("\n");l=n.pop()||"";for(const e of n)if(e.startsWith("event: "))c=e.substring(7).trim();else if(e.startsWith("data: ")){if(u=e.substring(6).trim(),c&&u){try{const e=JSON.parse(u);if("progress"===c)a.value=e.message||"Processando...";else if("complete"===c)s.value=e,a.value="Processamento concluído!";else if("error"===c)throw new Error(e.error||"Erro desconhecido")}catch(e){console.error("Erro ao parsear evento SSE:",e)}c="",u=""}}else if(""===e&&c&&u){try{const e=JSON.parse(u);if("progress"===c)a.value=e.message||"Processando...";else if("complete"===c)s.value=e,a.value="Processamento concluído!";else if("error"===c)throw new Error(e.error||"Erro desconhecido")}catch(e){console.error("Erro ao parsear evento SSE:",e)}c="",u=""}}}catch(e){console.error("Erro ao fazer upload:",e),o.value=e.message||"Erro ao processar o recibo. Verifique se a API está rodando no WSL (172.27.57.56:3333)",a.value=""}finally{r.value=!1,a.value=""}}else o.value="Por favor, selecione uma imagem primeiro."},saveAsTransaction:async()=>{if(s.value&&null!==s.value.total)if(c.value&&u.value)try{const n=ap(),i=EE(),r=n.currentUser;if(!r)return void(o.value="Usuário não autenticado.");const a=s.value.estabelecimento||"Recibo de Compra",d=(e=>{if(!e)return(new Date).toISOString().split("T")[0];const t=e.match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(t){const[,e,n,i]=t;return`${i}-${n}-${e}`}if(e.match(/^\d{4}-\d{2}-\d{2}$/))return e;try{const t=new Date(e);if(!isNaN(t.getTime()))return t.toISOString().split("T")[0]}catch(e){console.error("Erro ao parsear data:",e)}return(new Date).toISOString().split("T")[0]})(s.value.data);await kC(bE(i,"expenses"),{description:a,value:s.value.total,type:"expense",date:d,category:u.value,account:c.value,createdBy:r.uid,createdAt:new Date,groupId:t.value,receiptData:s.value}),l.value=!1,c.value="",u.value="",e.push("/transacoes")}catch(e){console.error("Erro ao salvar transação:",e),o.value="Erro ao salvar a transação. Tente novamente."}else o.value="Por favor, selecione uma conta e uma categoria.";else o.value="Não há dados válidos para salvar."},formatCurrency:e=>parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),goBack:()=>{e.push("/dashboard")}}}};var Fz=n(308),Vz={};Vz.styleTagTransform=Do(),Vz.setAttributes=Eo(),Vz.insert=_o().bind(null,"head"),Vz.domAPI=wo(),Vz.insertStyleElement=So(),yo()(Fz.A,Vz),Fz.A&&Fz.A.locals&&Fz.A.locals;const jz=(0,Mo.A)(Nz,[["render",function(e,t,n,i,r,s){return br(),kr("div",$U,[Ir("div",HU,[Ir("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"mb-4 text-blue-500 hover:text-blue-700 flex items-center"},t[10]||(t[10]=[Ir("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Ir("path",{d:"M19 12H5"}),Ir("path",{d:"M12 5l-7 7 7 7"})],-1),Or(" Voltar ")])),t[30]||(t[30]=Ir("h1",{class:"text-xl md:text-2xl font-bold mb-4 md:mb-6 text-center"},"Upload de Recibo",-1)),Lr(" Área de Upload "),Ir("div",YU,[t[15]||(t[15]=Ir("label",{for:"fileInput",class:"block text-sm font-medium text-gray-700 mb-2"}," Selecione uma foto do recibo ",-1)),Ir("div",WU,[Ir("input",{id:"fileInput",ref:"fileInput",type:"file",accept:"image/*",onChange:t[1]||(t[1]=(...e)=>i.handleFileSelect&&i.handleFileSelect(...e)),class:"hidden"},null,544),i.selectedFile||i.previewImage?Lr("v-if",!0):(br(),kr("div",{key:0,class:"cursor-pointer",onClick:t[2]||(t[2]=(...e)=>i.triggerFileInput&&i.triggerFileInput(...e))},t[11]||(t[11]=[Ir("i",{class:"fas fa-cloud-upload-alt text-4xl text-gray-400 mb-2"},null,-1),Ir("p",{class:"text-gray-600"},"Clique para selecionar ou arraste a imagem aqui",-1),Ir("p",{class:"text-sm text-gray-400 mt-2"},"Formatos aceitos: JPG, PNG, etc.",-1)]))),i.previewImage?(br(),kr("div",qU,[Ir("img",{src:i.previewImage,alt:"Preview",class:"max-w-full max-h-64 mx-auto rounded-lg shadow-md mb-4"},null,8,GU),Ir("button",{onClick:t[3]||(t[3]=(...e)=>i.clearFile&&i.clearFile(...e)),class:"text-red-500 hover:text-red-700 text-sm"},t[12]||(t[12]=[Ir("i",{class:"fas fa-times mr-1"},null,-1),Or(" Remover imagem ")]))])):Lr("v-if",!0)]),i.selectedFile&&!i.loading?(br(),kr("button",{key:0,onClick:t[4]||(t[4]=(...e)=>i.uploadReceipt&&i.uploadReceipt(...e)),class:"w-full mt-4 bg-blue-500 text-white py-3 rounded hover:bg-blue-600 transition-colors font-semibold"},t[13]||(t[13]=[Ir("i",{class:"fas fa-upload mr-2"},null,-1),Or(" Processar Recibo ")]))):Lr("v-if",!0),i.loading?(br(),kr("button",KU,[t[14]||(t[14]=Ir("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1)),Or(" "+Q(i.progressMessage||"Processando..."),1)])):Lr("v-if",!0)]),Lr(" Resultado do Processamento "),i.receiptData?(br(),kr("div",XU,[t[28]||(t[28]=Ir("h2",{class:"text-lg md:text-xl font-semibold mb-4"},"Dados do Recibo",-1)),Lr(" Informações Gerais "),Ir("div",QU,[Ir("div",JU,[i.receiptData.estabelecimento?(br(),kr("div",ZU,[t[16]||(t[16]=Ir("p",{class:"text-sm text-gray-600"},"Estabelecimento",-1)),Ir("p",ez,Q(i.receiptData.estabelecimento),1)])):Lr("v-if",!0),i.receiptData.cnpj?(br(),kr("div",tz,[t[17]||(t[17]=Ir("p",{class:"text-sm text-gray-600"},"CNPJ",-1)),Ir("p",nz,Q(i.receiptData.cnpj),1)])):Lr("v-if",!0),i.receiptData.data?(br(),kr("div",iz,[t[18]||(t[18]=Ir("p",{class:"text-sm text-gray-600"},"Data",-1)),Ir("p",rz,Q(i.receiptData.data),1)])):Lr("v-if",!0),i.receiptData.forma_pagamento?(br(),kr("div",sz,[t[19]||(t[19]=Ir("p",{class:"text-sm text-gray-600"},"Forma de Pagamento",-1)),Ir("p",oz,Q(i.receiptData.forma_pagamento),1)])):Lr("v-if",!0),null!==i.receiptData.total?(br(),kr("div",az,[t[20]||(t[20]=Ir("p",{class:"text-sm text-gray-600"},"Total",-1)),Ir("p",lz,Q(i.formatCurrency(i.receiptData.total)),1)])):Lr("v-if",!0)])]),Lr(" Tempos de Processamento "),i.receiptData.processingTimes?(br(),kr("div",cz,[t[24]||(t[24]=Ir("h3",{class:"text-md font-semibold mb-3 text-gray-800"},"Tempos de Processamento",-1)),Ir("div",uz,[Ir("div",dz,[t[21]||(t[21]=Ir("p",{class:"text-xs text-gray-600 mb-1"},"OCR",-1)),Ir("p",hz,Q(i.receiptData.processingTimes.ocr)+"s",1)]),Ir("div",pz,[t[22]||(t[22]=Ir("p",{class:"text-xs text-gray-600 mb-1"},"Extração com IA",-1)),Ir("p",fz,Q(i.receiptData.processingTimes.llm)+"s",1)]),Ir("div",gz,[t[23]||(t[23]=Ir("p",{class:"text-xs text-gray-600 mb-1"},"Total",-1)),Ir("p",mz,Q(i.receiptData.processingTimes.total)+"s",1)])])])):Lr("v-if",!0),Lr(" Lista de Itens "),i.receiptData.itens&&i.receiptData.itens.length>0?(br(),kr("div",vz,[t[26]||(t[26]=Ir("h3",{class:"text-md font-semibold mb-3"},"Itens",-1)),Ir("div",yz,[Ir("table",bz,[t[25]||(t[25]=Ir("thead",{class:"bg-gray-200"},[Ir("tr",null,[Ir("th",{class:"border border-gray-300 px-3 py-2 text-left text-sm font-semibold"},"Descrição"),Ir("th",{class:"border border-gray-300 px-3 py-2 text-center text-sm font-semibold"},"Qtd"),Ir("th",{class:"border border-gray-300 px-3 py-2 text-right text-sm font-semibold"},"Valor Unit."),Ir("th",{class:"border border-gray-300 px-3 py-2 text-right text-sm font-semibold"},"Total")])],-1)),Ir("tbody",null,[(br(!0),kr(pr,null,ri(i.receiptData.itens,((e,t)=>(br(),kr("tr",{key:t,class:"hover:bg-gray-50"},[Ir("td",wz,Q(e.descricao),1),Ir("td",xz,Q(e.quantidade),1),Ir("td",_z,Q(i.formatCurrency(e.valor_unitario)),1),Ir("td",kz,Q(i.formatCurrency(e.valor_total)),1)])))),128))])])])])):Lr("v-if",!0),Lr(" Botão para Salvar como Transação "),null!==i.receiptData.total?(br(),kr("div",Ez,[Ir("button",{onClick:t[5]||(t[5]=e=>i.showSaveModal=!0),class:"w-full bg-green-500 text-white py-3 rounded hover:bg-green-600 transition-colors font-semibold"},t[27]||(t[27]=[Ir("i",{class:"fas fa-save mr-2"},null,-1),Or(" Salvar como Transação ")]))])):Lr("v-if",!0)])):Lr("v-if",!0),Lr(" Erro "),i.error?(br(),kr("div",Cz,[t[29]||(t[29]=Ir("p",{class:"text-red-800 font-semibold"},[Ir("i",{class:"fas fa-exclamation-circle mr-2"}),Or(" Erro ")],-1)),Ir("p",Sz,Q(i.error),1)])):Lr("v-if",!0)]),Lr(" Modal para Selecionar Conta e Categoria "),i.showSaveModal?(br(),kr("div",Tz,[Ir("div",Dz,[Ir("div",Iz,[t[35]||(t[35]=Ir("h2",{class:"text-xl font-bold mb-4"},"Selecionar Conta e Categoria",-1)),Ir("div",Az,[t[32]||(t[32]=Ir("label",{for:"selectAccount",class:"block text-sm font-medium text-gray-700 mb-1"},"Conta",-1)),pn(Ir("select",{id:"selectAccount","onUpdate:modelValue":t[6]||(t[6]=e=>i.selectedAccount=e),class:"w-full p-2 border rounded",required:""},[t[31]||(t[31]=Ir("option",{value:""},"Selecione uma conta",-1)),(br(!0),kr(pr,null,ri(i.accounts,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.name),9,Mz)))),128))],512),[[to,i.selectedAccount]])]),Ir("div",Pz,[t[34]||(t[34]=Ir("label",{for:"selectCategory",class:"block text-sm font-medium text-gray-700 mb-1"},"Categoria",-1)),pn(Ir("select",{id:"selectCategory","onUpdate:modelValue":t[7]||(t[7]=e=>i.selectedCategory=e),class:"w-full p-2 border rounded",required:""},[t[33]||(t[33]=Ir("option",{value:""},"Selecione uma categoria",-1)),(br(!0),kr(pr,null,ri(i.categories,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.description),9,Oz)))),128))],512),[[to,i.selectedCategory]])]),Ir("div",Rz,[Ir("button",{onClick:t[8]||(t[8]=e=>i.showSaveModal=!1),class:"flex-1 bg-gray-300 text-gray-700 py-2 rounded hover:bg-gray-400 transition-colors"}," Cancelar "),Ir("button",{onClick:t[9]||(t[9]=(...e)=>i.saveAsTransaction&&i.saveAsTransaction(...e)),disabled:!i.selectedAccount||!i.selectedCategory,class:"flex-1 bg-green-500 text-white py-2 rounded hover:bg-green-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed"}," Salvar ",8,Lz)])])])])):Lr("v-if",!0)])}],["__scopeId","data-v-1bec2b56"]]),Bz=jz,Uz={class:"flex flex-col bg-gray-100 min-h-screen"},zz={class:"bg-white p-4 md:p-8 rounded shadow-md w-full max-w-full overflow-hidden mx-auto lg:mx-4 mt-4 md:mt-8"},$z={class:"mb-4"},Hz={class:"mb-4"},Yz={class:"mb-4"},Wz={class:"grid grid-cols-2 gap-3 mb-4"},qz=["disabled"],Gz={class:"mt-8"},Kz={key:0,class:"text-gray-500 italic text-center"},Xz={key:1,class:"space-y-4"},Qz={class:"flex justify-between items-start"},Jz={class:"font-semibold text-lg"},Zz={class:"text-sm text-gray-600"},e$={key:0,class:"text-sm text-gray-500 mt-1"},t$={class:"text-xs text-gray-400 mt-2"},n$={class:"flex items-center space-x-2"},i$=["onClick"],r$=["onClick"],s$={key:0,class:"mt-8 bg-gray-200 p-4 rounded"},o$={class:"grid grid-cols-2 gap-3 mb-3"},a$={name:"Locais",setup(){const e=Ii("selectedGroup"),t=Pl(),n=bt([]),i=bt(!1),r=bt(null),s=bt({name:"",address:"",description:"",lat:null,lng:null});function o(){e.value&&EC(rC(bE(EE(),"locais"),oC("groupId","==",e.value)),(e=>{n.value=e.docs.map((e=>({id:e.id,...e.data()})))}))}return $n(o),er(e,o),{newLocal:s,locais:n,loading:i,editingLocal:r,addLocal:async function(){i.value=!0;const t=EE();await kC(bE(t,"locais"),{...s.value,createdAt:new Date,groupId:e.value}),s.value={name:"",address:"",description:"",lat:null,lng:null},i.value=!1},deleteLocal:async function(e){if(!confirm("Excluir local?"))return;const t=EE();await _C(wE(t,"locais",e))},editLocal:function(e){r.value={...e}},cancelEdit:function(){r.value=null},updateLocal:async function(){const e=wE(EE(),"locais",r.value.id);await xC(e,{name:r.value.name,address:r.value.address,description:r.value.description,lat:r.value.lat,lng:r.value.lng}),r.value=null},goBack:function(){t.push("/dashboard")}}}},l$=(0,Mo.A)(a$,[["render",function(e,t,n,i,r,s){return br(),kr("div",Uz,[Ir("div",zz,[Lr(" Voltar "),Ir("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"mb-4 text-blue-500 hover:text-blue-700 flex items-center"}," ← Voltar "),t[22]||(t[22]=Ir("h1",{class:"text-xl md:text-2xl font-bold mb-6 text-center"},"Locais",-1)),Lr(" FORM "),Ir("form",{onSubmit:t[6]||(t[6]=co(((...e)=>i.addLocal&&i.addLocal(...e)),["prevent"]))},[Ir("div",$z,[t[14]||(t[14]=Ir("label",{class:"block text-sm font-medium mb-1"},"Nome do Local",-1)),pn(Ir("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.newLocal.name=e),class:"w-full p-2 border rounded",required:""},null,512),[[Qs,i.newLocal.name]])]),Ir("div",Hz,[t[15]||(t[15]=Ir("label",{class:"block text-sm font-medium mb-1"},"Endereço",-1)),pn(Ir("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.newLocal.address=e),class:"w-full p-2 border rounded",required:""},null,512),[[Qs,i.newLocal.address]])]),Ir("div",Yz,[t[16]||(t[16]=Ir("label",{class:"block text-sm font-medium mb-1"},"Descrição (opcional)",-1)),pn(Ir("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.newLocal.description=e),rows:"3",class:"w-full p-2 border rounded"},null,512),[[Qs,i.newLocal.description]])]),Ir("div",Wz,[pn(Ir("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.newLocal.lat=e),type:"number",step:"any",placeholder:"Latitude",class:"w-full p-2 border rounded"},null,512),[[Qs,i.newLocal.lat,void 0,{number:!0}]]),pn(Ir("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.newLocal.lng=e),type:"number",step:"any",placeholder:"Longitude",class:"w-full p-2 border rounded"},null,512),[[Qs,i.newLocal.lng,void 0,{number:!0}]])]),Ir("button",{type:"submit",disabled:i.loading,class:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-700"},Q(i.loading?"Salvando...":"Adicionar Local"),9,qz)],32),Lr(" LISTA "),Ir("div",Gz,[t[19]||(t[19]=Ir("h2",{class:"text-lg md:text-xl font-semibold mb-4"},"Meus Locais",-1)),0===i.locais.length?(br(),kr("div",Kz," Nenhum local cadastrado ")):(br(),kr("div",Xz,[(br(!0),kr(pr,null,ri(i.locais,(e=>(br(),kr("div",{key:e.id,class:"p-4 bg-white border rounded shadow"},[Ir("div",Qz,[Ir("div",null,[Ir("h3",Jz,Q(e.name),1),Ir("p",Zz,Q(e.address),1),e.description?(br(),kr("p",e$,Q(e.description),1)):Lr("v-if",!0),Ir("p",t$,Q(e.lat)+", "+Q(e.lng),1)]),Ir("div",n$,[Ir("button",{onClick:t=>i.editLocal(e),class:"bg-yellow-500 text-white py-1 px-3 rounded hover:bg-yellow-700",title:"Editar"},t[17]||(t[17]=[Ir("i",{class:"fas fa-edit"},null,-1)]),8,i$),Ir("button",{onClick:t=>i.deleteLocal(e.id),class:"bg-red-500 text-white py-1 px-3 rounded hover:bg-red-700",title:"Excluir"},t[18]||(t[18]=[Ir("i",{class:"fas fa-trash"},null,-1)]),8,r$)])])])))),128))]))]),Lr(" EDIT "),i.editingLocal?(br(),kr("div",s$,[t[21]||(t[21]=Ir("h2",{class:"text-lg font-semibold mb-4"},"Editar Local",-1)),Ir("form",{onSubmit:t[13]||(t[13]=co(((...e)=>i.updateLocal&&i.updateLocal(...e)),["prevent"]))},[pn(Ir("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>i.editingLocal.name=e),class:"w-full p-2 border rounded mb-3",required:""},null,512),[[Qs,i.editingLocal.name]]),pn(Ir("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>i.editingLocal.address=e),class:"w-full p-2 border rounded mb-3",required:""},null,512),[[Qs,i.editingLocal.address]]),pn(Ir("textarea",{"onUpdate:modelValue":t[9]||(t[9]=e=>i.editingLocal.description=e),rows:"3",class:"w-full p-2 border rounded mb-3"},null,512),[[Qs,i.editingLocal.description]]),Ir("div",o$,[pn(Ir("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>i.editingLocal.lat=e),type:"number",step:"any",class:"p-2 border rounded"},null,512),[[Qs,i.editingLocal.lat,void 0,{number:!0}]]),pn(Ir("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>i.editingLocal.lng=e),type:"number",step:"any",class:"p-2 border rounded"},null,512),[[Qs,i.editingLocal.lng,void 0,{number:!0}]])]),t[20]||(t[20]=Ir("button",{class:"w-full bg-green-500 text-white py-2 rounded mb-2"}," Salvar ",-1)),Ir("button",{onClick:t[12]||(t[12]=(...e)=>i.cancelEdit&&i.cancelEdit(...e)),type:"button",class:"w-full bg-gray-500 text-white py-2 rounded"}," Cancelar ")],32)])):Lr("v-if",!0)])])}]]),c$={class:"flex flex-col bg-gray-100 min-h-screen"},u$={class:"bg-white p-4 md:p-8 rounded shadow-md w-full mx-auto lg:mx-4 mt-4 md:mt-8"},d$={class:"mb-4"},h$={class:"mb-4"},p$=["value"],f$={class:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4"},g$={class:"mb-4"},m$=["disabled"],v$={class:"mt-4"},y$={class:"mt-8 bg-white rounded shadow p-4"},b$={class:"grid grid-cols-1 md:grid-cols-2 mt-8 gap-4 mb-6"},w$={class:"bg-white p-4 rounded shadow-md border-l-4 border-blue-500"},x$={class:"text-2xl font-bold text-blue-600"},_$={class:"bg-white p-4 rounded shadow-md border-l-4 border-orange-500"},k$={class:"text-2xl font-bold text-orange-600"},E$={class:"mt-8"},C$={class:"flex items-center justify-between mb-4"},S$={class:"text-xl font-semibold"},T$={key:0,class:"text-gray-500 italic text-center"},D$={key:1,class:"space-y-4"},I$={class:"flex justify-between items-start"},A$={class:"font-semibold text-lg"},M$={class:"text-sm text-gray-600"},P$={class:"text-sm text-gray-500"},O$={class:"text-sm text-gray-500"},R$={key:0,class:"text-sm text-gray-500 mt-2"},L$={class:"flex items-center space-x-2"},N$=["onClick"],F$=["onClick"],V$={key:0,class:"mt-8 bg-gray-200 p-4 rounded"},j$=["value"],B$={class:"grid grid-cols-3 gap-3 mb-3"},U$={name:"Eventos",setup(){const e=Ii("selectedGroup"),t=Pl(),n=bt([]),i=bt([]),r=bt(!1),s=bt(null),o=bt({title:"",localId:"",date:"",startTime:"",endTime:"",description:""}),a=is((()=>{let e=0;return n.value.forEach((t=>{if(!t.startTime||!t.endTime)return;const n=new Date(`2000-01-01T${t.startTime}`),i=new Date(`2000-01-01T${t.endTime}`);e+=(i-n)/1e3/60/60})),e})),l=is((()=>{let e=0;return n.value.forEach((t=>{if(!t.date||!t.startTime||!t.endTime)return;const n=new Date(`2000-01-01T${t.startTime}`);let i=(new Date(`2000-01-01T${t.endTime}`)-n)/1e3/60/60;const r=new Date(t.date+"T00:00").getDay();6===r?i*=1.5:0===r&&(i*=2),e+=i})),e}));function c(e){const t=i.value.find((t=>t.id===e));return t?t.name:"Local não encontrado"}function u(){EC(rC(bE(EE(),"locais"),oC("groupId","==",e.value)),(e=>{i.value=e.docs.map((e=>({id:e.id,...e.data()})))}))}function d(){EC(rC(bE(EE(),"eventos"),oC("groupId","==",e.value)),(e=>{n.value=e.docs.map((e=>({id:e.id,...e.data()}))).sort(((e,t)=>new Date(`${e.date}T${e.startTime||"00:00"}`)-new Date(`${t.date}T${t.startTime||"00:00"}`)))}))}const h=is((()=>[{key:"today",dates:new Date,highlight:{color:"blue",fillMode:"solid"},popover:{label:"Hoje"}},...n.value.map((e=>({key:e.id,dates:new Date(e.date+"T00:00:00"),dot:{color:"green"},popover:{label:`${e.title} - ${c(e.localId)}`}})))]));return $n((()=>{u(),d()})),er(e,(()=>{u(),d()})),{newEvento:o,eventos:n,locais:i,loading:r,editingEvento:s,calendarAttributes:h,totalHorasEventos:a,totalHorasComAdicional:l,formatHours:function(e){const t=Math.floor(e);return`${t}h ${Math.round(60*(e-t)).toString().padStart(2,"0")}min`},addEvento:async function(){r.value=!0;const t=EE();await kC(bE(t,"eventos"),{...o.value,groupId:e.value,createdAt:new Date}),o.value={title:"",localId:"",date:"",startTime:"",endTime:"",description:""},r.value=!1},deleteEvento:async function(e){if(!confirm("Excluir evento?"))return;const t=EE();await _C(wE(t,"eventos",e))},editEvento:function(e){s.value={...e}},cancelEdit:function(){s.value=null},updateEvento:async function(){const e=wE(EE(),"eventos",s.value.id);await xC(e,{...s.value}),s.value=null},getLocalName:c,formatDate:function(e){return e?new Date(e+"T00:00:00").toLocaleDateString("pt-BR"):""},goBack:function(){t.push("/dashboard")},importJson:async function(t){const n=t.target.files[0];if(!n)return;const s=EE();try{const t=await n.text(),o=JSON.parse(t);if(!Array.isArray(o))return void alert("JSON inválido");r.value=!0;const a={};i.value.forEach((e=>{a[e.name.trim().toLowerCase()]=e.id}));for(const t of o){if(!(t.title&&t.date&&t.startTime&&t.endTime)){console.warn("Evento ignorado:",t);continue}const n=a[t.localName?.trim().toLowerCase()]||"";n?await kC(bE(s,"eventos"),{title:t.title,localId:n,date:t.date,startTime:t.startTime,endTime:t.endTime,description:t.description||"",groupId:e.value,createdAt:new Date}):console.warn("Local não encontrado:",t.localName)}alert("Importação concluída 🚀")}catch(e){console.error(e),alert("Erro ao importar JSON")}finally{r.value=!1,t.target.value=""}}}}},z$=[{path:"/",redirect:"/login"},{path:"/login",component:qC},{path:"/register",component:iS},{path:"/home",component:PC,meta:{requiresAuth:!0},children:[{path:"",redirect:"/dashboard"},{path:"/dashboard",component:uF,meta:{requiresAuth:!0}},{path:"/grupos",component:IF,meta:{requiresAuth:!0}},{path:"/categorias",component:xS,meta:{requiresAuth:!0}},{path:"/contas",component:BS,meta:{requiresAuth:!0}},{path:"/gastos",component:ST,meta:{requiresAuth:!0}},{path:"/gastos-previstos",component:jD,meta:{requiresAuth:!0}},{path:"/consulta-gastos-mes",component:jj,meta:{requiresAuth:!0}},{path:"/previsao",component:kB,meta:{requiresAuth:!0}},{path:"/metas",component:vU,meta:{requiresAuth:!0}},{path:"/lista-compras",component:zU,meta:{requiresAuth:!0}},{path:"/mapa-mental",component:jF,meta:{requiresAuth:!0}},{path:"/recibo",component:Bz,meta:{requiresAuth:!0}},{path:"/locais",component:l$,meta:{requiresAuth:!0}},{path:"/eventos",component:(0,Mo.A)(U$,[["render",function(e,t,n,i,r,s){const o=Zn("v-calendar");return br(),kr("div",c$,[Ir("div",u$,[Lr(" Voltar "),Ir("button",{onClick:t[0]||(t[0]=(...e)=>i.goBack&&i.goBack(...e)),class:"mb-4 text-blue-500 hover:text-blue-700 flex items-center"}," ← Voltar "),t[28]||(t[28]=Ir("h1",{class:"text-xl md:text-2xl font-bold mb-6 text-center"},"Eventos",-1)),Lr(" FORM "),Ir("form",{onSubmit:t[7]||(t[7]=co(((...e)=>i.addEvento&&i.addEvento(...e)),["prevent"]))},[Ir("div",d$,[t[17]||(t[17]=Ir("label",{class:"block text-sm font-medium mb-1"},"Título",-1)),pn(Ir("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.newEvento.title=e),class:"w-full p-2 border rounded",required:""},null,512),[[Qs,i.newEvento.title]])]),Ir("div",h$,[t[19]||(t[19]=Ir("label",{class:"block text-sm font-medium mb-1"},"Local",-1)),pn(Ir("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.newEvento.localId=e),class:"w-full p-2 border rounded",required:""},[t[18]||(t[18]=Ir("option",{value:""},"Selecione um local",-1)),(br(!0),kr(pr,null,ri(i.locais,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.name),9,p$)))),128))],512),[[to,i.newEvento.localId]])]),Ir("div",f$,[pn(Ir("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=e=>i.newEvento.date=e),class:"p-2 border rounded",required:""},null,512),[[Qs,i.newEvento.date]]),pn(Ir("input",{type:"time","onUpdate:modelValue":t[4]||(t[4]=e=>i.newEvento.startTime=e),class:"p-2 border rounded",required:""},null,512),[[Qs,i.newEvento.startTime]]),pn(Ir("input",{type:"time","onUpdate:modelValue":t[5]||(t[5]=e=>i.newEvento.endTime=e),class:"p-2 border rounded",required:""},null,512),[[Qs,i.newEvento.endTime]])]),Ir("div",g$,[pn(Ir("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.newEvento.description=e),placeholder:"Descrição (opcional)",rows:"3",class:"w-full p-2 border rounded"},"          ",512),[[Qs,i.newEvento.description]])]),Ir("button",{type:"submit",disabled:i.loading,class:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-700"},Q(i.loading?"Salvando...":"Adicionar Evento"),9,m$)],32),Ir("div",v$,[t[20]||(t[20]=Ir("label",{class:"block text-sm font-medium mb-2"}," Importar eventos (JSON) ",-1)),Ir("input",{type:"file",accept:".json",onChange:t[8]||(t[8]=(...e)=>i.importJson&&i.importJson(...e)),class:"w-full p-2 border rounded bg-white"},null,32)]),Ir("div",y$,[t[21]||(t[21]=Ir("h2",{class:"text-xl font-semibold mb-4"}," Calendário de Eventos ",-1)),Ar(o,{attributes:i.calendarAttributes,"is-expanded":"",locale:"pt-BR",class:"w-full"},null,8,["attributes"])]),Ir("div",b$,[Ir("div",w$,[t[22]||(t[22]=Ir("h3",{class:"text-sm text-gray-500 font-semibold"},"Total de Horas",-1)),Ir("p",x$,Q(i.formatHours(i.totalHorasEventos)),1)]),Ir("div",_$,[t[23]||(t[23]=Ir("h3",{class:"text-sm text-gray-500 font-semibold"}," Total c/ adicional (Sáb +50% | Dom +100%) ",-1)),Ir("p",k$,Q(i.formatHours(i.totalHorasComAdicional)),1)])]),Lr(" LISTA "),Ir("div",E$,[Ir("div",C$,[Ir("h2",S$,"Eventos cadastrados ("+Q(i.eventos.length)+")",1),Lr(' <span class="text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full font-semibold">\r\n            ⏱ {{ totalHorasEventos.horas }}h\r\n            {{ totalHorasEventos.minutos }}min\r\n          </span> ')]),0===i.eventos.length?(br(),kr("div",T$," Nenhum evento cadastrado ")):(br(),kr("div",D$,[(br(!0),kr(pr,null,ri(i.eventos,(e=>(br(),kr("div",{key:e.id,class:"p-4 border rounded shadow bg-white"},[Ir("div",I$,[Ir("div",null,[Ir("h3",A$,Q(e.title),1),Ir("p",M$," 📍 "+Q(i.getLocalName(e.localId)),1),Ir("p",P$," 📅 "+Q(i.formatDate(e.date)),1),Ir("p",O$," ⏰ "+Q(e.startTime)+" → "+Q(e.endTime),1),e.description?(br(),kr("p",R$,Q(e.description),1)):Lr("v-if",!0)]),Ir("div",L$,[Ir("button",{onClick:t=>i.editEvento(e),class:"bg-yellow-500 text-white py-1 px-3 rounded hover:bg-yellow-700",title:"Editar"},t[24]||(t[24]=[Ir("i",{class:"fas fa-edit"},null,-1)]),8,N$),Ir("button",{onClick:t=>i.deleteEvento(e.id),class:"bg-red-500 text-white py-1 px-3 rounded hover:bg-red-700",title:"Excluir"},t[25]||(t[25]=[Ir("i",{class:"fas fa-trash"},null,-1)]),8,F$)])])])))),128))]))]),Lr(" EDIT "),i.editingEvento?(br(),kr("div",V$,[t[27]||(t[27]=Ir("h2",{class:"text-lg font-semibold mb-4"},"Editar Evento",-1)),Ir("form",{onSubmit:t[16]||(t[16]=co(((...e)=>i.updateEvento&&i.updateEvento(...e)),["prevent"]))},[pn(Ir("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>i.editingEvento.title=e),class:"w-full p-2 border rounded mb-3",required:""},null,512),[[Qs,i.editingEvento.title]]),pn(Ir("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>i.editingEvento.localId=e),class:"w-full p-2 border rounded mb-3",required:""},[(br(!0),kr(pr,null,ri(i.locais,(e=>(br(),kr("option",{key:e.id,value:e.id},Q(e.name),9,j$)))),128))],512),[[to,i.editingEvento.localId]]),Ir("div",B$,[pn(Ir("input",{type:"date","onUpdate:modelValue":t[11]||(t[11]=e=>i.editingEvento.date=e),class:"p-2 border rounded"},null,512),[[Qs,i.editingEvento.date]]),pn(Ir("input",{type:"time","onUpdate:modelValue":t[12]||(t[12]=e=>i.editingEvento.startTime=e),class:"p-2 border rounded"},null,512),[[Qs,i.editingEvento.startTime]]),pn(Ir("input",{type:"time","onUpdate:modelValue":t[13]||(t[13]=e=>i.editingEvento.endTime=e),class:"p-2 border rounded"},null,512),[[Qs,i.editingEvento.endTime]])]),pn(Ir("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>i.editingEvento.description=e),rows:"3",class:"w-full p-2 border rounded mb-3"},"          ",512),[[Qs,i.editingEvento.description]]),t[26]||(t[26]=Ir("button",{class:"w-full bg-green-500 text-white py-2 rounded mb-2"}," Salvar ",-1)),Ir("button",{onClick:t[15]||(t[15]=(...e)=>i.cancelEdit&&i.cancelEdit(...e)),type:"button",class:"w-full bg-gray-500 text-white py-2 rounded"}," Cancelar ")],32)])):Lr("v-if",!0)])])}]]),meta:{requiresAuth:!0}}]}],$$=function(e){const t=function(e,t){const n=[],i=new Map;function r(e,n,i){const a=!i,l=za(e);l.aliasOf=i&&i.record;const c=Wa(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(za(Bo({},l,{components:i?i.record.components:l.components,path:e,aliasOf:i?i.record:l})))}let d,h;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,i="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&i+u)}if(d=Ba(t,n,c),i?i.alias.push(d):(h=h||d,h!==d&&h.alias.push(d),a&&e.name&&!Ha(d)&&s(e.name)),qa(d)&&o(d),l.children){const e=l.children;for(let t=0;t<e.length;t++)r(e[t],d,i&&i.children[t])}i=i||d}return h?()=>{s(h)}:zo}function s(e){if(Ta(e)){const t=i.get(e);t&&(i.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(s),t.alias.forEach(s))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&i.delete(e.record.name),e.children.forEach(s),e.alias.forEach(s))}}function o(e){const t=function(e,t){let n=0,i=t.length;for(;n!==i;){const r=n+i>>1;Na(e,t[r])<0?i=r:n=r+1}const r=function(e){let t=e;for(;t=t.parent;)if(qa(t)&&0===Na(e,t))return t}(e);return r&&(i=t.lastIndexOf(r,i-1)),i}(e,n);n.splice(t,0,e),e.record.name&&!Ha(e)&&i.set(e.record.name,e)}return t=Wa({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>r(e))),{addRoute:r,resolve:function(e,t){let r,s,o,a={};if("name"in e&&e.name){if(r=i.get(e.name),!r)throw Aa(1,{location:e});o=r.record.name,a=Bo(Ua(t.params,r.keys.filter((e=>!e.optional)).concat(r.parent?r.parent.keys.filter((e=>e.optional)):[]).map((e=>e.name))),e.params&&Ua(e.params,r.keys.map((e=>e.name)))),s=r.stringify(a)}else if(null!=e.path)s=e.path,r=n.find((e=>e.re.test(s))),r&&(a=r.parse(s),o=r.record.name);else{if(r=t.name?i.get(t.name):n.find((e=>e.re.test(t.path))),!r)throw Aa(1,{location:e,currentLocation:t});o=r.record.name,a=Bo({},t.params,e.params),s=r.stringify(a)}const l=[];let c=r;for(;c;)l.unshift(c.record),c=c.parent;return{name:o,path:s,params:a,matched:l,meta:Ya(l)}},removeRoute:s,clearRoutes:function(){n.length=0,i.clear()},getRoutes:function(){return n},getRecordMatcher:function(e){return i.get(e)}}}(e.routes,e),n=e.parseQuery||Ga,i=e.stringifyQuery||Ka,r=e.history,s=nl(),o=nl(),a=nl(),l=wt(ga);let c=ga;Vo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Uo.bind(null,(e=>""+e)),d=Uo.bind(null,oa),h=Uo.bind(null,aa);function p(e,s){if(s=Bo({},s||l.value),"string"==typeof e){const i=ca(n,e,s.path),o=t.resolve({path:i.path},s),a=r.createHref(i.fullPath);return Bo(i,o,{params:h(o.params),hash:aa(i.hash),redirectedFrom:void 0,href:a})}let o;if(null!=e.path)o=Bo({},e,{path:ca(n,e.path,s.path).path});else{const t=Bo({},e.params);for(const e in t)null==t[e]&&delete t[e];o=Bo({},e,{params:d(t)}),s.params=d(s.params)}const a=t.resolve(o,s),c=e.hash||"";a.params=u(h(a.params));const p=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(i,Bo({},e,{hash:(f=c,ra(f).replace(ea,"{").replace(na,"}").replace(Jo,"^")),path:a.path}));var f;const g=r.createHref(p);return Bo({fullPath:p,hash:c,query:i===Ka?Xa(e.query):e.query||{}},a,{redirectedFrom:void 0,href:g})}function f(e){return"string"==typeof e?ca(n,e,l.value.path):Bo({},e)}function g(e,t){if(c!==e)return Aa(8,{from:t,to:e})}function m(e){return y(e)}function v(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let i="function"==typeof n?n(e):n;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=f(i):{path:i},i.params={}),Bo({query:e.query,hash:e.hash,params:null!=i.path?{}:e.params},i)}}function y(e,t){const n=c=p(e),r=l.value,s=e.state,o=e.force,a=!0===e.replace,u=v(n);if(u)return y(Bo(f(u),{state:"object"==typeof u?Bo({},s,u.state):s,force:o,replace:a}),t||n);const d=n;let h;return d.redirectedFrom=t,!o&&function(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&da(t.matched[i],n.matched[r])&&ha(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(i,r,n)&&(h=Aa(16,{to:d,from:r}),A(r,r,!0,!1)),(h?Promise.resolve(h):x(d,r)).catch((e=>Ma(e)?Ma(e,2)?e:I(e):D(e,d,r))).then((e=>{if(e){if(Ma(e,2))return y(Bo({replace:a},f(e.to),{state:"object"==typeof e.to?Bo({},s,e.to.state):s,force:o}),t||d)}else e=k(d,r,!0,a,s);return _(d,r,e),e}))}function b(e,t){const n=g(e,t);return n?Promise.reject(n):Promise.resolve()}function w(e){const t=O.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function x(e,t){let n;const[i,r,a]=function(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const s=t.matched[o];s&&(e.matched.find((e=>da(e,s)))?i.push(s):n.push(s));const a=e.matched[o];a&&(t.matched.find((e=>da(e,a)))||r.push(a))}return[n,i,r]}(e,t);n=rl(i.reverse(),"beforeRouteLeave",e,t);for(const r of i)r.leaveGuards.forEach((i=>{n.push(il(i,e,t))}));const l=b.bind(null,e,t);return n.push(l),L(n).then((()=>{n=[];for(const i of s.list())n.push(il(i,e,t));return n.push(l),L(n)})).then((()=>{n=rl(r,"beforeRouteUpdate",e,t);for(const i of r)i.updateGuards.forEach((i=>{n.push(il(i,e,t))}));return n.push(l),L(n)})).then((()=>{n=[];for(const i of a)if(i.beforeEnter)if($o(i.beforeEnter))for(const r of i.beforeEnter)n.push(il(r,e,t));else n.push(il(i.beforeEnter,e,t));return n.push(l),L(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=rl(a,"beforeRouteEnter",e,t,w),n.push(l),L(n)))).then((()=>{n=[];for(const i of o.list())n.push(il(i,e,t));return n.push(l),L(n)})).catch((e=>Ma(e,8)?e:Promise.reject(e)))}function _(e,t,n){a.list().forEach((i=>w((()=>i(e,t,n)))))}function k(e,t,n,i,s){const o=g(e,t);if(o)return o;const a=t===ga,c=Vo?history.state:{};n&&(i||a?r.replace(e.fullPath,Bo({scroll:a&&c&&c.scroll},s)):r.push(e.fullPath,s)),l.value=e,A(e,t,n,a),I()}let E;let C,S=nl(),T=nl();function D(e,t,n){I(e);const i=T.list();return i.length?i.forEach((i=>i(e,t,n))):console.error(e),Promise.reject(e)}function I(e){return C||(C=!e,E||(E=r.listen(((e,t,n)=>{if(!R.listening)return;const i=p(e),s=v(i);if(s)return void y(Bo(s,{replace:!0,force:!0}),i).catch(zo);c=i;const o=l.value;var a,u;Vo&&(a=xa(o.fullPath,n.delta),u=wa(),_a.set(a,u)),x(i,o).catch((e=>Ma(e,12)?e:Ma(e,2)?(y(Bo(f(e.to),{force:!0}),i).then((e=>{Ma(e,20)&&!n.delta&&n.type===ma.pop&&r.go(-1,!1)})).catch(zo),Promise.reject()):(n.delta&&r.go(-n.delta,!1),D(e,i,o)))).then((e=>{(e=e||k(i,o,!1))&&(n.delta&&!Ma(e,8)?r.go(-n.delta,!1):n.type===ma.pop&&Ma(e,20)&&r.go(-1,!1)),_(i,o,e)})).catch(zo)}))),S.list().forEach((([t,n])=>e?n(e):t())),S.reset()),e}function A(t,n,i,r){const{scrollBehavior:s}=e;if(!Vo||!s)return Promise.resolve();const o=!i&&function(e){const t=_a.get(e);return _a.delete(e),t}(xa(t.fullPath,0))||(r||!i)&&history.state&&history.state.scroll||null;return Wt().then((()=>s(t,n,o))).then((e=>e&&function(e){let t;if("el"in e){const n=e.el,i="string"==typeof n&&n.startsWith("#"),r="string"==typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}(e))).catch((e=>D(e,t,n)))}const M=e=>r.go(e);let P;const O=new Set,R={currentRoute:l,listening:!0,addRoute:function(e,n){let i,r;return Ta(e)?(i=t.getRecordMatcher(e),r=n):r=e,t.addRoute(r,i)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},clearRoutes:t.clearRoutes,hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:p,options:e,push:m,replace:function(e){return m(Bo(f(e),{replace:!0}))},go:M,back:()=>M(-1),forward:()=>M(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:T.add,isReady:function(){return C&&l.value!==ga?Promise.resolve():new Promise(((e,t)=>{S.add([e,t])}))},install(e){const n=this;e.component("RouterLink",al),e.component("RouterView",hl),e.config.globalProperties.$router=n,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>kt(l)}),Vo&&!P&&l.value===ga&&(P=!0,m(r.location).catch((e=>{})));const i={};for(const e in ga)Object.defineProperty(i,e,{get:()=>l.value[e],enumerable:!0});e.provide(Za,n),e.provide(el,lt(i)),e.provide(tl,l);const s=e.unmount;O.add(e),e.unmount=function(){O.delete(e),O.size<1&&(c=ga,E&&E(),E=null,l.value=ga,P=!1,C=!1),s()},__VUE_PROD_DEVTOOLS__&&Vo&&ml(e,n,t)}};function L(e){return e.reduce(((e,t)=>e.then((()=>w(t)))),Promise.resolve())}return R}({history:((H$=location.host?H$||location.pathname+location.search:"").includes("#")||(H$+="#"),function(e){const t=function(e){const{history:t,location:n}=window,i={value:Ea(e,n)},r={value:t.state};function s(i,s,o){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+i:ka()+e+i;try{t[o?"replaceState":"pushState"](s,"",l),r.value=s}catch(e){console.error(e),n[o?"replace":"assign"](l)}}return r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:function(e,n){const o=Bo({},r.value,t.state,{forward:e,scroll:wa()});s(o.current,o,!0),s(e,Bo({},Ca(i.value,e,null),{position:o.position+1},n),!1),i.value=e},replace:function(e,n){s(e,Bo({},t.state,Ca(r.value.back,e,r.value.forward,!0),n,{position:r.value.position}),!0),i.value=e}}}(e=function(e){if(!e)if(Vo){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(la,"")}(e)),n=function(e,t,n,i){let r=[],s=[],o=null;const a=({state:s})=>{const a=Ea(e,location),l=n.value,c=t.value;let u=0;if(s){if(n.value=a,t.value=s,o&&o===l)return void(o=null);u=c?s.position-c.position:0}else i(a);r.forEach((e=>{e(n.value,l,{delta:u,type:ma.pop,direction:u?u>0?va.forward:va.back:va.unknown})}))};function l(){const{history:e}=window;e.state&&e.replaceState(Bo({},e.state,{scroll:wa()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:function(){o=n.value},listen:function(e){r.push(e);const t=()=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)};return s.push(t),t},destroy:function(){for(const e of s)e();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace),i=Bo({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:ba.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}(H$)),routes:z$});var H$;$$.beforeEach(((e,t,n)=>{const i=ap(),r=e.matched.some((e=>e.meta.requiresAuth));!function(t){ec(t).onAuthStateChanged((t=>{r&&!t?n("/login"):"/login"===e.path&&t?n("/home"):n()}),void 0,void 0)}(i)}));const Y$=$$;fu("firebase","9.23.0","app");var W$=n(972),q$={};function G$(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function K$(e){return e instanceof G$(e).Element||e instanceof Element}function X$(e){return e instanceof G$(e).HTMLElement||e instanceof HTMLElement}function Q$(e){return"undefined"!=typeof ShadowRoot&&(e instanceof G$(e).ShadowRoot||e instanceof ShadowRoot)}q$.styleTagTransform=Do(),q$.setAttributes=Eo(),q$.insert=_o().bind(null,"head"),q$.domAPI=wo(),q$.insertStyleElement=So(),yo()(W$.A,q$),W$.A&&W$.A.locals&&W$.A.locals;var J$=Math.max,Z$=Math.min,eH=Math.round;function tH(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function nH(){return!/^((?!chrome|android).)*safari/i.test(tH())}function iH(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,s=1;t&&X$(e)&&(r=e.offsetWidth>0&&eH(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&eH(i.height)/e.offsetHeight||1);var o=(K$(e)?G$(e):window).visualViewport,a=!nH()&&n,l=(i.left+(a&&o?o.offsetLeft:0))/r,c=(i.top+(a&&o?o.offsetTop:0))/s,u=i.width/r,d=i.height/s;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function rH(e){var t=G$(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function sH(e){return e?(e.nodeName||"").toLowerCase():null}function oH(e){return((K$(e)?e.ownerDocument:e.document)||window.document).documentElement}function aH(e){return iH(oH(e)).left+rH(e).scrollLeft}function lH(e){return G$(e).getComputedStyle(e)}function cH(e){var t=lH(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function uH(e,t,n){void 0===n&&(n=!1);var i,r,s=X$(t),o=X$(t)&&function(e){var t=e.getBoundingClientRect(),n=eH(t.width)/e.offsetWidth||1,i=eH(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),a=oH(t),l=iH(e,o,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(s||!s&&!n)&&(("body"!==sH(t)||cH(a))&&(c=(i=t)!==G$(i)&&X$(i)?{scrollLeft:(r=i).scrollLeft,scrollTop:r.scrollTop}:rH(i)),X$(t)?((u=iH(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=aH(a))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function dH(e){var t=iH(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function hH(e){return"html"===sH(e)?e:e.assignedSlot||e.parentNode||(Q$(e)?e.host:null)||oH(e)}function pH(e){return["html","body","#document"].indexOf(sH(e))>=0?e.ownerDocument.body:X$(e)&&cH(e)?e:pH(hH(e))}function fH(e,t){var n;void 0===t&&(t=[]);var i=pH(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),s=G$(i),o=r?[s].concat(s.visualViewport||[],cH(i)?i:[]):i,a=t.concat(o);return r?a:a.concat(fH(hH(o)))}function gH(e){return["table","td","th"].indexOf(sH(e))>=0}function mH(e){return X$(e)&&"fixed"!==lH(e).position?e.offsetParent:null}function vH(e){for(var t=G$(e),n=mH(e);n&&gH(n)&&"static"===lH(n).position;)n=mH(n);return n&&("html"===sH(n)||"body"===sH(n)&&"static"===lH(n).position)?t:n||function(e){var t=/firefox/i.test(tH());if(/Trident/i.test(tH())&&X$(e)&&"fixed"===lH(e).position)return null;var n=hH(e);for(Q$(n)&&(n=n.host);X$(n)&&["html","body"].indexOf(sH(n))<0;){var i=lH(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var yH="top",bH="bottom",wH="right",xH="left",_H="auto",kH=[yH,bH,wH,xH],EH="start",CH="end",SH="viewport",TH="popper",DH=kH.reduce((function(e,t){return e.concat([t+"-"+EH,t+"-"+CH])}),[]),IH=[].concat(kH,[_H]).reduce((function(e,t){return e.concat([t,t+"-"+EH,t+"-"+CH])}),[]),AH=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function MH(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}function PH(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var OH={placement:"bottom",modifiers:[],strategy:"absolute"};function RH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function LH(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,s=void 0===r?OH:r;return function(e,t,n){void 0===n&&(n=s);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},OH,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],a=!1,l={state:r,setOptions:function(n){var a="function"==typeof n?n(r.options):n;c(),r.options=Object.assign({},s,r.options,a),r.scrollParents={reference:K$(e)?fH(e):e.contextElement?fH(e.contextElement):[],popper:fH(t)};var u,d,h=function(e){var t=MH(e);return AH.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((u=[].concat(i,r.options.modifiers),d=u.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(d).map((function(e){return d[e]}))));return r.orderedModifiers=h.filter((function(e){return e.enabled})),r.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,s=e.effect;if("function"==typeof s){var a=s({state:r,name:t,instance:l,options:i});o.push(a||function(){})}})),l.update()},forceUpdate:function(){if(!a){var e=r.elements,t=e.reference,n=e.popper;if(RH(t,n)){r.rects={reference:uH(t,vH(n),"fixed"===r.options.strategy),popper:dH(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(e){return r.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<r.orderedModifiers.length;i++)if(!0!==r.reset){var s=r.orderedModifiers[i],o=s.fn,c=s.options,u=void 0===c?{}:c,d=s.name;"function"==typeof o&&(r=o({state:r,options:u,name:d,instance:l})||r)}else r.reset=!1,i=-1}}},update:PH((function(){return new Promise((function(e){l.forceUpdate(),e(r)}))})),destroy:function(){c(),a=!0}};if(!RH(e,t))return l;function c(){o.forEach((function(e){return e()})),o=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var NH={passive:!0};const FH={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,s=void 0===r||r,o=i.resize,a=void 0===o||o,l=G$(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach((function(e){e.addEventListener("scroll",n.update,NH)})),a&&l.addEventListener("resize",n.update,NH),function(){s&&c.forEach((function(e){e.removeEventListener("scroll",n.update,NH)})),a&&l.removeEventListener("resize",n.update,NH)}},data:{}};function VH(e){return e.split("-")[0]}function jH(e){return e.split("-")[1]}function BH(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function UH(e){var t,n=e.reference,i=e.element,r=e.placement,s=r?VH(r):null,o=r?jH(r):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(s){case yH:t={x:a,y:n.y-i.height};break;case bH:t={x:a,y:n.y+n.height};break;case wH:t={x:n.x+n.width,y:l};break;case xH:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?BH(s):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case EH:t[c]=t[c]-(n[u]/2-i[u]/2);break;case CH:t[c]=t[c]+(n[u]/2-i[u]/2)}}return t}const zH={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=UH({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var $H={top:"auto",right:"auto",bottom:"auto",left:"auto"};function HH(e){var t,n=e.popper,i=e.popperRect,r=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=o.x,p=void 0===h?0:h,f=o.y,g=void 0===f?0:f,m="function"==typeof u?u({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=xH,w=yH,x=window;if(c){var _=vH(n),k="clientHeight",E="clientWidth";_===G$(n)&&"static"!==lH(_=oH(n)).position&&"absolute"===a&&(k="scrollHeight",E="scrollWidth"),(r===yH||(r===xH||r===wH)&&s===CH)&&(w=bH,g-=(d&&_===x&&x.visualViewport?x.visualViewport.height:_[k])-i.height,g*=l?1:-1),r!==xH&&(r!==yH&&r!==bH||s!==CH)||(b=wH,p-=(d&&_===x&&x.visualViewport?x.visualViewport.width:_[E])-i.width,p*=l?1:-1)}var C,S=Object.assign({position:a},c&&$H),T=!0===u?function(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:eH(n*r)/r||0,y:eH(i*r)/r||0}}({x:p,y:g},G$(n)):{x:p,y:g};return p=T.x,g=T.y,l?Object.assign({},S,((C={})[w]=y?"0":"",C[b]=v?"0":"",C.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",C)):Object.assign({},S,((t={})[w]=y?g+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const YH={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,s=n.adaptive,o=void 0===s||s,a=n.roundOffsets,l=void 0===a||a,c={placement:VH(t.placement),variation:jH(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,HH(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,HH(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},WH={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];X$(r)&&sH(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});X$(i)&&sH(i)&&(Object.assign(i.style,s),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]},qH={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,s=void 0===r?[0,0]:r,o=IH.reduce((function(e,n){return e[n]=function(e,t,n){var i=VH(e),r=[xH,yH].indexOf(i)>=0?-1:1,s="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[xH,wH].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}(n,t.rects,s),e}),{}),a=o[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=o}};var GH={left:"right",right:"left",bottom:"top",top:"bottom"};function KH(e){return e.replace(/left|right|bottom|top/g,(function(e){return GH[e]}))}var XH={start:"end",end:"start"};function QH(e){return e.replace(/start|end/g,(function(e){return XH[e]}))}function JH(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Q$(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ZH(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function eY(e,t,n){return t===SH?ZH(function(e,t){var n=G$(e),i=oH(e),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=nH();(c||!c&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+aH(e),y:l}}(e,n)):K$(t)?function(e,t){var n=iH(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):ZH(function(e){var t,n=oH(e),i=rH(e),r=null==(t=e.ownerDocument)?void 0:t.body,s=J$(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=J$(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+aH(e),l=-i.scrollTop;return"rtl"===lH(r||n).direction&&(a+=J$(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}(oH(e)))}function tY(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function nY(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function iY(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,s=n.strategy,o=void 0===s?e.strategy:s,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?SH:c,d=n.elementContext,h=void 0===d?TH:d,p=n.altBoundary,f=void 0!==p&&p,g=n.padding,m=void 0===g?0:g,v=tY("number"!=typeof m?m:nY(m,kH)),y=h===TH?"reference":TH,b=e.rects.popper,w=e.elements[f?y:h],x=function(e,t,n,i){var r="clippingParents"===t?function(e){var t=fH(hH(e)),n=["absolute","fixed"].indexOf(lH(e).position)>=0&&X$(e)?vH(e):e;return K$(n)?t.filter((function(e){return K$(e)&&JH(e,n)&&"body"!==sH(e)})):[]}(e):[].concat(t),s=[].concat(r,[n]),o=s[0],a=s.reduce((function(t,n){var r=eY(e,n,i);return t.top=J$(r.top,t.top),t.right=Z$(r.right,t.right),t.bottom=Z$(r.bottom,t.bottom),t.left=J$(r.left,t.left),t}),eY(e,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(K$(w)?w:w.contextElement||oH(e.elements.popper),l,u,o),_=iH(e.elements.reference),k=UH({reference:_,element:b,strategy:"absolute",placement:r}),E=ZH(Object.assign({},b,k)),C=h===TH?E:_,S={top:x.top-C.top+v.top,bottom:C.bottom-x.bottom+v.bottom,left:x.left-C.left+v.left,right:C.right-x.right+v.right},T=e.modifiersData.offset;if(h===TH&&T){var D=T[r];Object.keys(S).forEach((function(e){var t=[wH,bH].indexOf(e)>=0?1:-1,n=[yH,bH].indexOf(e)>=0?"y":"x";S[e]+=D[n]*t}))}return S}const rY={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,s=void 0===r||r,o=n.altAxis,a=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,g=n.allowedAutoPlacements,m=t.options.placement,v=VH(m),y=l||(v!==m&&f?function(e){if(VH(e)===_H)return[];var t=KH(e);return[QH(e),t,QH(t)]}(m):[KH(m)]),b=[m].concat(y).reduce((function(e,n){return e.concat(VH(n)===_H?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?IH:l,u=jH(i),d=u?a?DH:DH.filter((function(e){return jH(e)===u})):kH,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=iY(e,{placement:n,boundary:r,rootBoundary:s,padding:o})[VH(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:g}):n)}),[]),w=t.rects.reference,x=t.rects.popper,_=new Map,k=!0,E=b[0],C=0;C<b.length;C++){var S=b[C],T=VH(S),D=jH(S)===EH,I=[yH,bH].indexOf(T)>=0,A=I?"width":"height",M=iY(t,{placement:S,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),P=I?D?wH:xH:D?bH:yH;w[A]>x[A]&&(P=KH(P));var O=KH(P),R=[];if(s&&R.push(M[T]<=0),a&&R.push(M[P]<=0,M[O]<=0),R.every((function(e){return e}))){E=S,k=!1;break}_.set(S,R)}if(k)for(var L=function(e){var t=b.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},N=f?3:1;N>0&&"break"!==L(N);N--);t.placement!==E&&(t.modifiersData[i]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function sY(e,t,n){return J$(e,Z$(t,n))}const oY={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,s=void 0===r||r,o=n.altAxis,a=void 0!==o&&o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,g=void 0===f?0:f,m=iY(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=VH(t.placement),y=jH(t.placement),b=!y,w=BH(v),x="x"===w?"y":"x",_=t.modifiersData.popperOffsets,k=t.rects.reference,E=t.rects.popper,C="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,S="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(_){if(s){var I,A="y"===w?yH:xH,M="y"===w?bH:wH,P="y"===w?"height":"width",O=_[w],R=O+m[A],L=O-m[M],N=p?-E[P]/2:0,F=y===EH?k[P]:E[P],V=y===EH?-E[P]:-k[P],j=t.elements.arrow,B=p&&j?dH(j):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=U[A],$=U[M],H=sY(0,k[P],B[P]),Y=b?k[P]/2-N-H-z-S.mainAxis:F-H-z-S.mainAxis,W=b?-k[P]/2+N+H+$+S.mainAxis:V+H+$+S.mainAxis,q=t.elements.arrow&&vH(t.elements.arrow),G=q?"y"===w?q.clientTop||0:q.clientLeft||0:0,K=null!=(I=null==T?void 0:T[w])?I:0,X=O+W-K,Q=sY(p?Z$(R,O+Y-K-G):R,O,p?J$(L,X):L);_[w]=Q,D[w]=Q-O}if(a){var J,Z="x"===w?yH:xH,ee="x"===w?bH:wH,te=_[x],ne="y"===x?"height":"width",ie=te+m[Z],re=te-m[ee],se=-1!==[yH,xH].indexOf(v),oe=null!=(J=null==T?void 0:T[x])?J:0,ae=se?ie:te-k[ne]-E[ne]-oe+S.altAxis,le=se?te+k[ne]+E[ne]-oe-S.altAxis:re,ce=p&&se?function(e,t,n){var i=sY(e,t,n);return i>n?n:i}(ae,te,le):sY(p?ae:ie,te,p?le:re);_[x]=ce,D[x]=ce-te}t.modifiersData[i]=D}},requiresIfExists:["offset"]},aY={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=VH(n.placement),l=BH(a),c=[xH,wH].indexOf(a)>=0?"height":"width";if(s&&o){var u=function(e,t){return tY("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:nY(e,kH))}(r.padding,n),d=dH(s),h="y"===l?yH:xH,p="y"===l?bH:wH,f=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],g=o[l]-n.rects.reference[l],m=vH(s),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=f/2-g/2,b=u[h],w=v-d[c]-u[p],x=v/2-d[c]/2+y,_=sY(b,x,w),k=l;n.modifiersData[i]=((t={})[k]=_,t.centerOffset=_-x,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&JH(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function lY(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function cY(e){return[yH,wH,bH,xH].some((function(t){return e[t]>=0}))}const uY={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,o=iY(t,{elementContext:"reference"}),a=iY(t,{altBoundary:!0}),l=lY(o,i),c=lY(a,r,s),u=cY(l),d=cY(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};var dY=LH({defaultModifiers:[FH,zH,YH,WH,qH,rY,oY,aY,uY]}),hY=Object.defineProperty,pY=(e,t,n)=>(((e,t,n)=>{t in e?hY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),fY="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function gY(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mY=Object.prototype.hasOwnProperty,vY=Array.isArray,yY="object"==typeof fY&&fY&&fY.Object===Object&&fY,bY=yY,wY="object"==typeof self&&self&&self.Object===Object&&self,xY=bY||wY||Function("return this")(),_Y=xY.Symbol,kY=_Y,EY=Object.prototype,CY=EY.hasOwnProperty,SY=EY.toString,TY=kY?kY.toStringTag:void 0,DY=Object.prototype.toString,IY=function(e){var t=CY.call(e,TY),n=e[TY];try{e[TY]=void 0;var i=!0}catch(e){}var r=SY.call(e);return i&&(t?e[TY]=n:delete e[TY]),r},AY=_Y?_Y.toStringTag:void 0,MY=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":AY&&AY in Object(e)?IY(e):function(e){return DY.call(e)}(e)},PY=function(e){return null!=e&&"object"==typeof e},OY=MY,RY=PY,LY=function(e){return"symbol"==typeof e||RY(e)&&"[object Symbol]"==OY(e)},NY=vY,FY=LY,VY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jY=/^\w*$/,BY=function(e,t){if(NY(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!FY(e))||jY.test(e)||!VY.test(e)||null!=t&&e in Object(t)},UY=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},zY=MY,$Y=UY,HY=function(e){if(!$Y(e))return!1;var t=zY(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},YY=xY["__core-js_shared__"],WY=function(){var e=/[^.]+$/.exec(YY&&YY.keys&&YY.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),qY=Function.prototype.toString,GY=function(e){if(null!=e){try{return qY.call(e)}catch(e){}try{return e+""}catch(e){}}return""},KY=HY,XY=function(e){return!!WY&&WY in e},QY=UY,JY=GY,ZY=/^\[object .+?Constructor\]$/,eW=Function.prototype,tW=Object.prototype,nW=eW.toString,iW=tW.hasOwnProperty,rW=RegExp("^"+nW.call(iW).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sW=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!QY(e)||XY(e))&&(KY(e)?rW:ZY).test(JY(e))}(n)?n:void 0},oW=sW(Object,"create"),aW=oW,lW=oW,cW=Object.prototype.hasOwnProperty,uW=oW,dW=Object.prototype.hasOwnProperty,hW=oW,pW=function(){this.__data__=aW?aW(null):{},this.size=0},fW=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},gW=function(e){var t=this.__data__;if(lW){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return cW.call(t,e)?t[e]:void 0};function mW(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}mW.prototype.clear=pW,mW.prototype.delete=fW,mW.prototype.get=gW,mW.prototype.has=function(e){var t=this.__data__;return uW?void 0!==t[e]:dW.call(t,e)},mW.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=hW&&void 0===t?"__lodash_hash_undefined__":t,this};var vW=mW,yW=function(e,t){return e===t||e!=e&&t!=t},bW=yW,wW=function(e,t){for(var n=e.length;n--;)if(bW(e[n][0],t))return n;return-1},xW=wW,_W=Array.prototype.splice,kW=wW,EW=wW,CW=wW,SW=function(){this.__data__=[],this.size=0};function TW(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}TW.prototype.clear=SW,TW.prototype.delete=function(e){var t=this.__data__,n=xW(t,e);return!(n<0||(n==t.length-1?t.pop():_W.call(t,n,1),--this.size,0))},TW.prototype.get=function(e){var t=this.__data__,n=kW(t,e);return n<0?void 0:t[n][1]},TW.prototype.has=function(e){return EW(this.__data__,e)>-1},TW.prototype.set=function(e,t){var n=this.__data__,i=CW(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var DW=TW,IW=sW(xY,"Map"),AW=vW,MW=DW,PW=IW,OW=function(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map},RW=OW,LW=OW,NW=OW,FW=OW;function VW(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}VW.prototype.clear=function(){this.size=0,this.__data__={hash:new AW,map:new(PW||MW),string:new AW}},VW.prototype.delete=function(e){var t=RW(this,e).delete(e);return this.size-=t?1:0,t},VW.prototype.get=function(e){return LW(this,e).get(e)},VW.prototype.has=function(e){return NW(this,e).has(e)},VW.prototype.set=function(e,t){var n=FW(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var jW=VW,BW=jW;function UW(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(UW.Cache||BW),n}UW.Cache=BW;var zW,$W,HW,YW,WW,qW,GW,KW,XW,QW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JW=/\\(\\)?/g,ZW=(zW=UW((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(QW,(function(e,n,i,r){t.push(i?r.replace(JW,"$1"):n||e)})),t}),(function(e){return 500===$W.size&&$W.clear(),e})),$W=zW.cache,zW),eq=vY,tq=LY,nq=_Y?_Y.prototype:void 0,iq=nq?nq.toString:void 0,rq=function e(t){if("string"==typeof t)return t;if(eq(t))return function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}(t,e)+"";if(tq(t))return iq?iq.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},sq=vY,oq=BY,aq=ZW,lq=function(e,t){return sq(e)?e:oq(e,t)?[e]:aq(function(e){return null==e?"":rq(e)}(e))},cq=MY,uq=PY,dq=function(e){return uq(e)&&"[object Arguments]"==cq(e)},hq=PY,pq=Object.prototype,fq=pq.hasOwnProperty,gq=pq.propertyIsEnumerable,mq=dq(function(){return arguments}())?dq:function(e){return hq(e)&&fq.call(e,"callee")&&!gq.call(e,"callee")},vq=/^(?:0|[1-9]\d*)$/,yq=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&vq.test(e))&&e>-1&&e%1==0&&e<t},bq=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},wq=LY,xq=function(e){if("string"==typeof e||wq(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},_q=lq,kq=mq,Eq=vY,Cq=yq,Sq=bq,Tq=xq,Dq=function(e,t,n){for(var i=-1,r=(t=_q(t,e)).length,s=!1;++i<r;){var o=Tq(t[i]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++i!=r?s:!!(r=null==e?0:e.length)&&Sq(r)&&Cq(o,r)&&(Eq(e)||kq(e))},Iq=function(e,t){return null!=e&&mY.call(e,t)},Aq=Dq,Mq=function(e,t){return null!=e&&Aq(e,t,Iq)},Pq=MY,Oq=PY,Rq=function(e){return function(t){return e(t)}},Lq={},Nq={get exports(){return Lq},set exports(e){Lq=e}};HW=Nq,WW=yY,qW=(YW=Lq)&&!YW.nodeType&&YW,GW=qW&&HW&&!HW.nodeType&&HW,KW=GW&&GW.exports===qW&&WW.process,XW=function(){try{return GW&&GW.require&&GW.require("util").types||KW&&KW.binding&&KW.binding("util")}catch(e){}}(),HW.exports=XW;var Fq=function(e){return Oq(e)&&"[object Date]"==Pq(e)},Vq=Rq,jq=Lq&&Lq.isDate,Bq=jq?Vq(jq):Fq,Uq=MY,zq=vY,$q=PY,Hq=function(e){return"string"==typeof e||!zq(e)&&$q(e)&&"[object String]"==Uq(e)},Yq=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},Wq=DW,qq=DW,Gq=IW,Kq=jW,Xq=DW;function Qq(e){var t=this.__data__=new Xq(e);this.size=t.size}Qq.prototype.clear=function(){this.__data__=new Wq,this.size=0},Qq.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qq.prototype.get=function(e){return this.__data__.get(e)},Qq.prototype.has=function(e){return this.__data__.has(e)},Qq.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qq){var i=n.__data__;if(!Gq||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kq(i)}return n.set(e,t),this.size=n.size,this};var Jq=Qq,Zq=jW;function eG(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Zq;++t<n;)this.add(e[t])}eG.prototype.add=eG.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},eG.prototype.has=function(e){return this.__data__.has(e)};var tG=eG,nG=Yq,iG=function(e,t){return e.has(t)},rG=function(e,t,n,i,r,s){var o=1&n,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=2&n?new tG:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var f=e[d],g=t[d];if(i)var m=o?i(g,f,d,t,e,s):i(f,g,d,e,t,s);if(void 0!==m){if(m)continue;h=!1;break}if(p){if(!nG(t,(function(e,t){if(!iG(p,t)&&(f===e||r(f,e,n,i,s)))return p.push(t)}))){h=!1;break}}else if(f!==g&&!r(f,g,n,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h},sG=xY.Uint8Array,oG=sG,aG=yW,lG=rG,cG=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n},uG=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},dG=_Y?_Y.prototype:void 0,hG=dG?dG.valueOf:void 0,pG=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},fG=vY,gG=Object.prototype.propertyIsEnumerable,mG=Object.getOwnPropertySymbols,vG=mG?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}(mG(e),(function(t){return gG.call(e,t)})))}:function(){return[]},yG={},bG={get exports(){return yG},set exports(e){yG=e}},wG=function(){return!1};!function(e,t){var n=xY,i=wG,r=t&&!t.nodeType&&t,s=r&&e&&!e.nodeType&&e,o=s&&s.exports===r?n.Buffer:void 0,a=(o?o.isBuffer:void 0)||i;e.exports=a}(bG,yG);var xG=MY,_G=bq,kG=PY,EG={};EG["[object Float32Array]"]=EG["[object Float64Array]"]=EG["[object Int8Array]"]=EG["[object Int16Array]"]=EG["[object Int32Array]"]=EG["[object Uint8Array]"]=EG["[object Uint8ClampedArray]"]=EG["[object Uint16Array]"]=EG["[object Uint32Array]"]=!0,EG["[object Arguments]"]=EG["[object Array]"]=EG["[object ArrayBuffer]"]=EG["[object Boolean]"]=EG["[object DataView]"]=EG["[object Date]"]=EG["[object Error]"]=EG["[object Function]"]=EG["[object Map]"]=EG["[object Number]"]=EG["[object Object]"]=EG["[object RegExp]"]=EG["[object Set]"]=EG["[object String]"]=EG["[object WeakMap]"]=!1;var CG=Rq,SG=Lq&&Lq.isTypedArray,TG=SG?CG(SG):function(e){return kG(e)&&_G(e.length)&&!!EG[xG(e)]},DG=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i},IG=mq,AG=vY,MG=yG,PG=yq,OG=TG,RG=Object.prototype.hasOwnProperty,LG=function(e,t){var n=AG(e),i=!n&&IG(e),r=!n&&!i&&MG(e),s=!n&&!i&&!r&&OG(e),o=n||i||r||s,a=o?DG(e.length,String):[],l=a.length;for(var c in e)!t&&!RG.call(e,c)||o&&("length"==c||r&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||PG(c,l))||a.push(c);return a},NG=Object.prototype,FG=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||NG)},VG=function(e,t){return function(n){return e(t(n))}},jG=VG(Object.keys,Object),BG=FG,UG=jG,zG=Object.prototype.hasOwnProperty,$G=HY,HG=bq,YG=function(e){return null!=e&&HG(e.length)&&!$G(e)},WG=LG,qG=YG,GG=function(e){return qG(e)?WG(e):function(e){if(!BG(e))return UG(e);var t=[];for(var n in Object(e))zG.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},KG=function(e,t,n){var i=t(e);return fG(e)?i:pG(i,n(e))},XG=vG,QG=GG,JG=function(e){return KG(e,QG,XG)},ZG=Object.prototype.hasOwnProperty,eK=sW(xY,"DataView"),tK=IW,nK=sW(xY,"Promise"),iK=sW(xY,"Set"),rK=sW(xY,"WeakMap"),sK=MY,oK=GY,aK="[object Map]",lK="[object Promise]",cK="[object Set]",uK="[object WeakMap]",dK="[object DataView]",hK=oK(eK),pK=oK(tK),fK=oK(nK),gK=oK(iK),mK=oK(rK),vK=sK;(eK&&vK(new eK(new ArrayBuffer(1)))!=dK||tK&&vK(new tK)!=aK||nK&&vK(nK.resolve())!=lK||iK&&vK(new iK)!=cK||rK&&vK(new rK)!=uK)&&(vK=function(e){var t=sK(e),n="[object Object]"==t?e.constructor:void 0,i=n?oK(n):"";if(i)switch(i){case hK:return dK;case pK:return aK;case fK:return lK;case gK:return cK;case mK:return uK}return t});var yK,bK,wK,xK,_K=Jq,kK=rG,EK=function(e,t,n,i,r,s,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new oG(e),new oG(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return aG(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=cG;case"[object Set]":var l=1&i;if(a||(a=uG),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;i|=2,o.set(e,t);var u=lG(a(e),a(t),i,r,s,o);return o.delete(e),u;case"[object Symbol]":if(hG)return hG.call(e)==hG.call(t)}return!1},CK=function(e,t,n,i,r,s){var o=1&n,a=JG(e),l=a.length;if(l!=JG(t).length&&!o)return!1;for(var c=l;c--;){var u=a[c];if(!(o?u in t:ZG.call(t,u)))return!1}var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var p=!0;s.set(e,t),s.set(t,e);for(var f=o;++c<l;){var g=e[u=a[c]],m=t[u];if(i)var v=o?i(m,g,u,t,e,s):i(g,m,u,e,t,s);if(!(void 0===v?g===m||r(g,m,n,i,s):v)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(e),s.delete(t),p},SK=vK,TK=vY,DK=yG,IK=TG,AK="[object Arguments]",MK="[object Array]",PK="[object Object]",OK=Object.prototype.hasOwnProperty,RK=function(e,t,n,i,r,s){var o=TK(e),a=TK(t),l=o?MK:SK(e),c=a?MK:SK(t),u=(l=l==AK?PK:l)==PK,d=(c=c==AK?PK:c)==PK,h=l==c;if(h&&DK(e)){if(!DK(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new _K),o||IK(e)?kK(e,t,n,i,r,s):EK(e,t,l,n,i,r,s);if(!(1&n)){var p=u&&OK.call(e,"__wrapped__"),f=d&&OK.call(t,"__wrapped__");if(p||f){var g=p?e.value():e,m=f?t.value():t;return s||(s=new _K),r(g,m,n,i,s)}}return!!h&&(s||(s=new _K),CK(e,t,n,i,r,s))},LK=PY,NK=function e(t,n,i,r,s){return t===n||(null==t||null==n||!LK(t)&&!LK(n)?t!=t&&n!=n:RK(t,n,i,r,e,s))},FK=Jq,VK=NK,jK=UY,BK=function(e){return e==e&&!jK(e)},UK=BK,zK=GG,$K=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},HK=function(e,t,n,i){var r=n.length,s=r,o=!i;if(null==e)return!s;for(e=Object(e);r--;){var a=n[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<s;){var l=(a=n[r])[0],c=e[l],u=a[1];if(o&&a[2]){if(void 0===c&&!(l in e))return!1}else{var d=new FK;if(i)var h=i(c,u,l,e,t,d);if(!(void 0===h?VK(u,c,3,i,d):h))return!1}}return!0},YK=$K,WK=lq,qK=xq,GK=function(e,t){for(var n=0,i=(t=WK(t,e)).length;null!=e&&n<i;)e=e[qK(t[n++])];return n&&n==i?e:void 0},KK=GK,XK=function(e,t,n){var i=null==e?void 0:KK(e,t);return void 0===i?n:i},QK=function(e,t){return null!=e&&t in Object(e)},JK=Dq,ZK=NK,eX=XK,tX=BY,nX=BK,iX=$K,rX=xq,sX=function(e){return e},oX=GK,aX=BY,lX=xq,cX=function(e){var t=function(e){for(var t=zK(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,UK(r)]}return t}(e);return 1==t.length&&t[0][2]?YK(t[0][0],t[0][1]):function(n){return n===e||HK(n,e,t)}},uX=function(e,t){return tX(e)&&nX(t)?iX(rX(e),t):function(n){var i=eX(n,e);return void 0===i&&i===t?function(e,t){return null!=e&&JK(e,t,QK)}(n,e):ZK(t,i,3)}},dX=sX,hX=vY,pX=function(e){return aX(e)?(t=lX(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return oX(t,e)}}(e);var t},fX=function(e){return"function"==typeof e?e:null==e?dX:"object"==typeof e?hX(e)?uX(e[0],e[1]):cX(e):pX(e)},gX=function(e,t,n){for(var i=-1,r=Object(e),s=n(e),o=s.length;o--;){var a=s[++i];if(!1===t(r[a],a,r))break}return e},mX=gX,vX=GG,yX=function(e,t){return e&&mX(e,t,vX)},bX=YG,wX=(yK=yX,function(e,t){if(null==e)return e;if(!bX(e))return yK(e,t);for(var n=e.length,i=-1,r=Object(e);++i<n&&!1!==t(r[i],i,r););return e}),xX=yW,_X=YG,kX=yq,EX=UY,CX=function(e,t,n){if(!EX(n))return!1;var i=typeof t;return!!("number"==i?_X(n)&&kX(t,n.length):"string"==i&&t in n)&&xX(n[t],e)},SX=Yq,TX=fX,DX=function(e,t){var n;return wX(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n},IX=vY,AX=CX,MX=MY,PX=PY,OX=MY,RX=PY,LX=function(e){return"number"==typeof e||RX(e)&&"[object Number]"==OX(e)},NX=sW,FX=function(){try{var e=NX(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),VX=FX,jX=function(e,t,n){"__proto__"==t&&VX?VX(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},BX=jX,UX=yW,zX=Object.prototype.hasOwnProperty,$X=jX,HX=yX,YX=fX,WX=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},qX=WX,GX=Math.max,KX=FX,XX=KX?function(e,t){return KX(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:sX,QX=Date.now,JX=(bK=XX,wK=0,xK=0,function(){var e=QX(),t=16-(e-xK);if(xK=e,t>0){if(++wK>=800)return arguments[0]}else wK=0;return bK.apply(void 0,arguments)}),ZX=sX,eQ=function(e,t,n){return t=GX(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,s=GX(i.length-t,0),o=Array(s);++r<s;)o[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(o),qX(e,this,a)}},tQ=JX,nQ=function(e,t){return tQ(eQ(e,t,ZX),e+"")},iQ=UY,rQ=FG,sQ=Object.prototype.hasOwnProperty,oQ=LG,aQ=function(e){if(!iQ(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=rQ(e),n=[];for(var i in e)("constructor"!=i||!t&&sQ.call(e,i))&&n.push(i);return n},lQ=YG,cQ=function(e){return lQ(e)?oQ(e,!0):aQ(e)},uQ=nQ,dQ=yW,hQ=CX,pQ=cQ,fQ=Object.prototype,gQ=fQ.hasOwnProperty,mQ=uQ((function(e,t){e=Object(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&hQ(t[0],t[1],r)&&(i=1);++n<i;)for(var s=t[n],o=pQ(s),a=-1,l=o.length;++a<l;){var c=o[a],u=e[c];(void 0===u||dQ(u,fQ[c])&&!gQ.call(e,c))&&(e[c]=s[c])}return e})),vQ=jX,yQ=yW,bQ=function(e,t,n){(void 0!==n&&!yQ(e[t],n)||void 0===n&&!(t in e))&&vQ(e,t,n)},wQ={},xQ={get exports(){return wQ},set exports(e){wQ=e}};!function(e,t){var n=xY,i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,s=r&&r.exports===i?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=o?o(n):new e.constructor(n);return e.copy(i),i}}(xQ,wQ);var _Q,kQ=sG,EQ=UY,CQ=Object.create,SQ=function(){function e(){}return function(t){if(!EQ(t))return{};if(CQ)return CQ(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),TQ=VG(Object.getPrototypeOf,Object),DQ=SQ,IQ=TQ,AQ=FG,MQ=YG,PQ=PY,OQ=MY,RQ=TQ,LQ=PY,NQ=Function.prototype,FQ=Object.prototype,VQ=NQ.toString,jQ=FQ.hasOwnProperty,BQ=VQ.call(Object),UQ=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},zQ=function(e,t,n){var i=e[t];zX.call(e,t)&&UX(i,n)&&(void 0!==n||t in e)||BX(e,t,n)},$Q=jX,HQ=cQ,YQ=bQ,WQ=wQ,qQ=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new kQ(t).set(new kQ(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},GQ=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t},KQ=function(e){return"function"!=typeof e.constructor||AQ(e)?{}:DQ(IQ(e))},XQ=mq,QQ=vY,JQ=function(e){return PQ(e)&&MQ(e)},ZQ=yG,eJ=HY,tJ=UY,nJ=TG,iJ=UQ,rJ=function(e){return function(e,t,n,i){var r=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=i?i(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),r?$Q(n,a,l):zQ(n,a,l)}return n}(e,HQ(e))},sJ=Jq,oJ=bQ,aJ=gX,lJ=function(e,t,n,i,r,s,o){var a=iJ(e,n),l=iJ(t,n),c=o.get(l);if(c)YQ(e,n,c);else{var u=s?s(a,l,n+"",e,t,o):void 0,d=void 0===u;if(d){var h=QQ(l),p=!h&&ZQ(l),f=!h&&!p&&nJ(l);u=l,h||p||f?QQ(a)?u=a:JQ(a)?u=GQ(a):p?(d=!1,u=WQ(l,!0)):f?(d=!1,u=qQ(l,!0)):u=[]:function(e){if(!LQ(e)||"[object Object]"!=OQ(e))return!1;var t=RQ(e);if(null===t)return!0;var n=jQ.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&VQ.call(n)==BQ}(l)||XQ(l)?(u=a,XQ(a)?u=rJ(a):tJ(a)&&!eJ(a)||(u=KQ(l))):d=!1}d&&(o.set(l,u),r(u,l,i,s,o),o.delete(l)),YQ(e,n,u)}},cJ=UY,uJ=cQ,dJ=UQ,hJ=function e(t,n,i,r,s){t!==n&&aJ(n,(function(o,a){if(s||(s=new sJ),cJ(o))lJ(t,n,a,i,e,r,s);else{var l=r?r(dJ(t,a),o,a+"",t,n,s):void 0;void 0===l&&(l=o),oJ(t,a,l)}}),uJ)},pJ=hJ,fJ=UY,gJ=CX,mJ=hJ,vJ=(_Q=function(e,t,n,i){mJ(e,t,n,i)},nQ((function(e,t){var n=-1,i=t.length,r=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(r=_Q.length>3&&"function"==typeof r?(i--,r):void 0,s&&gJ(t[0],t[1],s)&&(r=i<3?void 0:r,i=1),e=Object(e);++n<i;){var o=t[n];o&&_Q(e,o,n,r)}return e}))),yJ=WX,bJ=function e(t,n,i,r,s,o){return fJ(t)&&fJ(n)&&(o.set(n,t),pJ(t,n,void 0,e,o),o.delete(n)),t},wJ=vJ,xJ=nQ((function(e){return e.push(void 0,bJ),yJ(wJ,void 0,e)})),_J=function(e){return e&&e.length?e[0]:void 0},kJ=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const EJ=e=>Bq(e)&&!isNaN(e.getTime()),CJ=e=>"Object"===(e=>Object.prototype.toString.call(e).slice(8,-1))(e),SJ=Mq,TJ=(e,t)=>function(e,t,n){var i=IX(e)?SX:DX;return n&&AX(e,t,n)&&(t=void 0),i(e,TX(t))}(t,(t=>Mq(e,t))),DJ=(e,t,n="0")=>{for(e=null!=e?String(e):"",t=t||2;e.length<t;)e=`${n}${e}`;return e},IJ=e=>Array.isArray(e),AJ=e=>IJ(e)&&e.length>0,MJ=e=>null==e?null:document&&Hq(e)?document.querySelector(e):e.$el??e,PJ=(e,t,n,i=void 0)=>{e.removeEventListener(t,n,i)},OJ=(e,t,n,i=void 0)=>(e.addEventListener(t,n,i),()=>PJ(e,t,n,i)),RJ=(e,t)=>!!e&&!!t&&(e===t||e.contains(t)),LJ=(e,t)=>{" "!==e.key&&"Enter"!==e.key||(t(e),e.preventDefault())},NJ=(e,...t)=>{const n={};let i;for(i in e)t.includes(i)||(n[i]=e[i]);return n},FJ=(e,t)=>{const n={};return t.forEach((t=>{t in e&&(n[t]=e[t])})),n};var VJ={},jJ={get exports(){return VJ},set exports(e){VJ=e}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)},e.exports=t.default}(jJ,VJ);const BJ=gY(VJ);var UJ={},zJ={get exports(){return UJ},set exports(e){UJ=e}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()},e.exports=t.default}(zJ,UJ);const $J=gY(UJ);var HJ={year:0,month:1,day:2,hour:3,minute:4,second:5},YJ={};function WJ(e,t,n,i,r,s,o){var a=new Date(0);return a.setUTCFullYear(e,t,n),a.setUTCHours(i,r,s,o),a}var qJ=36e5,GJ={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function KJ(e,t){var n=function(e,t){var n=function(e){if(!YJ[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n="06/25/2014, 00:00:00"===t||"‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"===t;YJ[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return YJ[e]}(t);return n.formatToParts?function(e,t){try{for(var n=e.formatToParts(t),i=[],r=0;r<n.length;r++){var s=HJ[n[r].type];s>=0&&(i[s]=parseInt(n[r].value,10))}return i}catch(e){if(e instanceof RangeError)return[NaN];throw e}}(n,e):function(e,t){var n=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[i[3],i[1],i[2],i[4],i[5],i[6]]}(n,e)}(e,t),i=WJ(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),r=e.getTime(),s=r%1e3;return i-(r-(s>=0?s:1e3+s))}function XJ(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}var QJ={},JJ=36e5,ZJ={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/};function eZ(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},i=null==n.additionalDigits?2:BJ(n.additionalDigits);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var r=function(e){var t,n={},i=ZJ.dateTimePattern.exec(e);if(i?(n.date=i[1],t=i[3]):(i=ZJ.datePattern.exec(e))?(n.date=i[1],t=i[2]):(n.date=null,t=e),t){var r=ZJ.timeZone.exec(t);r?(n.time=t.replace(r[1],""),n.timeZone=r[1].trim()):n.time=t}return n}(e),s=function(e,t){var n,i=ZJ.YYY[t],r=ZJ.YYYYY[t];if(n=ZJ.YYYY.exec(e)||r.exec(e)){var s=n[1];return{year:parseInt(s,10),restDateString:e.slice(s.length)}}if(n=ZJ.YY.exec(e)||i.exec(e)){var o=n[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(r.date,i),o=s.year,a=function(e,t){if(null===t)return null;var n,i,r,s;if(0===e.length)return(i=new Date(0)).setUTCFullYear(t),i;if(n=ZJ.MM.exec(e))return i=new Date(0),sZ(t,r=parseInt(n[1],10)-1)?(i.setUTCFullYear(t,r),i):new Date(NaN);if(n=ZJ.DDD.exec(e)){i=new Date(0);var o=parseInt(n[1],10);return function(e,t){if(t<1)return!1;var n=rZ(e);return!(n&&t>366)&&!(!n&&t>365)}(t,o)?(i.setUTCFullYear(t,0,o),i):new Date(NaN)}if(n=ZJ.MMDD.exec(e)){i=new Date(0),r=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return sZ(t,r,a)?(i.setUTCFullYear(t,r,a),i):new Date(NaN)}if(n=ZJ.Www.exec(e))return oZ(0,s=parseInt(n[1],10)-1)?tZ(t,s):new Date(NaN);if(n=ZJ.WwwD.exec(e)){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return oZ(0,s,l)?tZ(t,s,l):new Date(NaN)}return null}(s.restDateString,o);if(isNaN(a))return new Date(NaN);if(a){var l,c=a.getTime(),u=0;if(r.time&&(u=function(e){var t,n,i;if(t=ZJ.HH.exec(e))return aZ(n=parseFloat(t[1].replace(",",".")))?n%24*JJ:NaN;if(t=ZJ.HHMM.exec(e))return aZ(n=parseInt(t[1],10),i=parseFloat(t[2].replace(",",".")))?n%24*JJ+6e4*i:NaN;if(t=ZJ.HHMMSS.exec(e)){n=parseInt(t[1],10),i=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return aZ(n,i,r)?n%24*JJ+6e4*i+1e3*r:NaN}return null}(r.time),isNaN(u)))return new Date(NaN);if(r.timeZone||n.timeZone){if(l=function(e,t,n){var i,r,s;if(!e)return 0;if(i=GJ.timezoneZ.exec(e))return 0;if(i=GJ.timezoneHH.exec(e))return XJ(s=parseInt(i[1],10))?-s*qJ:NaN;if(i=GJ.timezoneHHMM.exec(e)){s=parseInt(i[1],10);var o=parseInt(i[2],10);return XJ(s,o)?(r=Math.abs(s)*qJ+6e4*o,s>0?-r:r):NaN}if(function(e){if(QJ[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),QJ[e]=!0,!0}catch(e){return!1}}(e)){t=new Date(t||Date.now());var a=n?t:function(e){return WJ(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}(t),l=KJ(a,e),c=n?l:function(e,t,n){var i=e.getTime()-t,r=KJ(new Date(i),n);if(t===r)return t;i-=r-t;var s=KJ(new Date(i),n);return r===s?r:Math.max(r,s)}(t,l,e);return-c}return NaN}(r.timeZone||n.timeZone,new Date(c+u)),isNaN(l))return new Date(NaN)}else l=$J(new Date(c+u)),l=$J(new Date(c+u+l));return new Date(c+u+l)}return new Date(NaN)}function tZ(e,t,n){t=t||0,n=n||0;var i=new Date(0);i.setUTCFullYear(e,0,4);var r=7*t+n+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+r),i}var nZ=[31,28,31,30,31,30,31,31,30,31,30,31],iZ=[31,29,31,30,31,30,31,31,30,31,30,31];function rZ(e){return e%400==0||e%4==0&&e%100!=0}function sZ(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var i=rZ(e);if(i&&n>iZ[t])return!1;if(!i&&n>nZ[t])return!1}return!0}function oZ(e,t,n){return!(t<0||t>52||null!=n&&(n<0||n>6))}function aZ(e,t,n){return!(null!=e&&(e<0||e>=25)||null!=t&&(t<0||t>=60)||null!=n&&(n<0||n>=60))}function lZ(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function cZ(e){return(cZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uZ(e){lZ(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===cZ(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function dZ(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var hZ={};function pZ(){return hZ}function fZ(e,t){var n,i,r,s,o,a,l,c;lZ(1,arguments);var u=pZ(),d=dZ(null!==(n=null!==(i=null!==(r=null!==(s=null==t?void 0:t.weekStartsOn)&&void 0!==s?s:null==t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==r?r:u.weekStartsOn)&&void 0!==i?i:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=uZ(e),p=h.getDay(),f=(p<d?7:0)+p-d;return h.setDate(h.getDate()-f),h.setHours(0,0,0,0),h}function gZ(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function mZ(e,t){lZ(1,arguments);var n=uZ(e),i=fZ(n,t).getTime()-function(e,t){var n,i,r,s,o,a,l,c;lZ(1,arguments);var u=pZ(),d=dZ(null!==(n=null!==(i=null!==(r=null!==(s=null==t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null==t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==r?r:u.firstWeekContainsDate)&&void 0!==i?i:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=function(e,t){var n,i,r,s,o,a,l,c;lZ(1,arguments);var u=uZ(e),d=u.getFullYear(),h=pZ(),p=dZ(null!==(n=null!==(i=null!==(r=null!==(s=null==t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null==t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==r?r:h.firstWeekContainsDate)&&void 0!==i?i:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setFullYear(d+1,0,p),f.setHours(0,0,0,0);var g=fZ(f,t),m=new Date(0);m.setFullYear(d,0,p),m.setHours(0,0,0,0);var v=fZ(m,t);return u.getTime()>=g.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}(e,t),p=new Date(0);return p.setFullYear(h,0,d),p.setHours(0,0,0,0),fZ(p,t)}(n,t).getTime();return Math.round(i/6048e5)+1}function vZ(e){return lZ(1,arguments),fZ(e,{weekStartsOn:1})}function yZ(e){lZ(1,arguments);var t=uZ(e),n=vZ(t).getTime()-function(e){lZ(1,arguments);var t=function(e){lZ(1,arguments);var t=uZ(e),n=t.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var r=vZ(i),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=vZ(s);return t.getTime()>=r.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),vZ(n)}(t).getTime();return Math.round(n/6048e5)+1}function bZ(e,t){lZ(2,arguments);var n=uZ(e),i=dZ(t);return isNaN(i)?new Date(NaN):i?(n.setDate(n.getDate()+i),n):n}function wZ(e,t){lZ(2,arguments);var n=uZ(e),i=dZ(t);if(isNaN(i))return new Date(NaN);if(!i)return n;var r=n.getDate(),s=new Date(n.getTime());return s.setMonth(n.getMonth()+i+1,0),r>=s.getDate()?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function xZ(e,t){return lZ(2,arguments),wZ(e,12*dZ(t))}const _Z={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function kZ(e,t){return`${t}.${DJ(e,2)}`}function EZ(e,t,n){return FJ(n.getDateParts(n.toDate(e)),_Z[t])}function CZ({day:e,week:t,month:n,year:i},r,s,o){if("daily"===s&&e){const t=bZ(new Date(i,n-1,e),r);return{day:t.getDate(),month:t.getMonth()+1,year:t.getFullYear()}}if("weekly"===s&&t){const e=bZ(o.getMonthParts(n,i).firstDayOfMonth,7*(t-1+r)),s=o.getDateParts(e);return{week:s.week,month:s.month,year:s.year}}{const e=wZ(new Date(i,n-1,1),r);return{month:e.getMonth()+1,year:e.getFullYear()}}}function SZ(e){return null!=e&&null!=e.month&&null!=e.year}function TZ(e,t){return!(!SZ(e)||!SZ(t))&&(e.year!==t.year?e.year<t.year:e.month&&t.month&&e.month!==t.month?e.month<t.month:e.week&&t.week&&e.week!==t.week?e.week<t.week:!(!e.day||!t.day||e.day===t.day)&&e.day<t.day)}function DZ(e,t){return!(!SZ(e)||!SZ(t))&&(e.year!==t.year?e.year>t.year:e.month&&t.month&&e.month!==t.month?e.month>t.month:e.week&&t.week&&e.week!==t.week?e.week>t.week:!(!e.day||!t.day||e.day===t.day)&&e.day>t.day)}function IZ(e){const{day:t,week:n,month:i,year:r}=e;let s=`${r}-${DJ(i,2)}`;return n&&(s=`${s}-w${n}`),t&&(s=`${s}-${DJ(t,2)}`),s}function AZ(e,t){const{month:n,year:i,showWeeknumbers:r,showIsoWeeknumbers:s}=e,o=new Date(i,n-1,15),a=t.getMonthParts(n,i),l=t.getPrevMonthParts(n,i),c=t.getNextMonthParts(n,i),u=function({monthComps:e,prevMonthComps:t,nextMonthComps:n},i){const r=[],{firstDayOfWeek:s,firstWeekday:o,isoWeeknumbers:a,weeknumbers:l,numDays:c,numWeeks:u}=e,d=o+(o<s?a0:0)-s;let h=!0,p=!1,f=!1,g=0;const m=new Intl.DateTimeFormat(i.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let v=t.numDays-d+1,y=t.numDays-v+1,b=Math.floor((v-1)/a0+1),w=1,x=t.numWeeks,_=1,k=t.month,E=t.year;const C=new Date,S=C.getDate(),T=C.getMonth()+1,D=C.getFullYear();for(let t=1;t<=l0;t++){for(let d=1,C=s;d<=a0;d++,C+=C===a0?1-a0:1){h&&C===o&&(v=1,y=e.numDays,b=Math.floor((v-1)/a0+1),w=Math.floor((c-v)/a0+1),x=1,_=u,k=e.month,E=e.year,h=!1,p=!0);const s=i.getDateFromParams(E,k,v,0,0,0,0),I=i.getDateFromParams(E,k,v,12,0,0,0),A=i.getDateFromParams(E,k,v,23,59,59,999),M=s,P=`${DJ(E,4)}-${DJ(k,2)}-${DJ(v,2)}`,O=d,R=a0-d,L=l[t-1],N=a[t-1],F=v===S&&k===T&&E===D,V=p&&1===v,j=p&&v===c,B=1===t,U=t===u,z=1===d,$=d===a0,H=T0(E,k,v);r.push({locale:i,id:P,position:++g,label:v.toString(),ariaLabel:m.format(new Date(E,k-1,v)),day:v,dayFromEnd:y,weekday:C,weekdayPosition:O,weekdayPositionFromEnd:R,weekdayOrdinal:b,weekdayOrdinalFromEnd:w,week:x,weekFromEnd:_,weekPosition:t,weeknumber:L,isoWeeknumber:N,month:k,year:E,date:M,startDate:s,endDate:A,noonDate:I,dayIndex:H,isToday:F,isFirstDay:V,isLastDay:j,isDisabled:!p,isFocusable:!p,isFocused:!1,inMonth:p,inPrevMonth:h,inNextMonth:f,onTop:B,onBottom:U,onLeft:z,onRight:$,classes:[`id-${P}`,`day-${v}`,`day-from-end-${y}`,`weekday-${C}`,`weekday-position-${O}`,`weekday-ordinal-${b}`,`weekday-ordinal-from-end-${w}`,`week-${x}`,`week-from-end-${_}`,{"is-today":F,"is-first-day":V,"is-last-day":j,"in-month":p,"in-prev-month":h,"in-next-month":f,"on-top":B,"on-bottom":U,"on-left":z,"on-right":$}]}),p&&j?(p=!1,f=!0,v=1,y=c,b=1,w=Math.floor((c-v)/a0+1),x=1,_=n.numWeeks,k=n.month,E=n.year):(v++,y--,b=Math.floor((v-1)/a0+1),w=Math.floor((c-v)/a0+1))}x++,_--}return r}({monthComps:a,prevMonthComps:l,nextMonthComps:c},t),d=function(e,t,n,i){const r=e.reduce(((e,i,r)=>{const s=Math.floor(r/7);let o=e[s];return o||(o={id:`week-${s+1}`,title:"",week:i.week,weekPosition:i.weekPosition,weeknumber:i.weeknumber,isoWeeknumber:i.isoWeeknumber,weeknumberDisplay:t?i.weeknumber:n?i.isoWeeknumber:void 0,days:[]},e[s]=o),o.days.push(i),e}),Array(e.length/a0));return r.forEach((e=>{const t=e.days[0],n=e.days[e.days.length-1];t.month===n.month?e.title=`${i.formatDate(t.date,"MMMM YYYY")}`:t.year===n.year?e.title=`${i.formatDate(t.date,"MMM")} - ${i.formatDate(n.date,"MMM YYYY")}`:e.title=`${i.formatDate(t.date,"MMM YYYY")} - ${i.formatDate(n.date,"MMM YYYY")}`})),r}(u,r,s,t),h=function(e,t){return e.days.map((e=>({label:t.formatDate(e.date,t.masks.weekdays),weekday:e.weekday})))}(d[0],t);return{id:IZ(e),month:n,year:i,monthTitle:t.formatDate(o,t.masks.title),shortMonthLabel:t.formatDate(o,"MMM"),monthLabel:t.formatDate(o,"MMMM"),shortYearLabel:i.toString().substring(2),yearLabel:i.toString(),monthComps:a,prevMonthComps:l,nextMonthComps:c,days:u,weeks:d,weekdays:h}}class MZ{constructor(e,t,n){pY(this,"keys",[]),pY(this,"store",{}),this.size=e,this.createKey=t,this.createItem=n}get(...e){const t=this.createKey(...e);return this.store[t]}getOrSet(...e){const t=this.createKey(...e);if(this.store[t])return this.store[t];const n=this.createItem(...e);if(this.keys.length>=this.size){const e=this.keys.shift();null!=e&&delete this.store[e]}return this.keys.push(t),this.store[t]=n,n}}class PZ{constructor(e,t=new BZ){var n;pY(this,"order"),pY(this,"locale"),pY(this,"start",null),pY(this,"end",null),pY(this,"repeat",null),this.locale=t;const{start:i,end:r,span:s,order:o,repeat:a}=e;EJ(i)&&(this.start=t.getDateParts(i)),EJ(r)?this.end=t.getDateParts(r):null!=this.start&&s&&(this.end=t.getDateParts(bZ(this.start.date,s-1))),this.order=o??0,a&&(this.repeat=new e0({from:null==(n=this.start)?void 0:n.date,...a},{locale:this.locale}))}static fromMany(e,t){return(IJ(e)?e:[e]).filter((e=>e)).map((e=>PZ.from(e,t)))}static from(e,t){if(e instanceof PZ)return e;const n={start:null,end:null};return null!=e&&(IJ(e)?(n.start=e[0]??null,n.end=e[1]??null):CJ(e)?Object.assign(n,e):(n.start=e,n.end=e)),null!=n.start&&(n.start=new Date(n.start)),null!=n.end&&(n.end=new Date(n.end)),new PZ(n,t)}get opts(){const{order:e,locale:t}=this;return{order:e,locale:t}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:e,end:t}=this;return e&&t&&e.year===t.year&&e.month===t.month&&e.day===t.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return null==this.start||null==this.end?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(e){var t,n;return(null==(t=this.start)?void 0:t.dayIndex)===e.dayIndex||!!(null==(n=this.repeat)?void 0:n.passes(e))}intersectsDay(e){return this.intersectsDayRange(e,e)}intersectsRange(e){var t,n;return this.intersectsDayRange((null==(t=e.start)?void 0:t.dayIndex)??-1/0,(null==(n=e.end)?void 0:n.dayIndex)??1/0)}intersectsDayRange(e,t){return!(this.start&&this.start.dayIndex>t||this.end&&this.end.dayIndex<e)}}class OZ{constructor(){pY(this,"records",{})}render(e,t,n){var i,r,s,o;let a=null;const l=n[0].dayIndex,c=n[n.length-1].dayIndex;return t.hasRepeat?n.forEach((n=>{var i,r;if(t.startsOnDay(n)){const s=t.daySpan<1/0?t.daySpan:1;a={startDay:n.dayIndex,startTime:(null==(i=t.start)?void 0:i.time)??0,endDay:n.dayIndex+s-1,endTime:(null==(r=t.end)?void 0:r.time)??h0},this.getRangeRecords(e).push(a)}})):t.intersectsDayRange(l,c)&&(a={startDay:(null==(i=t.start)?void 0:i.dayIndex)??-1/0,startTime:(null==(r=t.start)?void 0:r.time)??-1/0,endDay:(null==(s=t.end)?void 0:s.dayIndex)??1/0,endTime:(null==(o=t.end)?void 0:o.time)??1/0},this.getRangeRecords(e).push(a)),a}getRangeRecords(e){let t=this.records[e.key];return t||(t={ranges:[],data:e},this.records[e.key]=t),t.ranges}getCell(e,t){return this.getCells(t).find((t=>t.data.key===e))}cellExists(e,t){const n=this.records[e];return null!=n&&n.ranges.some((e=>e.startDay<=t&&e.endDay>=t))}getCells(e){const t=Object.values(this.records),n=[],{dayIndex:i}=e;return t.forEach((({data:t,ranges:r})=>{r.filter((e=>e.startDay<=i&&e.endDay>=i)).forEach((r=>{const s=i===r.startDay,o=i===r.endDay,a=s?r.startTime:0,l=new Date(e.startDate.getTime()+a),c=o?r.endTime:h0,u=new Date(e.endDate.getTime()+c),d=0===a&&c===h0,h=t.order||0;n.push({...r,data:t,onStart:s,onEnd:o,startTime:a,startDate:l,endTime:c,endDate:u,allDay:d,order:h})}))})),n.sort(((e,t)=>e.order-t.order)),n}}const RZ={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};RZ.en=RZ["en-US"],RZ.es=RZ["es-ES"],RZ.no=RZ.nb,RZ.zh=RZ["zh-CN"];const LZ=Object.entries(RZ).reduce(((e,[t,{dow:n,L:i}])=>(e[t]={id:t,firstDayOfWeek:n,masks:{L:i}},e)),{}),NZ=at({componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:{maxSwipeTime:300,minHorizontalSwipeDistance:60,maxVerticalSwipeDistance:80},masks:{title:"MMMM YYYY",weekdays:"W",navMonths:"MMM",hours:"h A",input:["L","YYYY-MM-DD","YYYY/MM/DD"],inputDateTime:["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],inputDateTime24hr:["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],inputTime:["h:mm A"],inputTime24hr:["HH:mm"],dayPopover:"WWW, MMM D, YYYY",data:["L","YYYY-MM-DD","YYYY/MM/DD"],model:"iso",iso:"YYYY-MM-DDTHH:mm:ss.SSSZ"},locales:LZ,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}}),FZ=is((()=>function(e,t){var n={};return t=YX(t),HX(e,(function(e,i,r){$X(n,i,t(e,i,r))})),n}(NZ.locales,(e=>(e.masks=xJ(e.masks,NZ.masks),e))))),VZ=e=>"undefined"!=typeof window&&SJ(window.__vcalendar__,e)?XK(window.__vcalendar__,e):XK(NZ,e),jZ=(e,t)=>(e.config.globalProperties.$VCalendar=NZ,Object.assign(NZ,xJ(t,NZ)));class BZ{constructor(e=void 0,t){pY(this,"id"),pY(this,"daysInWeek"),pY(this,"firstDayOfWeek"),pY(this,"masks"),pY(this,"timezone"),pY(this,"hourLabels"),pY(this,"dayNames"),pY(this,"dayNamesShort"),pY(this,"dayNamesShorter"),pY(this,"dayNamesNarrow"),pY(this,"monthNames"),pY(this,"monthNamesShort"),pY(this,"relativeTimeNames"),pY(this,"amPm",["am","pm"]),pY(this,"monthCache"),pY(this,"pageCache");const{id:n,firstDayOfWeek:i,masks:r,monthCacheSize:s,pageCacheSize:o}=function(e,t){const n=(new Intl.DateTimeFormat).resolvedOptions().locale;let i;Hq(e)?i=e:SJ(e,"id")&&(i=e.id),i=(i||n).toLowerCase();const r=Object.keys(t),s=e=>r.find((t=>t.toLowerCase()===e));i=s(i)||s(i.substring(0,2))||n;const o={...t["en-IE"],...t[i],id:i,monthCacheSize:12,pageCacheSize:5};return CJ(e)?xJ(e,o):o}(e,FZ.value);var a,l;this.monthCache=new MZ(s,M0,P0),this.pageCache=new MZ(o,IZ,AZ),this.id=n,this.daysInWeek=a0,this.firstDayOfWeek=(a=i,l=a0,Math.min(Math.max(a,1),l)),this.masks=r,this.timezone=t||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=O0("long",this.id),this.dayNamesShort=O0("short",this.id),this.dayNamesShorter=this.dayNamesShort.map((e=>e.substring(0,2))),this.dayNamesNarrow=O0("narrow",this.id),this.monthNames=L0("long",this.id),this.monthNamesShort=L0("short",this.id),this.relativeTimeNames=function(e){const t=new Intl.RelativeTimeFormat(e);return["second","minute","hour","day","week","month","quarter","year"].reduce(((e,n)=>{const i=t.formatToParts(100,n);return e[n]=i[1].unit,e}),{})}(this.id)}formatDate(e,t){return function(e,t,n){if(null==e)return"";let i=E0(t,n)[0];/Z$/.test(i)&&(n.timezone="utc");const r=[];i=i.replace(v0,((e,t)=>(r.push(t),"??")));const s=n.getDateParts(e);return i=i.replace(m0,(e=>e in y0?y0[e](s,n):e.slice(1,e.length-1))),i.replace(/\?\?/g,(()=>r.shift()))}(e,t,this)}parseDate(e,t){return V0(e,t,this)}toDate(e,t={}){const n=new Date(NaN);let i=n;const{fillDate:r,mask:s,patch:o,rules:a}=t;if(LX(e)?(t.type="number",i=new Date(+e)):Hq(e)?(t.type="string",i=e?V0(e,s||"iso",this):n):EJ(e)?(t.type="date",i=new Date(e.getTime())):C0(e)&&(t.type="object",i=this.getDateFromParts(e)),i&&(o||a)){let e=this.getDateParts(i);if(o&&null!=r){const t=this.getDateParts(this.toDate(r));e=this.getDateParts(this.toDate({...t,...FJ(e,o0[o])}))}a&&(e=function(e,t){const n={...e};return Object.entries(t).forEach((([t,i])=>{const r=g0[t],s=e[t];n[t]=function(e,t,n,i){const r=F0(e,t,i).reduce(((e,t)=>{if(t.disabled)return e;if(isNaN(e))return t.value;const i=Math.abs(e-n);return Math.abs(t.value-n)<i?t.value:e}),NaN);return isNaN(r)?n:r}(e,r,s,i)})),n}(e,a)),i=this.getDateFromParts(e)}return i||n}toDateOrNull(e,t={}){const n=this.toDate(e,t);return isNaN(n.getTime())?null:n}fromDate(e,{type:t,mask:n}={}){switch(t){case"number":return e?e.getTime():NaN;case"string":return e?this.formatDate(e,n||"iso"):"";case"object":return e?this.getDateParts(e):null;default:return e?new Date(e):null}}range(e){return PZ.from(e,this)}ranges(e){return PZ.fromMany(e,this)}getDateParts(e){return function(e,t){let n=new Date(e.getTime());t.timezone&&(n=new Date(e.toLocaleString("en-US",{timeZone:t.timezone})),n.setMilliseconds(e.getMilliseconds()));const i=n.getMilliseconds(),r=n.getSeconds(),s=n.getMinutes(),o=n.getHours(),a=i+r*c0+s*u0+o*d0,l=n.getMonth()+1,c=n.getFullYear(),u=t.getMonthParts(l,c),d=n.getDate(),h=u.numDays-d+1,p=n.getDay()+1,f=Math.floor((d-1)/7+1),g=Math.floor((u.numDays-d)/7+1),m=Math.ceil((d+Math.abs(u.firstWeekday-u.firstDayOfWeek))/7),v=u.numWeeks-m+1,y=u.weeknumbers[m],b=T0(c,l,d);return{milliseconds:i,seconds:r,minutes:s,hours:o,time:a,day:d,dayFromEnd:h,weekday:p,weekdayOrdinal:f,weekdayOrdinalFromEnd:g,week:m,weekFromEnd:v,weeknumber:y,month:l,year:c,date:n,dateTime:n.getTime(),dayIndex:b,timezoneOffset:0,isValid:!0}}(e,this)}getDateFromParts(e){return A0(e,this.timezone)}getDateFromParams(e,t,n,i,r,s,o){return this.getDateFromParts({year:e,month:t,day:n,hours:i,minutes:r,seconds:s,milliseconds:o})}getPage(e){return function(e,t){const{day:n,week:i,view:r,trimWeeks:s}=e,o={...t,...e,title:"",viewDays:[],viewWeeks:[]};switch(r){case"daily":{let e=o.days.find((e=>e.inMonth));n?e=o.days.find((e=>e.day===n&&e.inMonth))||e:i&&(e=o.days.find((e=>e.week===i&&e.inMonth)));const t=o.weeks[e.week-1];o.viewWeeks=[t],o.viewDays=[e],o.week=e.week,o.weekTitle=t.title,o.day=e.day,o.dayTitle=e.ariaLabel,o.title=o.dayTitle;break}case"weekly":{o.week=i||1;const e=o.weeks[o.week-1];o.viewWeeks=[e],o.viewDays=e.days,o.weekTitle=e.title,o.title=o.weekTitle;break}default:o.title=o.monthTitle,o.viewWeeks=o.weeks.slice(0,s?o.monthComps.numWeeks:void 0),o.viewDays=o.days}return o}(e,this.pageCache.getOrSet(e,this))}getMonthParts(e,t){const{firstDayOfWeek:n}=this;return this.monthCache.getOrSet(e,t,n)}getThisMonthParts(){const e=new Date;return this.getMonthParts(e.getMonth()+1,e.getFullYear())}getPrevMonthParts(e,t){return 1===e?this.getMonthParts(12,t-1):this.getMonthParts(e-1,t)}getNextMonthParts(e,t){return 12===e?this.getMonthParts(1,t+1):this.getMonthParts(e+1,t)}getHourLabels(){return function(){const e=[];for(let t=0;t<=24;t++)e.push(new Date(2e3,0,1,t));return e}().map((e=>this.formatDate(e,this.masks.hours)))}getDayId(e){return this.formatDate(e,"YYYY-MM-DD")}}var UZ=(e=>(e.Any="any",e.All="all",e))(UZ||{}),zZ=(e=>(e.Days="days",e.Weeks="weeks",e.Months="months",e.Years="years",e))(zZ||{}),$Z=(e=>(e.Days="days",e.Weekdays="weekdays",e.Weeks="weeks",e.Months="months",e.Years="years",e))($Z||{}),HZ=(e=>(e.OrdinalWeekdays="ordinalWeekdays",e))(HZ||{});class YZ{constructor(e,t,n){pY(this,"validated",!0),this.type=e,this.interval=t,this.from=n,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(e){if(!this.validated)return!0;const{date:t}=e;switch(this.type){case"days":return D0(this.from.date,t)%this.interval===0;case"weeks":return 0===(n=this.from.date,i=t,Math.ceil(D0(S0(n),S0(i))/7)%this.interval);case"months":return function(e,t){return 12*I0(e,t)+(t.getMonth()-e.getMonth())}(this.from.date,t)%this.interval===0;case"years":return I0(this.from.date,t)%this.interval===0;default:return!1}var n,i}}class WZ{constructor(e,t,n,i){pY(this,"components",[]),this.type=e,this.validator=n,this.getter=i,this.components=this.normalizeComponents(t)}static create(e,t){switch(e){case"days":return new qZ(t);case"weekdays":return new GZ(t);case"weeks":return new KZ(t);case"months":return new XZ(t);case"years":return new QZ(t)}}normalizeComponents(e){if(this.validator(e))return[e];if(!IJ(e))return[];const t=[];return e.forEach((e=>{this.validator(e)?t.push(e):console.error(`Component value ${e} in invalid for "${this.type}" rule. This rule will be skipped.`)})),t}passes(e){return this.getter(e).some((e=>this.components.includes(e)))}}class qZ extends WZ{constructor(e){super("days",e,t0,(({day:e,dayFromEnd:t})=>[e,-t]))}}class GZ extends WZ{constructor(e){super("weekdays",e,n0,(({weekday:e})=>[e]))}}class KZ extends WZ{constructor(e){super("weeks",e,i0,(({week:e,weekFromEnd:t})=>[e,-t]))}}class XZ extends WZ{constructor(e){super("months",e,r0,(({month:e})=>[e]))}}class QZ extends WZ{constructor(e){super("years",e,LX,(({year:e})=>[e]))}}class JZ{constructor(e,t){pY(this,"components"),this.type=e,this.components=this.normalizeComponents(t)}normalizeArrayConfig(e){const t=[];return e.forEach(((n,i)=>{if(LX(n)){if(0===i)return;if(!s0(e[0]))return void console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);if(!n0(n))return void console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);t.push([e[0],n])}else IJ(n)&&t.push(...this.normalizeArrayConfig(n))})),t}normalizeComponents(e){const t=[];return e.forEach(((n,i)=>{if(LX(n)){if(0===i)return;if(!s0(e[0]))return void console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);if(!n0(n))return void console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);t.push([e[0],n])}else IJ(n)&&t.push(...this.normalizeArrayConfig(n))})),t}passes(e){const{weekday:t,weekdayOrdinal:n,weekdayOrdinalFromEnd:i}=e;return this.components.some((([e,r])=>(e===n||e===-i)&&t===r))}}class ZZ{constructor(e){pY(this,"type","function"),pY(this,"validated",!0),this.fn=e,HY(e)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(e){return!this.validated||this.fn(e)}}class e0{constructor(e,t={},n){pY(this,"validated",!0),pY(this,"config"),pY(this,"type",UZ.Any),pY(this,"from"),pY(this,"until"),pY(this,"rules",[]),pY(this,"locale",new BZ),this.parent=n,t.locale&&(this.locale=t.locale),this.config=e,HY(e)?(this.type=UZ.All,this.rules=[new ZZ(e)]):IJ(e)?(this.type=UZ.Any,this.rules=e.map((e=>new e0(e,t,this)))):CJ(e)?(this.type=UZ.All,this.from=e.from?this.locale.getDateParts(e.from):null==n?void 0:n.from,this.until=e.until?this.locale.getDateParts(e.until):null==n?void 0:n.until,this.rules=this.getObjectRules(e)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(e){const t=[];if(e.every&&(Hq(e.every)&&(e.every=[1,`${e.every}s`]),IJ(e.every))){const[n=1,i=zZ.Days]=e.every;t.push(new YZ(i,n,this.from))}return Object.values($Z).forEach((n=>{n in e&&t.push(WZ.create(n,e[n]))})),Object.values(HZ).forEach((n=>{n in e&&t.push(new JZ(n,e[n]))})),null!=e.on&&(IJ(e.on)||(e.on=[e.on]),t.push(new e0(e.on,{locale:this.locale},this.parent))),t}passes(e){return!this.validated||!(this.from&&e.dayIndex<=this.from.dayIndex)&&!(this.until&&e.dayIndex>=this.until.dayIndex)&&(this.type===UZ.Any?this.rules.some((t=>t.passes(e))):this.rules.every((t=>t.passes(e))))}}function t0(e){return!!LX(e)&&e>=1&&e<=31}function n0(e){return!!LX(e)&&e>=1&&e<=7}function i0(e){return!!LX(e)&&(e>=-6&&e<=-1||e>=1&&e<=6)}function r0(e){return!!LX(e)&&e>=1&&e<=12}function s0(e){return!!LX(e)&&!(e<-5||e>5||0===e)}const o0={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},a0=7,l0=6,c0=1e3,u0=60*c0,d0=60*u0,h0=24*d0,p0=[31,28,31,30,31,30,31,31,30,31,30,31],f0=["L","iso"],g0={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},m0=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,v0=/\[([^]*?)\]/gm,y0={D:e=>e.day,DD:e=>DJ(e.day,2),d:e=>e.weekday-1,dd:e=>DJ(e.weekday-1,2),W:(e,t)=>t.dayNamesNarrow[e.weekday-1],WW:(e,t)=>t.dayNamesShorter[e.weekday-1],WWW:(e,t)=>t.dayNamesShort[e.weekday-1],WWWW:(e,t)=>t.dayNames[e.weekday-1],M:e=>e.month,MM:e=>DJ(e.month,2),MMM:(e,t)=>t.monthNamesShort[e.month-1],MMMM:(e,t)=>t.monthNames[e.month-1],YY:e=>String(e.year).substr(2),YYYY:e=>DJ(e.year,4),h:e=>e.hours%12||12,hh:e=>DJ(e.hours%12||12,2),H:e=>e.hours,HH:e=>DJ(e.hours,2),m:e=>e.minutes,mm:e=>DJ(e.minutes,2),s:e=>e.seconds,ss:e=>DJ(e.seconds,2),S:e=>Math.round(e.milliseconds/100),SS:e=>DJ(Math.round(e.milliseconds/10),2),SSS:e=>DJ(e.milliseconds,3),a:(e,t)=>e.hours<12?t.amPm[0]:t.amPm[1],A:(e,t)=>e.hours<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase(),Z:()=>"Z",ZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${DJ(Math.floor(Math.abs(t)/60),2)}`},ZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${DJ(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}`},ZZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${DJ(Math.floor(Math.abs(t)/60),2)}:${DJ(Math.abs(t)%60,2)}`}},b0=/\d\d?/,w0=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,x0=()=>{},_0=e=>(t,n,i)=>{const r=i[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~r&&(t.month=r)},k0={D:[b0,(e,t)=>{e.day=t}],Do:[new RegExp(b0.source+w0.source),(e,t)=>{e.day=parseInt(t,10)}],d:[b0,x0],W:[w0,x0],M:[b0,(e,t)=>{e.month=t-1}],MMM:[w0,_0("monthNamesShort")],MMMM:[w0,_0("monthNames")],YY:[b0,(e,t)=>{const n=+(new Date).getFullYear().toString().substr(0,2);e.year=+`${t>68?n-1:n}${t}`}],YYYY:[/\d{4}/,(e,t)=>{e.year=t}],S:[/\d/,(e,t)=>{e.milliseconds=100*t}],SS:[/\d{2}/,(e,t)=>{e.milliseconds=10*t}],SSS:[/\d{3}/,(e,t)=>{e.milliseconds=t}],h:[b0,(e,t)=>{e.hours=t}],m:[b0,(e,t)=>{e.minutes=t}],s:[b0,(e,t)=>{e.seconds=t}],a:[w0,(e,t,n)=>{const i=t.toLowerCase();i===n.amPm[0]?e.isPm=!1:i===n.amPm[1]&&(e.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(e,t)=>{"Z"===t&&(t="+00:00");const n=`${t}`.match(/([+-]|\d\d)/gi);if(n){const t=60*+n[1]+parseInt(n[2],10);e.timezoneOffset="+"===n[0]?t:-t}}]};function E0(e,t){return(AJ(e)&&e||[Hq(e)&&e||"YYYY-MM-DD"]).map((e=>f0.reduce(((e,n)=>e.replace(n,t.masks[n]||"")),e)))}function C0(e){return CJ(e)&&"year"in e&&"month"in e&&"day"in e}function S0(e,t=1){const n=e.getDay()+1;return bZ(e,n>=t?t-n:-(7-(t-n)))}function T0(e,t,n){const i=Date.UTC(e,t-1,n);return D0(new Date(0),new Date(i))}function D0(e,t){return Math.round((t.getTime()-e.getTime())/h0)}function I0(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}function A0(e,t=""){const n=new Date,{year:i=n.getFullYear(),month:r=n.getMonth()+1,day:s=n.getDate(),hours:o=0,minutes:a=0,seconds:l=0,milliseconds:c=0}=e;return t?eZ(`${DJ(i,4)}-${DJ(r,2)}-${DJ(s,2)}T${DJ(o,2)}:${DJ(a,2)}:${DJ(l,2)}.${DJ(c,3)}`,{timeZone:t}):new Date(i,r-1,s,o,a,l,c)}function M0(e,t,n){return`${t}-${e}-${n}`}function P0(e,t,n){const i=t%4==0&&t%100!=0||t%400==0,r=new Date(t,e-1,1),s=r.getDay()+1,o=2===e&&i?29:p0[e-1],a=n-1,l=function(e,t){return lZ(1,arguments),function(e,t,n){lZ(2,arguments);var i=fZ(e,n),r=fZ(t,n),s=i.getTime()-gZ(i),o=r.getTime()-gZ(r);return Math.round((s-o)/6048e5)}(function(e){lZ(1,arguments);var t=uZ(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}(e),function(e){lZ(1,arguments);var t=uZ(e);return t.setDate(1),t.setHours(0,0,0,0),t}(e),t)+1}(r,{weekStartsOn:a}),c=[],u=[];for(let e=0;e<l;e++){const t=bZ(r,7*e);c.push(mZ(t,{weekStartsOn:a})),u.push(yZ(t))}return{firstDayOfWeek:n,firstDayOfMonth:r,inLeapYear:i,firstWeekday:s,numDays:o,numWeeks:l,month:e,year:t,weeknumbers:c,isoWeeknumbers:u}}function O0(e,t=void 0){const n=new Intl.DateTimeFormat(t,{weekday:e});return function(){const e=[];for(let t=0;t<a0;t++)e.push(A0({year:2020,month:1,day:5+t,hours:12}));return e}().map((e=>n.format(e)))}function R0(){const e=[];for(let t=0;t<12;t++)e.push(new Date(2e3,t,15));return e}function L0(e,t=void 0){const n=new Intl.DateTimeFormat(t,{month:e,timeZone:"UTC"});return R0().map((e=>n.format(e)))}function N0(e,t,n){return LX(t)?t===e:IJ(t)?t.includes(e):HY(t)?t(e,n):!(null!=t.min&&t.min>e||null!=t.max&&t.max<e||null!=t.interval&&e%t.interval!==0)}function F0(e,t,n){const i=[],[r,s,o]=t;for(let t=r;t<=s;t++)(null==n||N0(t,n,e))&&i.push({value:t,label:DJ(t,o)});return i}function V0(e,t,n){return E0(t,n).map((t=>{if("string"!=typeof t)throw new Error("Invalid mask");let i=e;if(i.length>1e3)return!1;let r=!0;const s={};if(t.replace(m0,(e=>{if(k0[e]){const t=k0[e],o=i.search(t[0]);~o?i.replace(t[0],(e=>(t[1](s,e,n),i=i.substr(o+e.length),e))):r=!1}return k0[e]?"":e.slice(1,e.length-1)})),!r)return!1;const o=new Date;let a;return null!=s.hours&&(!0===s.isPm&&12!==+s.hours?s.hours=+s.hours+12:!1===s.isPm&&12===+s.hours&&(s.hours=0)),null!=s.timezoneOffset?(s.minutes=+(s.minutes||0)-+s.timezoneOffset,a=new Date(Date.UTC(s.year||o.getFullYear(),s.month||0,s.day||1,s.hours||0,s.minutes||0,s.seconds||0,s.milliseconds||0))):a=n.getDateFromParts({year:s.year||o.getFullYear(),month:(s.month||0)+1,day:s.day||1,hours:s.hours||0,minutes:s.minutes||0,seconds:s.seconds||0,milliseconds:s.milliseconds||0}),a})).find((e=>e))||new Date(e)}k0.DD=k0.D,k0.dd=k0.d,k0.WWWW=k0.WWW=k0.WW=k0.W,k0.MM=k0.M,k0.mm=k0.m,k0.hh=k0.H=k0.HH=k0.h,k0.ss=k0.s,k0.A=k0.a,k0.ZZZZ=k0.ZZZ=k0.ZZ=k0.Z;let j0=0;class B0{constructor(e,t,n){pY(this,"key",""),pY(this,"hashcode",""),pY(this,"highlight",null),pY(this,"content",null),pY(this,"dot",null),pY(this,"bar",null),pY(this,"event",null),pY(this,"popover",null),pY(this,"customData",null),pY(this,"ranges"),pY(this,"hasRanges",!1),pY(this,"order",0),pY(this,"pinPage",!1),pY(this,"maxRepeatSpan",0),pY(this,"locale");const{dates:i}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},e);this.key||(this.key=++j0),this.locale=n,t.normalizeGlyphs(this),this.ranges=n.ranges(i??[]),this.hasRanges=!!AJ(this.ranges),this.maxRepeatSpan=this.ranges.filter((e=>e.hasRepeat)).map((e=>e.daySpan)).reduce(((e,t)=>Math.max(e,t)),0)}intersectsRange({start:e,end:t}){if(null==e||null==t)return!1;const n=this.ranges.filter((e=>!e.hasRepeat));for(const i of n)if(i.intersectsDayRange(e.dayIndex,t.dayIndex))return!0;const i=this.ranges.filter((e=>e.hasRepeat));if(!i.length)return!1;let r=e;for(this.maxRepeatSpan>1&&(r=this.locale.getDateParts(bZ(r.date,-this.maxRepeatSpan)));r.dayIndex<=t.dayIndex;){for(const e of i)if(e.startsOnDay(r))return!0;r=this.locale.getDateParts(bZ(r.date,1))}return!1}}function U0(e){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:e}))}function z0(e){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:e}))}function $0(e){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:e}))}function H0(e){const{visibility:t}=e,n="click"===t,i="hover"===t,r="hover-focus"===t,s="focus"===t;e.autoHide=!n;let o=!1,a=!1;const l=t=>{n&&($0({...e,target:e.target||t.currentTarget}),t.stopPropagation())},c=t=>{o||(o=!0,(i||r)&&U0({...e,target:e.target||t.currentTarget}))},u=()=>{o&&(o=!1,(i||r&&!a)&&z0(e))},d=t=>{a||(a=!0,(s||r)&&U0({...e,target:e.target||t.currentTarget}))},h=t=>{a&&!RJ(t.currentTarget,t.relatedTarget)&&(a=!1,(s||r&&!o)&&z0(e))},p={};switch(e.visibility){case"click":p.click=l;break;case"hover":p.mousemove=c,p.mouseleave=u;break;case"focus":p.focusin=d,p.focusout=h;break;case"hover-focus":p.mousemove=c,p.mouseleave=u,p.focusin=d,p.focusout=h}return p}const Y0=e=>{const t=MJ(e);if(null==t)return;const n=t.popoverHandlers;n&&n.length&&(n.forEach((e=>e())),delete t.popoverHandlers)},W0=(e,t)=>{const n=MJ(e);if(null==n)return;const i=[],r=H0(t);Object.entries(r).forEach((([e,t])=>{i.push(OJ(n,e,t))})),n.popoverHandlers=i},q0={mounted(e,t){const{value:n}=t;n&&W0(e,n)},updated(e,t){const{oldValue:n,value:i}=t,r=null==n?void 0:n.visibility,s=null==i?void 0:i.visibility;r!==s&&(r&&(Y0(e),s||z0(n)),s&&W0(e,i))},unmounted(e){Y0(e)}},G0={};function K0(){return"undefined"!=typeof window}function X0(e){const t=bt(!1),n=is((()=>t.value?"dark":"light"));let i,r;function s(e){t.value=e.matches}function o(){const{selector:n=":root",darkClass:i="dark"}=e.value,r=document.querySelector(n);t.value=r.classList.contains(i)}function a(){c();const n=typeof e.value;"string"===n&&"system"===e.value.toLowerCase()?K0()&&"matchMedia"in window&&(i=window.matchMedia("(prefers-color-scheme: dark)"),i.addEventListener("change",s),t.value=i.matches):"object"===n?function(e){const{selector:n=":root",darkClass:i="dark"}=e;if(K0()&&n&&i){const e=document.querySelector(n);e&&(r=new MutationObserver(o),r.observe(e,{attributes:!0,attributeFilter:["class"]}),t.value=e.classList.contains(i))}}(e.value):t.value=!!e.value}const l=er((()=>e.value),(()=>a()),{immediate:!0});function c(){i&&(i.removeEventListener("change",s),i=void 0),r&&(r.disconnect(),r=void 0)}function u(){c(),l()}return qn((()=>u())),{isDark:t,displayMode:n,cleanup:u}}const Q0=["base","start","end","startEnd"],J0=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],Z0={base:{},start:{},end:{}};function e1(e,t,n=Z0){let i=e,r={};!0===t||Hq(t)?(i=Hq(t)?t:i,r={...n}):CJ(t)&&(r=TJ(t,Q0)?{...t}:{base:{...t},start:{...t},end:{...t}});const s=xJ(r,{start:r.startEnd,end:r.startEnd},n);return Object.entries(s).forEach((([e,t])=>{let n=i;!0===t||Hq(t)?(n=Hq(t)?t:n,s[e]={color:n}):CJ(t)&&(TJ(t,J0)?s[e]={...t}:s[e]={}),xJ(s[e],{color:n})})),s}class t1{constructor(){pY(this,"type","highlight")}normalizeConfig(e,t){return e1(e,t,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(e){e.highlights=[],e.content||(e.content=[])}render({data:e,onStart:t,onEnd:n},i){const{key:r,highlight:s}=e;if(!s)return;const{highlights:o}=i,{base:a,start:l,end:c}=s;t&&n?o.push({...l,key:r,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]}):t?(o.push({...a,key:`${r}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${a.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${a.fillMode}`,a.class]}),o.push({...l,key:r,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})):n?(o.push({...a,key:`${r}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${a.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${a.fillMode}`,a.class]}),o.push({...c,key:r,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):o.push({...a,key:`${r}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${a.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${a.fillMode}`,a.class],contentClass:[`vc-attr vc-highlight-content-${a.fillMode} vc-${a.color}`,a.contentClass]})}}class n1{constructor(e,t){pY(this,"type",""),pY(this,"collectionType",""),this.type=e,this.collectionType=t}normalizeConfig(e,t){return e1(e,t)}prepareRender(e){e[this.collectionType]=[]}render({data:e,onStart:t,onEnd:n},i){const{key:r}=e,s=e[this.type];if(!r||!s)return;const o=i[this.collectionType],{base:a,start:l,end:c}=s;t?o.push({...l,key:r,class:[`vc-${this.type} vc-${this.type}-start vc-${l.color} vc-attr`,l.class]}):n?o.push({...c,key:r,class:[`vc-${this.type} vc-${this.type}-end vc-${c.color} vc-attr`,c.class]}):o.push({...a,key:r,class:[`vc-${this.type} vc-${this.type}-base vc-${a.color} vc-attr`,a.class]})}}class i1 extends n1{constructor(){super("content","content")}normalizeConfig(e,t){return e1("base",t)}}class r1 extends n1{constructor(){super("dot","dots")}}class s1 extends n1{constructor(){super("bar","bars")}}class o1{constructor(e){pY(this,"color"),pY(this,"renderers",[new i1,new t1,new r1,new s1]),this.color=e}normalizeGlyphs(e){this.renderers.forEach((t=>{const n=t.type;null!=e[n]&&(e[n]=t.normalizeConfig(this.color,e[n]))}))}prepareRender(e={}){return this.renderers.forEach((t=>{t.prepareRender(e)})),e}render(e,t){this.renderers.forEach((n=>{n.render(e,t)}))}}const a1=Symbol("__vc_base_context__"),l1={color:{type:String,default:()=>VZ("color")},isDark:{type:[Boolean,String,Object],default:()=>VZ("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function c1(e){const t=is((()=>e.color??"")),n=is((()=>e.isDark??!1)),{displayMode:i}=X0(n),r=is((()=>new o1(t.value))),s=is((()=>{if(e.locale instanceof BZ)return e.locale;const t=CJ(e.locale)?e.locale:{id:e.locale,firstDayOfWeek:e.firstDayOfWeek,masks:e.masks};return new BZ(t,e.timezone)})),o=is((()=>s.value.masks)),a=is((()=>e.minDate)),l=is((()=>e.maxDate)),c=is((()=>{const t=e.disabledDates?[...e.disabledDates]:[];return null!=a.value&&t.push({start:null,end:bZ(s.value.toDate(a.value),-1)}),null!=l.value&&t.push({start:bZ(s.value.toDate(l.value),1),end:null}),s.value.ranges(t)})),u=is((()=>new B0({key:"disabled",dates:c.value,order:100},r.value,s.value))),d={color:t,isDark:n,displayMode:i,theme:r,locale:s,masks:o,minDate:a,maxDate:l,disabledDates:c,disabledAttribute:u};return Di(a1,d),d}function u1(e){return`__vc_slot_${e}__`}function d1(e,t={}){Object.keys(e).forEach((n=>{Di(u1(t[n]??n),e[n])}))}function h1(e){return Ii(u1(e),null)}const p1={...l1,view:{type:String,default:"monthly",validator:e=>["daily","weekly","monthly"].includes(e)},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>VZ("titlePosition")},navVisibility:{type:String,default:()=>VZ("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},f1=Symbol("__vc_calendar_context__");function g1(e,{slots:t,emit:n}){const i=bt(null),r=bt(null),s=bt((new Date).getDate()),o=bt(!1),a=bt(Symbol()),l=bt(Symbol()),c=bt(e.view),u=bt([]),d=bt("");let h=null,p=null;d1(t);const{theme:f,color:g,displayMode:m,locale:v,masks:y,minDate:b,maxDate:w,disabledAttribute:x,disabledDates:_}=function(e){return Ii(a1,(()=>c1(e)),!0)}(e),k=is((()=>e.rows*e.columns)),E=is((()=>e.step||k.value)),C=is((()=>_J(u.value)??null)),S=is((()=>kJ(u.value)??null)),T=is((()=>e.minPage||(b.value?N(b.value):null))),D=is((()=>e.maxPage||(w.value?N(w.value):null))),I=is((()=>e.navVisibility)),A=is((()=>!!e.showWeeknumbers)),M=is((()=>!!e.showIsoWeeknumbers)),P=is((()=>"monthly"===c.value)),O=is((()=>"weekly"===c.value)),R=is((()=>"daily"===c.value)),L=(e,t,n=c.value)=>CZ(e,t,n,v.value),N=e=>EZ(e,c.value,v.value),F=e=>{e.isFocusable=e.inMonth&&e.day===s.value},V=(e,t)=>{for(const n of e)for(const e of n.days)if(!1===t(e))return},j=is((()=>u.value.reduce(((e,t)=>(e.push(...t.viewDays),e)),[]))),B=is((()=>{const t=[];return(e.attributes||[]).forEach(((e,n)=>{e&&e.dates&&t.push(new B0({...e,order:e.order||0},f.value,v.value))})),x.value&&t.push(x.value),t})),U=is((()=>AJ(B.value))),z=is((()=>{const e=new OZ;return B.value.forEach((t=>{t.ranges.forEach((n=>{e.render(t,n,j.value)}))})),e})),$=is((()=>j.value.reduce(((e,t)=>(e[t.dayIndex]={day:t,cells:[]},e[t.dayIndex].cells.push(...z.value.getCells(t)),e)),{}))),H=(t,n)=>{const i=e.showWeeknumbers||e.showIsoWeeknumbers;return null==i?"":!0===(r=i)||!1===r||PX(r)&&"[object Boolean]"==MX(r)?i?"left":"":i.startsWith("right")?n>1?"right":i:t>1?"left":i;var r},Y=(e,t={})=>{const{view:n=c.value,position:i=1,force:r}=t,s=i>0?1-i:-(k.value+i);let o=L(e,s,n),a=L(o,k.value-1,n);return r||(TZ(o,T.value)?o=T.value:DZ(a,D.value)&&(o=L(D.value,1-k.value)),a=L(o,k.value-1)),{fromPage:o,toPage:a}},W=(t={})=>new Promise(((n,i)=>{const{position:r=1,force:s=!1,transition:o}=t,a=SZ(t.page)?t.page:(()=>{if(SZ(C.value))return C.value;const e=(()=>{var e,t;if(!U.value)return null;const n=B.value.find((e=>e.pinPage))||B.value[0];if(!n||!n.hasRanges)return null;const[i]=n.ranges,r=(null==(e=i.start)?void 0:e.date)||(null==(t=i.end)?void 0:t.date);return r?N(r):null})();return SZ(e)?e:N(new Date)})(),{fromPage:l}=Y(a,{position:r,force:s}),p=[];for(let t=0;t<k.value;t++){const n=L(l,t),i=t+1,r=Math.ceil(i/e.columns),s=e.rows-r+1,o=i%e.columns||e.columns,a=e.columns-o+1,u=H(o,a);p.push(v.value.getPage({...n,view:c.value,titlePosition:e.titlePosition,trimWeeks:e.trimWeeks,position:i,row:r,rowFromEnd:s,column:o,columnFromEnd:a,showWeeknumbers:A.value,showIsoWeeknumbers:M.value,weeknumberPosition:u}))}d.value=((e,t,n="")=>{if("none"===n||"fade"===n)return n;if((null==e?void 0:e.view)!==(null==t?void 0:t.view))return"fade";const i=DZ(t,e),r=TZ(t,e);return i||r?"slide-v"===n?r?"slide-down":"slide-up":r?"slide-right":"slide-left":"fade"})(u.value[0],p[0],o),u.value=p,d.value&&"none"!==d.value?h={resolve:n,reject:i}:n(!0)})),q=e=>{const t=C.value??N(new Date);return L(t,e)},G=(e,t={})=>{const n=SZ(e)?e:N(e);Object.assign(t,Y(n,{...t,force:!0}));const i=function(e,t,n,i){if(!SZ(e)||!SZ(t))return[];const r=[];for(;!DZ(e,t);)r.push(e),e=CZ(e,1,n,i);return r}(t.fromPage,t.toPage,c.value,v.value).map((e=>function(e,t,n){return!!e&&!TZ(e,t)&&!DZ(e,n)}(e,T.value,D.value)));return i.some((e=>e))},K=(e,t={})=>G(q(e),t),X=is((()=>K(-E.value))),Q=is((()=>K(E.value))),J=async(e,t={})=>{return!(!t.force&&!G(e,t)||(t.fromPage&&(i=t.fromPage,r=C.value,!i&&r||i&&!r||(i||r)&&(i.year!==r.year||i.month!==r.month||i.week!==r.week||i.day!==r.day))&&(z0({id:a.value,hideDelay:0}),t.view&&(((e,t=10)=>{G0["view"]=Date.now()+t})(0,10),c.value=t.view),await W({...t,page:t.fromPage,position:1,force:!0}),n("did-move",u.value)),0));var i,r},Z=(e,t={})=>J(q(e),t),ee=()=>Z(-E.value),te=()=>Z(E.value),ne=e=>{const t=P.value?".in-month":"",n=`.id-${v.value.getDayId(e)}${t}`,r=`${n}.vc-focusable, ${n} .vc-focusable`,s=i.value;if(s){const e=s.querySelector(r);if(e)return e.focus(),!0}return!1},ie=async(e,t={})=>!!ne(e)||(await J(e,t),ne(e)),re=(e,t)=>{n("daykeydown",e,t);const i=e.noonDate;let r=null;switch(t.key){case"ArrowLeft":r=bZ(i,-1);break;case"ArrowRight":r=bZ(i,1);break;case"ArrowUp":r=bZ(i,-7);break;case"ArrowDown":r=bZ(i,7);break;case"Home":r=bZ(i,1-e.weekdayPosition);break;case"End":r=bZ(i,e.weekdayPositionFromEnd);break;case"PageUp":r=t.altKey?xZ(i,-1):wZ(i,-1);break;case"PageDown":r=t.altKey?xZ(i,1):wZ(i,1)}r&&(t.preventDefault(),ie(r).catch())};W({page:e.initialPage,position:e.initialPagePosition}),$n((()=>{!e.disablePageSwipe&&i.value&&(p=((e,t,{maxSwipeTime:n,minHorizontalSwipeDistance:i,maxVerticalSwipeDistance:r})=>{if(!e||!e.addEventListener||!HY(t))return null;let s=0,o=0,a=null,l=!1;function c(e){const t=e.changedTouches[0];s=t.screenX,o=t.screenY,a=(new Date).getTime(),l=!0}function u(e){if(!l||!a)return;l=!1;const c=e.changedTouches[0],u=c.screenX-s,d=c.screenY-o;if((new Date).getTime()-a<n&&Math.abs(u)>=i&&Math.abs(d)<=r){const e={toLeft:!1,toRight:!1};u<0?e.toLeft=!0:e.toRight=!0,t(e)}}return OJ(e,"touchstart",c,{passive:!0}),OJ(e,"touchend",u,{passive:!0}),()=>{PJ(e,"touchstart",c),PJ(e,"touchend",u)}})(i.value,(({toLeft:e=!1,toRight:t=!1})=>{e?te():t&&ee()}),VZ("touch")))})),qn((()=>{u.value=[],p&&p()})),er((()=>v.value),(()=>{W()})),er((()=>k.value),(()=>W())),er((()=>e.view),(()=>c.value=e.view)),er((()=>c.value),(()=>{(e=>{if(e in G0){const t=G0[e];if(Date.now()<t)return;delete G0[e]}W()})("view"),n("update:view",c.value)})),er((()=>s.value),(()=>{V(u.value,(e=>F(e)))})),Zi((()=>{n("update:pages",u.value),V(u.value,(e=>{(e=>{x.value&&z.value&&(e.isDisabled=z.value.cellExists(x.value.key,e.dayIndex))})(e),F(e)}))}));const se={emit:n,containerRef:i,focusedDay:r,inTransition:o,navPopoverId:a,dayPopoverId:l,view:c,pages:u,transitionName:d,theme:f,color:g,displayMode:m,locale:v,masks:y,attributes:B,disabledAttribute:x,disabledDates:_,attributeContext:z,days:j,dayCells:$,count:k,step:E,firstPage:C,lastPage:S,canMovePrev:X,canMoveNext:Q,minPage:T,maxPage:D,isMonthly:P,isWeekly:O,isDaily:R,navVisibility:I,showWeeknumbers:A,showIsoWeeknumbers:M,getDateAddress:N,canMove:G,canMoveBy:K,move:J,moveBy:Z,movePrev:ee,moveNext:te,onTransitionBeforeEnter:()=>{o.value=!0,n("transition-start")},onTransitionAfterEnter:()=>{o.value=!1,n("transition-end"),h&&(h.resolve(!0),h=null)},tryFocusDate:ne,focusDate:ie,onKeydown:e=>{const t=r.value;null!=t&&re(t,e)},onDayKeydown:re,onDayClick:(e,t)=>{s.value=e.day,n("dayclick",e,t)},onDayMouseenter:(e,t)=>{n("daymouseenter",e,t)},onDayMouseleave:(e,t)=>{n("daymouseleave",e,t)},onDayFocusin:(e,t)=>{s.value=e.day,r.value=e,e.isFocused=!0,n("dayfocusin",e,t)},onDayFocusout:(e,t)=>{r.value=null,e.isFocused=!1,n("dayfocusout",e,t)},onWeeknumberClick:(e,t)=>{n("weeknumberclick",e,t)}};return Di(f1,se),se}function m1(){const e=Ii(f1);if(e)return e;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const v1=Mn({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(e,{emit:t}){let n;const i=bt();let r=null,s=null;const o=at({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function a(e){e&&(o.direction=e.split("-")[0])}function l({placement:e,options:t}){a(e||(null==t?void 0:t.placement))}const c=is((()=>({placement:o.placement,strategy:o.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:l},...o.modifiers||[]],onFirstUpdate:l}))),u=is((()=>{const e="left"===o.direction||"right"===o.direction;let t="";if(o.placement){const e=o.placement.split("-");e.length>1&&(t=e[1])}return["start","top","left"].includes(t)?e?"top":"left":["end","bottom","right"].includes(t)?e?"bottom":"right":e?"middle":"center"}));function d(){s&&(s.destroy(),s=null)}function h(){Wt((()=>{const e=MJ(o.target);e&&i.value&&(s&&s.state.elements.reference!==e&&d(),s?s.update():s=dY(e,i.value,c.value))}))}function p(e,t){clearTimeout(n),e>0?n=setTimeout(t,e):t()}function f(e){return!(!e||!s)&&MJ(e)===s.state.elements.reference}async function g(t={}){o.force||(t.force&&(o.force=!0),p(t.showDelay??e.showDelay,(()=>{var e;o.isVisible&&(o.force=!1),e={...t,isVisible:!0},Object.assign(o,NJ(e,"force")),h()})))}function m(t={}){s&&(t.target&&!f(t.target)||o.force||(t.force&&(o.force=!0),p(t.hideDelay??e.hideDelay,(()=>{o.isVisible||(o.force=!1),o.isVisible=!1}))))}function v(e){if(!s)return;const t=s.state.elements.reference;if(!i.value||!t)return;const n=e.target;RJ(i.value,n)||RJ(t,n)||m({force:!0})}function y(e){"Esc"!==e.key&&"Escape"!==e.key||m()}function b({detail:t}){t.id&&t.id===e.id&&g(t)}function w({detail:t}){t.id&&t.id===e.id&&m(t)}function x({detail:t}){t.id&&t.id===e.id&&function(e={}){null!=e.target&&(o.isVisible&&f(e.target)?m(e):g(e))}(t)}function _(){null!=r&&(r.disconnect(),r=null)}return er((()=>i.value),(e=>{_(),e&&(r=new ResizeObserver((()=>{s&&s.update()})),r.observe(e))})),er((()=>o.placement),a,{immediate:!0}),$n((()=>{OJ(document,"keydown",y),OJ(document,"click",v),OJ(document,"show-popover",b),OJ(document,"hide-popover",w),OJ(document,"toggle-popover",x)})),qn((()=>{d(),_(),PJ(document,"keydown",y),PJ(document,"click",v),PJ(document,"show-popover",b),PJ(document,"hide-popover",w),PJ(document,"toggle-popover",x)})),{...St(o),popoverRef:i,alignment:u,hide:m,setupPopper:h,beforeEnter:function(e){t("before-show",e)},afterEnter:function(e){o.force=!1,t("after-show",e)},beforeLeave:function(e){t("before-hide",e)},afterLeave:function(e){o.force=!1,d(),t("after-hide",e)},onClick:function(e){e.stopPropagation()},onMouseOver:function(){o.isHovered=!0,o.isInteractive&&["hover","hover-focus"].includes(o.visibility)&&g()},onMouseLeave:function(){if(o.isHovered=!1,!s)return;const e=s.state.elements.reference;!o.autoHide||o.isFocused||e&&e===document.activeElement||!["hover","hover-focus"].includes(o.visibility)||m()},onFocusIn:function(){o.isFocused=!0,o.isInteractive&&["focus","hover-focus"].includes(o.visibility)&&g()},onFocusOut:function(e){!["focus","hover-focus"].includes(o.visibility)||e.relatedTarget&&RJ(i.value,e.relatedTarget)||(o.isFocused=!1,!o.isHovered&&o.autoHide&&m())}}}}),y1=(e,t)=>{const n=e.__vccOpts||e;for(const[e,i]of t)n[e]=i;return n},b1=y1(v1,[["render",function(e,t,n,i,r,s){return br(),kr("div",{class:H(["vc-popover-content-wrapper",{"is-interactive":e.isInteractive}]),ref:"popoverRef",onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t)),onMouseover:t[1]||(t[1]=(...t)=>e.onMouseOver&&e.onMouseOver(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t)),onFocusin:t[3]||(t[3]=(...t)=>e.onFocusIn&&e.onFocusIn(...t)),onFocusout:t[4]||(t[4]=(...t)=>e.onFocusOut&&e.onFocusOut(...t))},[Ar(vs,{name:`vc-${e.transition}`,appear:"",onBeforeEnter:e.beforeEnter,onAfterEnter:e.afterEnter,onBeforeLeave:e.beforeLeave,onAfterLeave:e.afterLeave},{default:hn((()=>[e.isVisible?(br(),kr("div",jr({key:0,tabindex:"-1",class:`vc-popover-content direction-${e.direction}`},e.$attrs),[si(e.$slots,"default",{direction:e.direction,alignment:e.alignment,data:e.data,hide:e.hide},(()=>[Or(Q(e.data),1)])),Ir("span",{class:H(["vc-popover-caret",`direction-${e.direction}`,`align-${e.alignment}`])},null,2)],16)):Lr("",!0)])),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}]]),w1={class:"vc-day-popover-row"},x1={key:0,class:"vc-day-popover-row-indicator"},_1={class:"vc-day-popover-row-label"},k1=Mn({__name:"PopoverRow",props:{attribute:null},setup(e){const t=e,n=is((()=>{const{content:e,highlight:n,dot:i,bar:r,popover:s}=t.attribute;return s&&s.hideIndicator?null:e?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${e.base.color}`}:n?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${n.base.color}`}:i?{class:`vc-dot vc-attr vc-${i.base.color}`}:r?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${r.base.color}`}:null}));return(t,i)=>(br(),kr("div",w1,[kt(n)?(br(),kr("div",x1,[Ir("span",{class:H(kt(n).class)},null,2)])):Lr("",!0),Ir("div",_1,[si(t.$slots,"default",{},(()=>[Or(Q(e.attribute.popover?e.attribute.popover.label:"No content provided"),1)]))])]))}}),E1=Mn({inheritAttrs:!1,__name:"CalendarSlot",props:{name:null},setup(e){const t=h1(e.name);return(e,n)=>kt(t)?(br(),Er(ti(kt(t)),Y(jr({key:0},e.$attrs)),null,16)):si(e.$slots,"default",{key:1})}}),C1={class:"vc-day-popover-container"},S1={key:0,class:"vc-day-popover-header"},T1=Mn({__name:"CalendarDayPopover",setup(e){const{dayPopoverId:t,displayMode:n,color:i,masks:r,locale:s}=m1();function o(e,t){return s.value.formatDate(e,t)}function a(e){return s.value.formatDate(e.date,r.value.dayPopover)}return(e,s)=>(br(),Er(b1,{id:kt(t),class:H([`vc-${kt(i)}`,`vc-${kt(n)}`])},{default:hn((({data:{day:e,attributes:t},hide:n})=>[Ar(E1,{name:"day-popover",day:e,"day-title":a(e),attributes:t,format:o,masks:kt(r),hide:n},{default:hn((()=>[Ir("div",C1,[kt(r).dayPopover?(br(),kr("div",S1,Q(a(e)),1)):Lr("",!0),(br(!0),kr(pr,null,ri(t,(e=>(br(),Er(k1,{key:e.key,attribute:e},null,8,["attribute"])))),128))])])),_:2},1032,["day","day-title","attributes","masks","hide"])])),_:1},8,["id","class"]))}}),D1={},I1={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},A1=[Ir("polyline",{points:"9 18 15 12 9 6"},null,-1)],M1=y1(D1,[["render",function(e,t){return br(),kr("svg",I1,A1)}]]),P1={},O1={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},R1=[Ir("polyline",{points:"15 18 9 12 15 6"},null,-1)],L1=y1(P1,[["render",function(e,t){return br(),kr("svg",O1,R1)}]]),N1={},F1={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},V1=[Ir("polyline",{points:"6 9 12 15 18 9"},null,-1)],j1=y1(N1,[["render",function(e,t){return br(),kr("svg",F1,V1)}]]),B1={},U1={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},z1=[Ir("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)],$1=y1(B1,[["render",function(e,t){return br(),kr("svg",U1,z1)}]]),H1=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:j1,IconChevronLeft:L1,IconChevronRight:M1,IconClock:$1},Symbol.toStringTag,{value:"Module"})),Y1=Mn({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(e){const t=e,n=is((()=>t.width||t.size)),i=is((()=>t.height||t.size)),r=is((()=>H1[`Icon${t.name}`]));return(e,t)=>(br(),Er(ti(kt(r)),{width:kt(n),height:kt(i),class:"vc-base-icon"},null,8,["width","height"]))}}),W1=["disabled"],q1={key:1,class:"vc-title-wrapper"},G1={type:"button",class:"vc-title"},K1=["disabled"],X1=Mn({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(e){const t=e,{navPopoverId:n,navVisibility:i,canMovePrev:r,movePrev:s,canMoveNext:o,moveNext:a}=m1(),l=is((()=>{switch(t.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}})),c=is((()=>{const{page:e}=t;return{id:n.value,visibility:i.value,placement:l.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:e},isInteractive:!0}})),u=is((()=>t.page.titlePosition.includes("left"))),d=is((()=>t.page.titlePosition.includes("right"))),h=is((()=>t.layout?t.layout:u.value?"tu-pn":d.value?"pn-tu":"p-tu-n;")),p=is((()=>({prev:h.value.includes("p")&&!t.hideArrows,title:h.value.includes("t")&&!t.hideTitle,next:h.value.includes("n")&&!t.hideArrows}))),f=is((()=>{const e=h.value.split("").map((e=>{switch(e){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}})).join(" ");return{gridTemplateColumns:e}}));return(t,n)=>(br(),kr("div",{class:H(["vc-header",{"is-lg":e.isLg,"is-xl":e.isXl,"is-2xl":e.is2xl}]),style:j(kt(f))},[kt(p).prev?(br(),kr("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!kt(r),onClick:n[0]||(n[0]=(...e)=>kt(s)&&kt(s)(...e)),onKeydown:n[1]||(n[1]=ho(((...e)=>kt(s)&&kt(s)(...e)),["space","enter"]))},[Ar(E1,{name:"header-prev-button",disabled:!kt(r)},{default:hn((()=>[Ar(Y1,{name:"ChevronLeft",size:"24"})])),_:1},8,["disabled"])],40,W1)):Lr("",!0),kt(p).title?(br(),kr("div",q1,[Ar(E1,{name:"header-title-wrapper"},{default:hn((()=>[pn((br(),kr("button",G1,[Ar(E1,{name:"header-title",title:e.page.title},{default:hn((()=>[Ir("span",null,Q(e.page.title),1)])),_:1},8,["title"])])),[[kt(q0),kt(c)]])])),_:1})])):Lr("",!0),kt(p).next?(br(),kr("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!kt(o),onClick:n[2]||(n[2]=(...e)=>kt(a)&&kt(a)(...e)),onKeydown:n[3]||(n[3]=ho(((...e)=>kt(a)&&kt(a)(...e)),["space","enter"]))},[Ar(E1,{name:"header-next-button",disabled:!kt(o)},{default:hn((()=>[Ar(Y1,{name:"ChevronRight",size:"24"})])),_:1},8,["disabled"])],40,K1)):Lr("",!0)],6))}}),Q1=Symbol("__vc_page_context__");function J1(){const e=Ii(Q1);if(e)return e;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const Z1={class:"vc-nav-header"},e2=["disabled"],t2=["disabled"],n2={class:"vc-nav-items"},i2=["data-id","aria-label","disabled","onClick","onKeydown"],r2=Mn({__name:"CalendarNav",setup(e){const{masks:t,move:n}=m1(),{page:i,getMonthItems:r,getYearItems:s}=J1(),o=bt(!0),a=bt(i.value.year),l=bt(d(i.value.year)),c=bt(null);function u(){setTimeout((()=>{if(null==c.value)return;const e=c.value.querySelector(".vc-nav-item:not(:disabled)");e&&e.focus()}),10)}function d(e){return Math.floor(e/12)}function h(){o.value=!o.value}function p(e){return 12*e}function f(e){return 12*(e+1)-1}function g(){D.value&&(o.value&&a.value--,l.value--)}function m(){I.value&&(o.value&&a.value++,l.value++)}const v=is((()=>r(a.value,t.value.navMonths).map((e=>({...e,click:()=>n({month:e.month,year:e.year},{position:i.value.position})}))))),y=is((()=>r(a.value-1,t.value.navMonths))),b=is((()=>y.value.some((e=>!e.isDisabled)))),w=is((()=>r(a.value+1,t.value.navMonths))),x=is((()=>w.value.some((e=>!e.isDisabled)))),_=is((()=>s(p(l.value),f(l.value)).map((e=>({...e,click:()=>{a.value=e.year,o.value=!0,u()}}))))),k=is((()=>s(p(l.value-1),f(l.value-1)))),E=is((()=>k.value.some((e=>!e.isDisabled)))),C=is((()=>s(p(l.value+1),f(l.value+1)))),S=is((()=>C.value.some((e=>!e.isDisabled)))),T=is((()=>o.value?v.value:_.value)),D=is((()=>o.value?b.value:E.value)),I=is((()=>o.value?x.value:S.value)),A=is((()=>_J(_.value.map((e=>e.year))))),M=is((()=>kJ(_.value.map((e=>e.year))))),P=is((()=>o.value?a.value:`${A.value} - ${M.value}`));return Zi((()=>{a.value=i.value.year,u()})),er((()=>a.value),(e=>l.value=d(e))),$n((()=>u())),(e,t)=>(br(),kr("div",{class:"vc-nav-container",ref_key:"navContainer",ref:c},[Ir("div",Z1,[Ir("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!kt(D),onClick:g,onKeydown:t[0]||(t[0]=e=>kt(LJ)(e,g))},[Ar(E1,{name:"nav-prev-button",move:g,disabled:!kt(D)},{default:hn((()=>[Ar(Y1,{name:"ChevronLeft",width:"22px",height:"24px"})])),_:1},8,["disabled"])],40,e2),Ir("button",{type:"button",class:"vc-nav-title vc-focus",onClick:h,onKeydown:t[1]||(t[1]=e=>kt(LJ)(e,h))},Q(kt(P)),33),Ir("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!kt(I),onClick:m,onKeydown:t[2]||(t[2]=e=>kt(LJ)(e,m))},[Ar(E1,{name:"nav-next-button",move:m,disabled:!kt(I)},{default:hn((()=>[Ar(Y1,{name:"ChevronRight",width:"22px",height:"24px"})])),_:1},8,["disabled"])],40,t2)]),Ir("div",n2,[(br(!0),kr(pr,null,ri(kt(T),(e=>(br(),kr("button",{key:e.label,type:"button","data-id":e.id,"aria-label":e.ariaLabel,class:H(["vc-nav-item vc-focus",[e.isActive?"is-active":e.isCurrent?"is-current":""]]),disabled:e.isDisabled,onClick:e.click,onKeydown:t=>kt(LJ)(t,e.click)},Q(e.label),43,i2)))),128))])],512))}}),s2=Mn({__name:"CalendarPageProvider",props:{page:null},setup:e=>(function(e){const{locale:t,getDateAddress:n,canMove:i}=m1();Di(Q1,{page:e,getMonthItems:function(r,s){const{month:o,year:a}=n(new Date);return R0().map(((n,l)=>{const c=l+1;return{month:c,year:r,id:kZ(c,r),label:t.value.formatDate(n,s),ariaLabel:t.value.formatDate(n,"MMMM"),isActive:c===e.value.month&&r===e.value.year,isCurrent:c===o&&r===a,isDisabled:!i({month:c,year:r},{position:e.value.position})}}))},getYearItems:function(t,r){const{year:s}=n(new Date),{position:o}=e.value,a=[];for(let n=t;n<=r;n+=1){const t=[...Array(12).keys()].some((e=>i({month:e+1,year:n},{position:o})));a.push({year:n,id:n.toString(),label:n.toString(),ariaLabel:n.toString(),isActive:n===e.value.year,isCurrent:n===s,isDisabled:!t})}return a}})}(It(e,"page")),(e,t)=>si(e.$slots,"default"))}),o2=Mn({__name:"CalendarNavPopover",setup(e){const{navPopoverId:t,color:n,displayMode:i}=m1();return(e,r)=>(br(),Er(b1,{id:kt(t),class:H(["vc-nav-popover-container",`vc-${kt(n)}`,`vc-${kt(i)}`])},{default:hn((({data:e})=>[Ar(s2,{page:e.page},{default:hn((()=>[Ar(E1,{name:"nav"},{default:hn((()=>[Ar(r2)])),_:1})])),_:2},1032,["page"])])),_:1},8,["id","class"]))}}),a2=Mn({directives:{popover:q0},components:{CalendarSlot:E1},props:{day:{type:Object,required:!0}},setup(e){const{locale:t,theme:n,attributeContext:i,dayPopoverId:r,onDayClick:s,onDayMouseenter:o,onDayMouseleave:a,onDayFocusin:l,onDayFocusout:c,onDayKeydown:u}=m1(),d=is((()=>e.day)),h=is((()=>i.value.getCells(d.value))),p=is((()=>h.value.map((e=>e.data)))),f=is((()=>({...d.value,attributes:p.value,attributeCells:h.value}))),g=is((()=>{const e={...n.value.prepareRender({}),popovers:[]};return h.value.forEach((t=>{n.value.render(t,e),function({data:e},{popovers:t}){const{key:n,customData:i,popover:r}=e;if(!r)return;const s=mQ({key:n,customData:i,attribute:e},{...r},{visibility:r.label?"hover":"click",placement:"bottom",isInteractive:!r.label});t.splice(0,0,s)}(t,e)})),e})),m=is((()=>g.value.highlights)),v=is((()=>!!AJ(m.value))),y=is((()=>g.value.content)),b=is((()=>g.value.dots)),w=is((()=>!!AJ(b.value))),x=is((()=>g.value.bars)),_=is((()=>!!AJ(x.value))),k=is((()=>g.value.popovers)),E=is((()=>k.value.map((e=>e.attribute)))),C=h1("day-content"),S=is((()=>["vc-day",...d.value.classes,{"vc-day-box-center-center":!C},{"is-not-in-month":!e.day.inMonth}])),T=is((()=>{let e;return e=d.value.isFocusable?"0":"-1",{class:["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":d.value.isDisabled},XK(kJ(m.value),"contentClass"),XK(kJ(y.value),"class")||""],style:{...XK(kJ(m.value),"contentStyle"),...XK(kJ(y.value),"style")},tabindex:e,"aria-label":d.value.ariaLabel,"aria-disabled":!!d.value.isDisabled,role:"button"}})),D=is((()=>({click(e){s(f.value,e)},mouseenter(e){o(f.value,e)},mouseleave(e){a(f.value,e)},focusin(e){l(f.value,e)},focusout(e){c(f.value,e)},keydown(e){u(f.value,e)}}))),I=is((()=>AJ(k.value)?mQ({id:r.value,data:{day:d,attributes:E.value}},...k.value):null));return{attributes:p,attributeCells:h,bars:x,dayClasses:S,dayContentProps:T,dayContentEvents:D,dayPopover:I,glyphs:g,dots:b,hasDots:w,hasBars:_,highlights:m,hasHighlights:v,locale:t,popovers:k}}}),l2={key:0,class:"vc-highlights vc-day-layer"},c2={key:1,class:"vc-day-layer vc-day-box-center-bottom"},u2={class:"vc-dots"},d2={key:2,class:"vc-day-layer vc-day-box-center-bottom"},h2={class:"vc-bars"},p2=y1(a2,[["render",function(e,t,n,i,r,s){const o=Zn("CalendarSlot"),a=ni("directives","popover");return br(),kr("div",{class:H(e.dayClasses)},[e.hasHighlights?(br(),kr("div",l2,[(br(!0),kr(pr,null,ri(e.highlights,(({key:e,wrapperClass:t,class:n,style:i})=>(br(),kr("div",{key:e,class:H(t)},[Ir("div",{class:H(n),style:j(i)},null,6)],2)))),128))])):Lr("",!0),Ar(o,{name:"day-content",day:e.day,attributes:e.attributes,"attribute-cells":e.attributeCells,dayProps:e.dayContentProps,dayEvents:e.dayContentEvents,locale:e.locale},{default:hn((()=>[pn((br(),kr("div",jr(e.dayContentProps,ai(e.dayContentEvents,!0)),[Or(Q(e.day.label),1)],16)),[[a,e.dayPopover]])])),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),e.hasDots?(br(),kr("div",c2,[Ir("div",u2,[(br(!0),kr(pr,null,ri(e.dots,(({key:e,class:t,style:n})=>(br(),kr("span",{key:e,class:H(t),style:j(n)},null,6)))),128))])])):Lr("",!0),e.hasBars?(br(),kr("div",d2,[Ir("div",h2,[(br(!0),kr(pr,null,ri(e.bars,(({key:e,class:t,style:n})=>(br(),kr("span",{key:e,class:H(t),style:j(n)},null,6)))),128))])])):Lr("",!0)],2)}]]),f2={class:"vc-weekdays"},g2=["onClick"],m2=Mn({components:{CalendarHeader:X1,CalendarPage:Mn({inheritAttrs:!1,__name:"CalendarPage",setup(e){const{page:t}=J1(),{onWeeknumberClick:n}=m1();return(e,i)=>(br(),kr("div",{class:H(["vc-pane",`row-${kt(t).row}`,`row-from-end-${kt(t).rowFromEnd}`,`column-${kt(t).column}`,`column-from-end-${kt(t).columnFromEnd}`]),ref:"pane"},[Ar(X1,{page:kt(t),"is-lg":"","hide-arrows":""},null,8,["page"]),Ir("div",{class:H(["vc-weeks",{[`vc-show-weeknumbers-${kt(t).weeknumberPosition}`]:kt(t).weeknumberPosition}])},[Ir("div",f2,[(br(!0),kr(pr,null,ri(kt(t).weekdays,(({weekday:e,label:t},n)=>(br(),kr("div",{key:n,class:H(`vc-weekday vc-weekday-${e}`)},Q(t),3)))),128))]),(br(!0),kr(pr,null,ri(kt(t).viewWeeks,(e=>(br(),kr("div",{key:`weeknumber-${e.weeknumber}`,class:"vc-week"},[kt(t).weeknumberPosition?(br(),kr("div",{key:0,class:H(["vc-weeknumber",`is-${kt(t).weeknumberPosition}`])},[Ir("span",{class:H(["vc-weeknumber-content"]),onClick:t=>kt(n)(e,t)},Q(e.weeknumberDisplay),9,g2)],2)):Lr("",!0),(br(!0),kr(pr,null,ri(e.days,(e=>(br(),Er(p2,{key:e.id,day:e},null,8,["day"])))),128))])))),128))],2)],2))}}),CalendarNavPopover:o2,CalendarDayPopover:T1,CalendarPageProvider:s2,CalendarSlot:E1},props:p1,emit:["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],setup:(e,{emit:t,slots:n})=>g1(e,{emit:t,slots:n})}),v2={class:"vc-pane-header-wrapper"},y2=y1(m2,[["render",function(e,t,n,i,r,s){const o=Zn("CalendarHeader"),a=Zn("CalendarPage"),l=Zn("CalendarSlot"),c=Zn("CalendarPageProvider"),u=Zn("CalendarDayPopover"),d=Zn("CalendarNavPopover");return br(),kr(pr,null,[Ir("div",jr({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},e.$attrs,{class:["vc-container",`vc-${e.view}`,`vc-${e.color}`,`vc-${e.displayMode}`,{"vc-expanded":e.expanded,"vc-bordered":!e.borderless,"vc-transparent":e.transparent}],onMouseup:t[0]||(t[0]=co((()=>{}),["prevent"])),ref:"containerRef"}),[Ir("div",{class:H(["vc-pane-container",{"in-transition":e.inTransition}])},[Ir("div",v2,[e.firstPage?(br(),Er(o,{key:0,page:e.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):Lr("",!0)]),Ar(vs,{name:`vc-${e.transitionName}`,onBeforeEnter:e.onTransitionBeforeEnter,onAfterEnter:e.onTransitionAfterEnter},{default:hn((()=>[(br(),kr("div",{key:e.pages[0].id,class:"vc-pane-layout",style:j({gridTemplateColumns:`repeat(${e.columns}, 1fr)`})},[(br(!0),kr(pr,null,ri(e.pages,(e=>(br(),Er(c,{key:e.id,page:e},{default:hn((()=>[Ar(l,{name:"page",page:e},{default:hn((()=>[Ar(a)])),_:2},1032,["page"])])),_:2},1032,["page"])))),128))],4))])),_:1},8,["name","onBeforeEnter","onAfterEnter"]),Ar(l,{name:"footer"})],2)],16),Ar(u),Ar(d)],64)}]]),b2=Symbol("__vc_date_picker_context__"),w2={...l1,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>VZ("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>VZ("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]};function x2(){const e=Ii(b2);if(e)return e;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const _2=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],k2=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];const E2=["value"],C2=["value","disabled"],S2={key:1,class:"vc-base-sizer","aria-hidden":"true"},T2=Mn({inheritAttrs:!1,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(e){const t=e,n=is((()=>{const e=t.options.find((e=>e.value===t.modelValue));return null==e?void 0:e.label}));return(t,i)=>(br(),kr("div",{class:H(["vc-base-select",{"vc-fit-content":e.fitContent,"vc-has-icon":e.showIcon}])},[Ir("select",jr(t.$attrs,{value:e.modelValue,class:["vc-focus",{"vc-align-right":e.alignRight,"vc-align-left":e.alignLeft}],onChange:i[0]||(i[0]=e=>t.$emit("update:modelValue",e.target.value))}),[(br(!0),kr(pr,null,ri(e.options,(e=>(br(),kr("option",{key:e.value,value:e.value,disabled:e.disabled},Q(e.label),9,C2)))),128))],16,E2),e.showIcon?(br(),Er(Y1,{key:0,name:"ChevronDown",size:"18"})):Lr("",!0),e.fitContent?(br(),kr("div",S2,Q(kt(n)),1)):Lr("",!0)],2))}}),D2={key:0,class:"vc-time-header"},I2={class:"vc-time-weekday"},A2={class:"vc-time-month"},M2={class:"vc-time-day"},P2={class:"vc-time-year"},O2={class:"vc-time-select-group"},R2=Ir("span",{class:"vc-time-colon"},":",-1),L2=Ir("span",{class:"vc-time-colon"},":",-1),N2=Ir("span",{class:"vc-time-decimal"},".",-1),F2=Mn({__name:"TimePicker",props:{position:null},setup(e,{expose:t}){const n=function(e){const t=x2(),{locale:n,isRange:i,isTimeMode:r,dateParts:s,rules:o,is24hr:a,hideTimeHeader:l,timeAccuracy:c,updateValue:u}=t;function d(e){e=Object.assign(p.value,e);let t=null;t=i.value?{start:h.value?e:s.value[0],end:h.value?s.value[1]:e}:e,u(t,{patch:"time",targetPriority:h.value?"start":"end",moveToValue:!0})}const h=is((()=>0===e.position)),p=is((()=>s.value[e.position]||{isValid:!1})),f=is((()=>C0(p.value))),g=is((()=>!!p.value.isValid)),m=is((()=>!l.value&&g.value)),v=is((()=>{if(!f.value)return null;let e=n.value.toDate(p.value);return 24===p.value.hours&&(e=new Date(e.getTime()-1)),e})),y=is({get:()=>p.value.hours,set(e){d({hours:e})}}),b=is({get:()=>p.value.minutes,set(e){d({minutes:e})}}),w=is({get:()=>p.value.seconds,set(e){d({seconds:e})}}),x=is({get:()=>p.value.milliseconds,set(e){d({milliseconds:e})}}),_=is({get:()=>p.value.hours<12,set(e){e="true"==String(e).toLowerCase();let t=y.value;e&&t>=12?t-=12:!e&&t<12&&(t+=12),d({hours:t})}}),k=is((()=>function(e,t){return{milliseconds:F0(e,g0.milliseconds,t.milliseconds),seconds:F0(e,g0.seconds,t.seconds),minutes:F0(e,g0.minutes,t.minutes),hours:F0(e,g0.hours,t.hours)}}(p.value,o.value[e.position]))),E=is((()=>_2.filter((e=>k.value.hours.some((t=>t.value===e.value)))))),C=is((()=>k2.filter((e=>k.value.hours.some((t=>t.value===e.value)))))),S=is((()=>a.value?k.value.hours:_.value?E.value:C.value)),T=is((()=>{const e=[];return AJ(E.value)&&e.push({value:!0,label:"AM"}),AJ(C.value)&&e.push({value:!1,label:"PM"}),e}));return{...t,showHeader:m,timeAccuracy:c,parts:p,isValid:g,date:v,hours:y,minutes:b,seconds:w,milliseconds:x,options:k,hourOptions:S,isAM:_,isAMOptions:T,is24hr:a}}(e);t(n);const{locale:i,isValid:r,date:s,hours:o,minutes:a,seconds:l,milliseconds:c,options:u,hourOptions:d,isTimeMode:h,isAM:p,isAMOptions:f,is24hr:g,showHeader:m,timeAccuracy:v}=n;return(e,t)=>(br(),kr("div",{class:H(["vc-time-picker",[{"vc-invalid":!kt(r),"vc-attached":!kt(h)}]])},[Ar(E1,{name:"time-header"},{default:hn((()=>[kt(m)&&kt(s)?(br(),kr("div",D2,[Ir("span",I2,Q(kt(i).formatDate(kt(s),"WWW")),1),Ir("span",A2,Q(kt(i).formatDate(kt(s),"MMM")),1),Ir("span",M2,Q(kt(i).formatDate(kt(s),"D")),1),Ir("span",P2,Q(kt(i).formatDate(kt(s),"YYYY")),1)])):Lr("",!0)])),_:1}),Ir("div",O2,[Ar(Y1,{name:"Clock",size:"17"}),Ar(T2,{modelValue:kt(o),"onUpdate:modelValue":t[0]||(t[0]=e=>yt(o)?o.value=e:null),modelModifiers:{number:!0},options:kt(d),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),kt(v)>1?(br(),kr(pr,{key:0},[R2,Ar(T2,{modelValue:kt(a),"onUpdate:modelValue":t[1]||(t[1]=e=>yt(a)?a.value=e:null),modelModifiers:{number:!0},options:kt(u).minutes,class:"vc-time-select-minutes","align-left":2===kt(v)},null,8,["modelValue","options","align-left"])],64)):Lr("",!0),kt(v)>2?(br(),kr(pr,{key:1},[L2,Ar(T2,{modelValue:kt(l),"onUpdate:modelValue":t[2]||(t[2]=e=>yt(l)?l.value=e:null),modelModifiers:{number:!0},options:kt(u).seconds,class:"vc-time-select-seconds","align-left":3===kt(v)},null,8,["modelValue","options","align-left"])],64)):Lr("",!0),kt(v)>3?(br(),kr(pr,{key:2},[N2,Ar(T2,{modelValue:kt(c),"onUpdate:modelValue":t[3]||(t[3]=e=>yt(c)?c.value=e:null),modelModifiers:{number:!0},options:kt(u).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):Lr("",!0),kt(g)?Lr("",!0):(br(),Er(T2,{key:3,modelValue:kt(p),"onUpdate:modelValue":t[4]||(t[4]=e=>yt(p)?p.value=e:null),options:kt(f)},null,8,["modelValue","options"]))])],2))}}),V2=Mn({__name:"DatePickerBase",setup(e){const{attributes:t,calendarRef:n,color:i,displayMode:r,isDateTimeMode:s,isTimeMode:o,isRange:a,onDayClick:l,onDayMouseEnter:c,onDayKeydown:u}=x2(),d=a.value?[0,1]:[0];return(e,a)=>kt(o)?(br(),kr("div",{key:0,class:H(`vc-container vc-bordered vc-${kt(i)} vc-${kt(r)}`)},[(br(!0),kr(pr,null,ri(kt(d),(e=>(br(),Er(F2,{key:e,position:e},null,8,["position"])))),128))],2)):(br(),Er(y2,{key:1,attributes:kt(t),ref_key:"calendarRef",ref:n,onDayclick:kt(l),onDaymouseenter:kt(c),onDaykeydown:kt(u)},{footer:hn((()=>[kt(s)?(br(!0),kr(pr,{key:0},ri(kt(d),(e=>(br(),Er(F2,{key:e,position:e},null,8,["position"])))),128)):Lr("",!0),Ar(E1,{name:"dp-footer"})])),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),j2=Mn({inheritAttrs:!1,__name:"DatePickerPopover",setup(e){const{datePickerPopoverId:t,color:n,displayMode:i,popoverRef:r,onPopoverBeforeShow:s,onPopoverAfterShow:o,onPopoverBeforeHide:a,onPopoverAfterHide:l}=x2();return(e,c)=>(br(),Er(b1,{id:kt(t),placement:"bottom-start",class:H(`vc-date-picker-content vc-${kt(n)} vc-${kt(i)}`),ref_key:"popoverRef",ref:r,onBeforeShow:kt(s),onAfterShow:kt(o),onBeforeHide:kt(a),onAfterHide:kt(l)},{default:hn((()=>[Ar(V2,Y(Mr(e.$attrs)),null,16)])),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),B2=y1(Mn({inheritAttrs:!1,emits:["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"],props:w2,components:{DatePickerBase:V2,DatePickerPopover:j2},setup(e,t){const n=function(e,{emit:t,slots:n}){d1(n,{footer:"dp-footer"});const i=c1(e),{locale:r,masks:s,disabledAttribute:o}=i,a=bt(!1),l=bt(Symbol()),c=bt(null),u=bt(null),d=bt(["",""]),h=bt(null),p=bt(null);let f,g,m=!0;const v=is((()=>e.isRange||!0===e.modelModifiers.range)),y=is((()=>v.value&&null!=c.value?c.value.start:null)),b=is((()=>v.value&&null!=c.value?c.value.end:null)),w=is((()=>"date"===e.mode.toLowerCase())),x=is((()=>"datetime"===e.mode.toLowerCase())),_=is((()=>"time"===e.mode.toLowerCase())),k=is((()=>!!u.value)),E=is((()=>{let t="date";return e.modelModifiers.number&&(t="number"),e.modelModifiers.string&&(t="string"),V({type:t,mask:s.value.modelValue||"iso"})})),C=is((()=>{return e=u.value??c.value,v.value?[e&&e.start?r.value.getDateParts(e.start):null,e&&e.end?r.value.getDateParts(e.end):null]:[e?r.value.getDateParts(e):null];var e})),S=is((()=>_.value?e.is24hr?s.value.inputTime24hr:s.value.inputTime:x.value?e.is24hr?s.value.inputDateTime24hr:s.value.inputDateTime:s.value.input)),T=is((()=>/[Hh]/g.test(S.value))),D=is((()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(S.value))),I=is((()=>T.value&&D.value?"dateTime":D.value?"date":T.value?"time":void 0)),A=is((()=>{var t;const n=(null==(t=h.value)?void 0:t.$el.previousElementSibling)??void 0;return xJ({},e.popover,VZ("datePicker.popover"),{target:n})})),M=is((()=>H0({...A.value,id:l.value}))),P=is((()=>v.value?{start:d.value[0],end:d.value[1]}:d.value[0])),O=is((()=>{const t=["start","end"].map((t=>({input:X(t),change:Q(t),keyup:J,...e.popover&&M.value})));return v.value?{start:t[0],end:t[1]}:t[0]})),R=is((()=>{if(!z(c.value))return null;const t={key:"select-drag",...e.selectAttribute,dates:c.value,pinPage:!0},{dot:n,bar:i,highlight:r,content:s}=t;return n||i||r||s||(t.highlight=!0),t})),L=is((()=>{if(!v.value||!z(u.value))return null;const t={key:"select-drag",...e.dragAttribute,dates:u.value},{dot:n,bar:i,highlight:r,content:s}=t;return n||i||r||s||(t.highlight={startEnd:{fillMode:"outline"}}),t})),N=is((()=>{const t=IJ(e.attributes)?[...e.attributes]:[];return L.value?t.unshift(L.value):R.value&&t.unshift(R.value),t})),F=is((()=>V("auto"===e.rules?function(){const t={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},n=w.value?0:e.timeAccuracy;return[0,1].map((e=>{switch(n){case 0:return{hours:t.hr[e],minutes:t.min[e],seconds:t.sec[e],milliseconds:t.ms[e]};case 1:return{minutes:t.min[e],seconds:t.sec[e],milliseconds:t.ms[e]};case 3:return{milliseconds:t.ms[e]};case 4:return{};default:return{seconds:t.sec[e],milliseconds:t.ms[e]}}}))}():e.rules??{})));function V(e){return IJ(e)?1===e.length?[e[0],e[0]]:e:[e,e]}function j(e){return V(e).map(((e,t)=>({...e,rules:F.value[t]})))}function B(e){return null!=e&&(LX(e)?!isNaN(e):EJ(e)?!isNaN(e.getTime()):Hq(e)?""!==e:C0(e))}function U(e){return CJ(e)&&"start"in e&&"end"in e&&B(e.start??null)&&B(e.end??null)}function z(e){return U(e)||B(e)}function $(e,t){if(null==e&&null==t)return!0;if(null==e||null==t)return!1;const n=EJ(e),i=EJ(t);return n&&i?e.getTime()===t.getTime():!n&&!i&&$(e.start,t.start)&&$(e.end,t.end)}function H(e,t,n,i){return z(e)?U(e)?te({start:r.value.toDate(e.start,{...t[0],fillDate:y.value??void 0,patch:n}),end:r.value.toDate(e.end,{...t[1],fillDate:b.value??void 0,patch:n})},i):r.value.toDateOrNull(e,{...t[0],fillDate:c.value,patch:n}):null}function Y(e,t){return U(e)?{start:r.value.fromDate(e.start,t[0]),end:r.value.fromDate(e.end,t[1])}:v.value?null:r.value.fromDate(e,t[0])}function W(e,t={}){return clearTimeout(f),new Promise((n=>{const{debounce:i=0,...r}=t;i>0?f=window.setTimeout((()=>{n(q(e,r))}),i):n(q(e,r))}))}function q(n,{config:i=E.value,patch:s="dateTime",clearIfEqual:a=!1,formatInput:l=!0,hidePopover:d=!1,dragging:h=k.value,targetPriority:p,moveToValue:f=!1}={}){let g=H(n,j(i),s,p);const v=function(e){return!(!z(e)||!o.value)&&o.value.intersectsRange(r.value.range(e))}(g);if(v){if(h)return null;g=c.value,d=!1}else null==g&&e.isRequired?g=c.value:null!=g&&$(c.value,g)&&a&&(g=null);const y=h?u:c,b=!$(y.value,g);y.value=g,h||(u.value=null);const w=Y(g,E.value);return b&&(m=!1,t(h?"drag":"update:modelValue",w),Wt((()=>m=!0))),d&&!h&&ee(),l&&G(),f&&Wt((()=>ne(p??"start"))),w}function G(){Wt((()=>{const e=j({type:"string",mask:S.value}),t=Y(u.value??c.value,e);v.value?d.value=[t&&t.start,t&&t.end]:d.value=[t,""]}))}function K(e,t,n){d.value.splice("start"===t?0:1,1,e),W(v.value?{start:d.value[0],end:d.value[1]||d.value[0]}:e,{...n,config:{type:"string",mask:S.value},patch:I.value,targetPriority:t,moveToValue:!0})}function X(t){return n=>{e.updateOnInput&&K(n.currentTarget.value,t,{formatInput:!1,hidePopover:!1,debounce:e.inputDebounce})}}function Q(e){return t=>{K(t.currentTarget.value,e,{formatInput:!0,hidePopover:!1})}}function J(e){"Escape"===e.key&&W(c.value,{formatInput:!0,hidePopover:!0})}function Z(t){const n={patch:"date",formatInput:!0,hidePopover:!0};if(v.value){const e=!k.value;e?g={start:t.startDate,end:t.endDate}:null!=g&&(g.end=t.date),W(g,{...n,dragging:e})}else W(t.date,{...n,clearIfEqual:!e.isRequired})}function ee(e={}){z0({hideDelay:10,force:!0,...A.value,...e,id:l.value})}function te(e,t){const{start:n,end:i}=e;if(n>i)switch(t){case"start":return{start:n,end:n};case"end":return{start:i,end:i};default:return{start:i,end:n}}return{start:n,end:i}}async function ne(e,t={}){const n=c.value;if(null==p.value||!z(n))return!1;const i="end"!==e,s=i?1:-1,o=EZ(U(n)?i?n.start:n.end:n,"monthly",r.value);return p.value.move(o,{position:s,...t})}er((()=>e.isRange),(e=>{e&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")}),{immediate:!0}),er((()=>v.value),(()=>{q(null,{formatInput:!0})})),er((()=>S.value),(()=>G())),er((()=>e.modelValue),(e=>{m&&q(e,{formatInput:!0,hidePopover:!1})})),er((()=>F.value),(()=>{CJ(e.rules)&&q(e.modelValue,{formatInput:!0,hidePopover:!1})})),er((()=>e.timezone),(()=>{q(c.value,{formatInput:!0})}));const ie=V(E.value);c.value=H(e.modelValue??null,ie,"dateTime"),$n((()=>{q(e.modelValue,{formatInput:!0,hidePopover:!1})})),Wt((()=>a.value=!0));const re={...i,showCalendar:a,datePickerPopoverId:l,popoverRef:h,popoverEvents:M,calendarRef:p,isRange:v,isTimeMode:_,isDateTimeMode:x,is24hr:It(e,"is24hr"),hideTimeHeader:It(e,"hideTimeHeader"),timeAccuracy:It(e,"timeAccuracy"),isDragging:k,inputValue:P,inputEvents:O,dateParts:C,attributes:N,rules:F,move:async function(e,t={}){return null!=p.value&&p.value.move(e,t)},moveBy:async function(e,t={}){return null!=p.value&&p.value.moveBy(e,t)},moveToValue:ne,updateValue:W,showPopover:function(e={}){U0({...A.value,...e,isInteractive:!0,id:l.value})},hidePopover:ee,togglePopover:function(e){$0({...A.value,...e,isInteractive:!0,id:l.value})},onDayClick:function(e,n){Z(e),t("dayclick",e,n)},onDayKeydown:function(e,n){switch(n.key){case" ":case"Enter":Z(e),n.preventDefault();break;case"Escape":ee()}t("daykeydown",e,n)},onDayMouseEnter:function(e,t){k.value&&null!=g&&(g.end=e.date,W(te(g),{patch:"date",formatInput:!0}))},onPopoverBeforeShow:function(e){t("popover-will-show",e)},onPopoverAfterShow:function(e){t("popover-did-show",e)},onPopoverBeforeHide:function(e){u.value=null,G(),t("popover-will-hide",e)},onPopoverAfterHide:function(e){t("popover-did-hide",e)}};return Di(b2,re),re}(e,t),i=at(NJ(n,"calendarRef","popoverRef"));return{...n,slotCtx:i}}}),[["render",function(e,t,n,i,r,s){const o=Zn("DatePickerPopover"),a=Zn("DatePickerBase");return e.$slots.default?(br(),kr(pr,{key:0},[si(e.$slots,"default",Y(Mr(e.slotCtx))),Ar(o,Y(Mr(e.$attrs)),null,16)],64)):(br(),Er(a,Y(jr({key:1},e.$attrs)),null,16))}]]),U2=Object.freeze(Object.defineProperty({__proto__:null,Calendar:y2,DatePicker:B2,Popover:b1,PopoverRow:k1},Symbol.toStringTag,{value:"Module"})),z2={install:(e,t={})=>{e.use(jZ,t);const n=e.config.globalProperties.$VCalendar.componentPrefix;for(const t in U2){const i=U2[t];e.component(`${n}${t}`,i)}}};var $2=n(422),H2={};H2.styleTagTransform=Do(),H2.setAttributes=Eo(),H2.insert=_o().bind(null,"head"),H2.domAPI=wo(),H2.insertStyleElement=So(),yo()($2.A,H2),$2.A&&$2.A.locals&&$2.A.locals,hu({apiKey:"AIzaSyCSrywuN2Yh83BbaYLF4FyvvZWwYYaW8TY",authDomain:"home-control-3d7bb.firebaseapp.com",projectId:"home-control-3d7bb",storageBucket:"home-control-3d7bb.appspot.com",messagingSenderId:"254824748373",appId:"1:254824748373:web:6f53bc6c17dfb0478b0bdc",measurementId:"G-XW1PCW5CPM"});const Y2=((...e)=>{const t=(fo||(fo=function(e){return Yi(e)}(po))).createApp(...e),{mount:n}=t;return t.mount=e=>{const i=function(e){if(v(e))return document.querySelector(e);return e}(e);if(!i)return;const r=t._component;m(r)||r.render||r.template||(r.template=i.innerHTML),1===i.nodeType&&(i.textContent="");const s=n(i,!1,function(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t})(Po);Y2.use(Y$),Y2.use(z2,{}),Y2.mount("#app")})()})();